import{$ as B,$a as Ae,$b as wd,A as ld,Aa as Ee,Ab as Ue,B as Ha,Ba as Ne,Bb as kt,C as Ti,Ca as z_,Cb as Q_,D as O_,Da as Xa,Db as _r,E as M_,Ea as $_,Eb as vr,F as Ka,Fa as Lt,Fb as br,G as He,Ga as _t,Gb as Kt,H as ud,Ha as Jo,Hb as le,I as Gn,Ia as yn,Ib as X_,J as Ci,Ja as q_,Jb as cc,K as dd,Ka as Zo,Kb as lc,L as hd,La as $,Lb as uc,M as at,Ma as P,Mb as yr,N as N_,Na as es,Nb as J_,O as Ya,Oa as ts,Ob as dc,P as Ai,Pa as G_,Pb as hc,Q as Wn,Qa as Ja,Qb as bd,R as fd,Ra as Za,Rb as wr,S as F_,Sa as mr,Sb as yd,T as md,Ta as vd,Tb as Yt,U as Qa,Ua as J,Ub as Z_,V as Gt,Va as pr,Vb as bt,W as Et,Wa as $e,Wb as rs,X as _n,Xa as Ut,Xb as Ir,Y as Be,Ya as W_,Yb as ev,Z as xe,Za as H_,Zb as tv,_ as hr,_a as ns,_b as ie,a as F,aa as pe,ab as Je,ac as Xn,b as Ce,ba as V_,bb as de,bc as fc,ca as G,cb as Si,cc as mc,d as $n,da as pd,db as vt,dc as pc,e as b,ea as x,eb as ec,ec as ct,f as Ei,fa as M,fb as D,fc as nv,g as nd,ga as gt,gb as k,gc,h as It,ha as Xo,hb as ce,hc as Pe,i as id,ia as se,ib as tc,ic as iv,j as rd,ja as ae,jb as nc,jc as rv,k as be,ka as ge,kb as ic,kc as _c,l as pt,la as ye,lb as Yn,lc as vc,m as R_,ma as Tt,mb as rc,n as k_,na as L_,nb as ne,o as qn,oa as U_,ob as ke,p as od,pa as fr,pb as oc,q as sd,qa as vn,qb as gr,r as ad,ra as Ct,rb as sc,s as Xe,sa as Hn,sb as is,t as W,ta as Kn,tb as K_,u as Yo,ua as gd,ub as Qn,v as cd,va as j_,vb as Wt,w as P_,wa as bn,wb as Ht,x as te,xa as B_,xb as ac,y as Qo,ya as ze,yb as Y_,z as Rt,za as _d,zb as j}from"./chunk-JWI2PHYK.js";var ss=class{},yc=class{},xi=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(c=>o.indexOf(c)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ed=class{encodeKey(e){return ov(e)}encodeValue(e){return ov(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function eT(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,c]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(c),n.set(s,l)}),n}var tT=/%(\d[a-f0-9])/gi,nT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ov(t){return encodeURIComponent(t).replace(tT,(e,n)=>nT[n]??e)}function bc(t){return`${t}`}var Jn=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ed,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=eT(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(bc):[bc(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(bc(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(bc(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Td=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function iT(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function sv(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function av(t){return typeof Blob<"u"&&t instanceof Blob}function cv(t){return typeof FormData<"u"&&t instanceof FormData}function rT(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var os=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(iT(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new xi,this.context??=new Td,!this.params)this.params=new Jn,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let c=n.indexOf("?"),l=c===-1?"?":c<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||sv(this.body)||av(this.body)||cv(this.body)||rT(this.body)?this.body:this.body instanceof Jn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||cv(this.body)?null:av(this.body)?this.body.type||null:sv(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Jn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,d=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(d=Object.keys(e.setHeaders).reduce((y,A)=>y.set(A,e.setHeaders[A]),d)),e.setParams&&(f=Object.keys(e.setParams).reduce((y,A)=>y.set(A,e.setParams[A]),f)),new t(n,i,s,{params:f,headers:d,context:p,reportProgress:l,responseType:r,withCredentials:c,transferCache:o})}},Er=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Er||{}),as=class{constructor(e,n=Ec.Ok,i="OK"){this.headers=e.headers||new xi,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Cd=class t extends as{constructor(e={}){super(e),this.type=Er.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wc=class t extends as{constructor(e={}){super(e),this.type=Er.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ic=class extends as{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ec=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Ec||{});function Id(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Ad=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof os)s=i;else{let d;o.headers instanceof xi?d=o.headers:d=new xi(o.headers);let f;o.params&&(o.params instanceof Jn?f=o.params:f=new Jn({fromObject:o.params})),s=new os(i,r,o.body!==void 0?o.body:null,{headers:d,context:o.context,params:f,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let c=W(s).pipe(Ci(d=>this.handler.handle(d)));if(i instanceof os||o.observe==="events")return c;let l=c.pipe(He(d=>d instanceof wc));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(te(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(te(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(te(d=>{if(d.body!==null&&typeof d.body!="string")throw new Error("Response is not a string.");return d.body}));case"json":default:return l.pipe(te(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new Jn().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,Id(o,r))}post(i,r,o={}){return this.request("POST",i,Id(o,r))}put(i,r,o={}){return this.request("PUT",i,Id(o,r))}};e.\u0275fac=function(r){return new(r||e)(x(ss))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function hv(t,e){return e(t)}function oT(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function sT(t,e,n){return(i,r)=>vn(n,()=>e(i,o=>t(o,r)))}var aT=new G(""),Sd=new G(""),cT=new G(""),lT=new G("");function uT(){let t=null;return(e,n)=>{t===null&&(t=(M(aT,{optional:!0})??[]).reduceRight(oT,hv));let i=M(ns),r=i.add();return t(e,n).pipe(Ai(()=>i.remove(r)))}}var lv=(()=>{let e=class e extends ss{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=M(ns);let o=M(lT,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Sd),...this.injector.get(cT,[])]));this.chain=o.reduceRight((s,c)=>sT(s,c,this.injector),hv)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(Ai(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(x(yc),x(fr))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();var dT=/^\)\]\}',?\n/;function hT(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var uv=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new xe(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Xe(r.\u0275loadImpl()):W(null)).pipe(Et(()=>new It(s=>{let c=r.build();if(c.open(i.method,i.urlWithParams),i.withCredentials&&(c.withCredentials=!0),i.headers.forEach((R,z)=>c.setRequestHeader(R,z.join(","))),i.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let R=i.detectContentTypeHeader();R!==null&&c.setRequestHeader("Content-Type",R)}if(i.responseType){let R=i.responseType.toLowerCase();c.responseType=R!=="json"?R:"text"}let l=i.serializeBody(),d=null,f=()=>{if(d!==null)return d;let R=c.statusText||"OK",z=new xi(c.getAllResponseHeaders()),Y=hT(c)||i.url;return d=new Cd({headers:z,status:c.status,statusText:R,url:Y}),d},p=()=>{let{headers:R,status:z,statusText:Y,url:ue}=f(),oe=null;z!==Ec.NoContent&&(oe=typeof c.response>"u"?c.responseText:c.response),z===0&&(z=oe?Ec.Ok:0);let We=z>=200&&z<300;if(i.responseType==="json"&&typeof oe=="string"){let we=oe;oe=oe.replace(dT,"");try{oe=oe!==""?JSON.parse(oe):null}catch(I){oe=we,We&&(We=!1,oe={error:I,text:oe})}}We?(s.next(new wc({body:oe,headers:R,status:z,statusText:Y,url:ue||void 0})),s.complete()):s.error(new Ic({error:oe,headers:R,status:z,statusText:Y,url:ue||void 0}))},y=R=>{let{url:z}=f(),Y=new Ic({error:R,status:c.status||0,statusText:c.statusText||"Unknown Error",url:z||void 0});s.error(Y)},A=!1,O=R=>{A||(s.next(f()),A=!0);let z={type:Er.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(z.total=R.total),i.responseType==="text"&&c.responseText&&(z.partialText=c.responseText),s.next(z)},V=R=>{let z={type:Er.UploadProgress,loaded:R.loaded};R.lengthComputable&&(z.total=R.total),s.next(z)};return c.addEventListener("load",p),c.addEventListener("error",y),c.addEventListener("timeout",y),c.addEventListener("abort",y),i.reportProgress&&(c.addEventListener("progress",O),l!==null&&c.upload&&c.upload.addEventListener("progress",V)),c.send(l),s.next({type:Er.Sent}),()=>{c.removeEventListener("error",y),c.removeEventListener("abort",y),c.removeEventListener("load",p),c.removeEventListener("timeout",y),i.reportProgress&&(c.removeEventListener("progress",O),l!==null&&c.upload&&c.upload.removeEventListener("progress",V)),c.readyState!==c.DONE&&c.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(x(vc))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),fv=new G(""),fT="XSRF-TOKEN",mT=new G("",{providedIn:"root",factory:()=>fT}),pT="X-XSRF-TOKEN",gT=new G("",{providedIn:"root",factory:()=>pT}),Tc=class{},_T=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=fc(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(x(ie),x(Lt),x(mT))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function vT(t,e){let n=t.url.toLowerCase();if(!M(fv)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=M(Tc).getToken(),r=M(gT);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var mv=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(mv||{});function bT(t,e){return{\u0275kind:t,\u0275providers:e}}function xd(...t){let e=[Ad,uv,lv,{provide:ss,useExisting:lv},{provide:yc,useExisting:uv},{provide:Sd,useValue:vT,multi:!0},{provide:fv,useValue:!0},{provide:Tc,useClass:_T}];for(let n of t)e.push(...n.\u0275providers);return Tt(e)}var dv=new G("");function yT(){return bT(mv.LegacyInterceptors,[{provide:dv,useFactory:uT},{provide:Sd,useExisting:dv,multi:!0}])}var pv=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({providers:[xd(yT())]});let t=e;return t})();var kd=class extends tv{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Pd=class t extends kd{static makeCurrent(){ev(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=ET();return n==null?null:TT(n)}resetBaseElement(){cs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fc(document.cookie,e)}},cs=null;function ET(){return cs=cs||document.querySelector("base"),cs?cs.getAttribute("href"):null}function TT(t){return new URL(t,document.baseURI).pathname}var CT=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Od=new G(""),vv=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new xe(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(x(Od),x(J))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Cc=class{constructor(e){this._doc=e}},Dd="ng-app-id",bv=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=_c(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Dd}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(Dd),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=r,this.platformIsServer&&c.setAttribute(Dd,this.appId),i.appendChild(c),c}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,c=s.get(r)?.elements;c?c.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(x(ie),x(Xa),x(Jo,8),x(Lt))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),Rd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Nd=/%COMP%/g,yv="%COMP%",AT=`_nghost-${yv}`,ST=`_ngcontent-${yv}`,xT=!0,DT=new G("",{providedIn:"root",factory:()=>xT});function RT(t){return ST.replace(Nd,t)}function kT(t){return AT.replace(Nd,t)}function wv(t,e){return e.map(n=>n.replace(Nd,t))}var Ac=(()=>{let e=class e{constructor(i,r,o,s,c,l,d,f=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=l,this.ngZone=d,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=_c(l),this.defaultRenderer=new ls(i,c,d,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xo.ShadowDom&&(r=Ce(F({},r),{encapsulation:Xo.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Sc?o.applyToHost(i):o instanceof us&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let c=this.doc,l=this.ngZone,d=this.eventManager,f=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer;switch(r.encapsulation){case Xo.Emulated:s=new Sc(d,f,r,this.appId,p,c,l,y);break;case Xo.ShadowDom:return new Md(d,f,i,r,c,l,this.nonce,y);default:s=new us(d,f,r,p,c,l,y);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(x(vv),x(bv),x(Xa),x(DT),x(ie),x(Lt),x(J),x(Jo))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),ls=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Rd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(gv(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(gv(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new xe(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=Rd[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Rd[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Zo.DashCase|Zo.Important)?e.style.setProperty(n,i,r&Zo.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Zo.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=Ir().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function gv(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Md=class extends ls{constructor(e,n,i,r,o,s,c,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=wv(r.id,r.styles);for(let f of d){let p=document.createElement("style");c&&p.setAttribute("nonce",c),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},us=class extends ls{constructor(e,n,i,r,o,s,c,l){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?wv(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Sc=class extends us{constructor(e,n,i,r,o,s,c,l){let d=r+"-"+i.id;super(e,n,i,o,s,c,l,d),this.contentAttr=RT(d),this.hostAttr=kT(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},PT=(()=>{let e=class e extends Cc{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(x(ie))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),_v=["alt","control","meta","shift"],OT={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},MT={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},NT=(()=>{let e=class e extends Cc{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ir().onAndCancel(i,s.domEventName,c))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),c="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),c="code."),_v.forEach(f=>{let p=r.indexOf(f);p>-1&&(r.splice(p,1),c+=f+".")}),c+=s,r.length!=0||s.length===0)return null;let d={};return d.domEventName=o,d.fullKey=c,d}static matchEventFullKeyCode(i,r){let o=OT[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),_v.forEach(c=>{if(c!==o){let l=MT[c];l(i)&&(s+=c+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(x(ie))},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})();function Iv(t,e){return Z_(F({rootComponent:t},FT(e)))}function FT(t){return{appProviders:[...BT,...t?.providers??[]],platformProviders:jT}}function VT(){Pd.makeCurrent()}function LT(){return new _d}function UT(){return z_(document),document}var jT=[{provide:Lt,useValue:iv},{provide:$_,useValue:VT,multi:!0},{provide:ie,useFactory:UT,deps:[]}];var BT=[{provide:U_,useValue:"root"},{provide:_d,useFactory:LT,deps:[]},{provide:Od,useClass:PT,multi:!0,deps:[ie,J,Lt]},{provide:Od,useClass:NT,multi:!0,deps:[ie]},Ac,bv,vv,{provide:Za,useExisting:Ac},{provide:vc,useClass:CT,deps:[]},[]];var Ev=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(x(ie))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var re="primary",Ts=Symbol("RouteTitle"),jd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function xr(t){return new jd(t)}function $T(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],c=t[o];if(s.startsWith(":"))r[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function qT(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Qt(t[n],e[n]))return!1;return!0}function Qt(t,e){let n=t?Bd(t):void 0,i=e?Bd(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!Dv(t[r],e[r]))return!1;return!0}function Bd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Dv(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function Rv(t){return t.length>0?t[t.length-1]:null}function ni(t){return cd(t)?t:hc(t)?Xe(Promise.resolve(t)):W(t)}var GT={exact:Pv,subset:Ov},kv={exact:WT,subset:HT,ignored:()=>!0};function Tv(t,e,n){return GT[n.paths](t.root,e.root,n.matrixParams)&&kv[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function WT(t,e){return Qt(t,e)}function Pv(t,e,n){if(!Ri(t.segments,e.segments)||!Rc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!Pv(t.children[i],e.children[i],n))return!1;return!0}function HT(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Dv(t[n],e[n]))}function Ov(t,e,n){return Mv(t,e,e.segments,n)}function Mv(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!Ri(r,n)||e.hasChildren()||!Rc(r,n,i))}else if(t.segments.length===n.length){if(!Ri(t.segments,n)||!Rc(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!Ov(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Ri(t.segments,r)||!Rc(t.segments,r,i)||!t.children[re]?!1:Mv(t.children[re],e,o,i)}}function Rc(t,e,n){return e.every((i,r)=>kv[n](t[r].parameters,i.parameters))}var Zn=class{constructor(e=new Te([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=xr(this.queryParams),this._queryParamMap}toString(){return QT.serialize(this)}},Te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return kc(this)}},Di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=xr(this.parameters),this._parameterMap}toString(){return Fv(this)}};function KT(t,e){return Ri(t,e)&&t.every((n,i)=>Qt(n.parameters,e[i].parameters))}function Ri(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function YT(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===re&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==re&&(n=n.concat(e(r,i)))}),n}var fh=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>new Oc,providedIn:"root"});let t=e;return t})(),Oc=class{parse(e){let n=new $d(e);return new Zn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ds(e.root,!0)}`,i=ZT(e.queryParams),r=typeof e.fragment=="string"?`#${XT(e.fragment)}`:"";return`${n}${i}${r}`}},QT=new Oc;function kc(t){return t.segments.map(e=>Fv(e)).join("/")}function ds(t,e){if(!t.hasChildren())return kc(t);if(e){let n=t.children[re]?ds(t.children[re],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==re&&i.push(`${r}:${ds(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=YT(t,(i,r)=>r===re?[ds(t.children[re],!1)]:[`${r}:${ds(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${kc(t)}/${n[0]}`:`${kc(t)}/(${n.join("//")})`}}function Nv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xc(t){return Nv(t).replace(/%3B/gi,";")}function XT(t){return encodeURI(t)}function zd(t){return Nv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pc(t){return decodeURIComponent(t)}function Cv(t){return Pc(t.replace(/\+/g,"%20"))}function Fv(t){return`${zd(t.path)}${JT(t.parameters)}`}function JT(t){return Object.entries(t).map(([e,n])=>`;${zd(e)}=${zd(n)}`).join("")}function ZT(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${xc(n)}=${xc(r)}`).join("&"):`${xc(n)}=${xc(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var eC=/^[^\/()?;#]+/;function Fd(t){let e=t.match(eC);return e?e[0]:""}var tC=/^[^\/()?;=#]+/;function nC(t){let e=t.match(tC);return e?e[0]:""}var iC=/^[^=?&#]+/;function rC(t){let e=t.match(iC);return e?e[0]:""}var oC=/^[^&#]+/;function sC(t){let e=t.match(oC);return e?e[0]:""}var $d=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[re]=new Te(e,n)),i}parseSegment(){let e=Fd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new xe(4009,!1);return this.capture(e),new Di(Pc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=nC(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Fd(this.remaining);r&&(i=r,this.capture(i))}e[Pc(n)]=Pc(i)}parseQueryParam(e){let n=rC(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=sC(this.remaining);s&&(i=s,this.capture(i))}let r=Cv(n),o=Cv(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Fd(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new xe(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new Te([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new xe(4011,!1)}};function Vv(t){return t.segments.length>0?new Te([],{[re]:t}):t}function Lv(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=Lv(r);if(i===re&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new Te(t.segments,e);return aC(n)}function aC(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Te(t.segments.concat(e.segments),e.children)}return t}function Dr(t){return t instanceof Zn}function cC(t,e,n=null,i=null){let r=Uv(t);return jv(r,e,n,i)}function Uv(t){let e;function n(o){let s={};for(let l of o.children){let d=n(l);s[l.outlet]=d}let c=new Te(o.url,s);return o===t&&(e=c),c}let i=n(t.root),r=Vv(i);return e??r}function jv(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return Vd(r,r,r,n,i);let o=lC(e);if(o.toRoot())return Vd(r,r,new Te([],{}),n,i);let s=uC(o,r,t),c=s.processChildren?ms(s.segmentGroup,s.index,o.commands):zv(s.segmentGroup,s.index,o.commands);return Vd(r,s.segmentGroup,c,n,i)}function Mc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function _s(t){return typeof t=="object"&&t!=null&&t.outlets}function Vd(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([l,d])=>{o[l]=Array.isArray(d)?d.map(f=>`${f}`):`${d}`});let s;t===e?s=n:s=Bv(t,e,n);let c=Vv(Lv(s));return new Zn(c,o,r)}function Bv(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=Bv(o,e,n)}),new Te(t.segments,i)}var Nc=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Mc(i[0]))throw new xe(4003,!1);let r=i.find(_s);if(r&&r!==Rv(i))throw new xe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lC(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Nc(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([l,d])=>{c[l]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:c}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?n=!0:c===".."?e++:c!=""&&r.push(c))}),r):[...r,o]},[]);return new Nc(n,e,i)}var Ar=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function uC(t,e,n){if(t.isAbsolute)return new Ar(e,!0,0);if(!n)return new Ar(e,!1,NaN);if(n.parent===null)return new Ar(n,!0,0);let i=Mc(t.commands[0])?0:1,r=n.segments.length-1+i;return dC(n,r,t.numberOfDoubleDots)}function dC(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new xe(4005,!1);r=i.segments.length}return new Ar(i,!1,r-o)}function hC(t){return _s(t[0])?t[0].outlets:{[re]:t}}function zv(t,e,n){if(t??=new Te([],{}),t.segments.length===0&&t.hasChildren())return ms(t,e,n);let i=fC(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new Te(t.segments.slice(0,i.pathIndex),{});return o.children[re]=new Te(t.segments.slice(i.pathIndex),t.children),ms(o,0,r)}else return i.match&&r.length===0?new Te(t.segments,{}):i.match&&!t.hasChildren()?qd(t,e,n):i.match?ms(t,0,r):qd(t,e,n)}function ms(t,e,n){if(n.length===0)return new Te(t.segments,{});{let i=hC(n),r={};if(Object.keys(i).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=ms(t.children[re],e,n);return new Te(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=zv(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new Te(t.segments,r)}}function fC(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],c=n[i];if(_s(c))break;let l=`${c}`,d=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&d&&typeof d=="object"&&d.outlets===void 0){if(!Sv(l,d,s))return o;i+=2}else{if(!Sv(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function qd(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(_s(o)){let l=mC(o.outlets);return new Te(i,l)}if(r===0&&Mc(n[0])){let l=t.segments[e];i.push(new Di(l.path,Av(n[0]))),r++;continue}let s=_s(o)?o.outlets[re]:`${o}`,c=r<n.length-1?n[r+1]:null;s&&c&&Mc(c)?(i.push(new Di(s,Av(c))),r+=2):(i.push(new Di(s,{})),r++)}return new Te(i,{})}function mC(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=qd(new Te([],{}),0,i))}),e}function Av(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function Sv(t,e,n){return t==n.path&&Qt(e,n.parameters)}var ps="imperative",tt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(tt||{}),Ot=class{constructor(e,n){this.id=e,this.url=n}},ki=class extends Ot{constructor(e,n,i="imperative",r=null){super(e,n),this.type=tt.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wn=class extends Ot{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=tt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),Gd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Gd||{}),ei=class extends Ot{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=tt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends Ot{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=tt.NavigationSkipped}},vs=class extends Ot{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=tt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Fc=class extends Ot{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wd=class extends Ot{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hd=class extends Ot{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=tt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Kd=class extends Ot{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yd=class extends Ot{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=tt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qd=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Xd=class{constructor(e){this.route=e,this.type=tt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Jd=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zd=class{constructor(e){this.snapshot=e,this.type=tt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},eh=class{constructor(e){this.snapshot=e,this.type=tt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},th=class{constructor(e){this.snapshot=e,this.type=tt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var bs=class{},ys=class{constructor(e){this.url=e}};var nh=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zc,this.attachRef=null}},zc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new nh,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ih(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=ih(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=rh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return rh(e,this._root).map(n=>n.value)}};function ih(t,e){if(t===e.value)return e;for(let n of e.children){let i=ih(t,n);if(i)return i}return null}function rh(t,e){if(t===e.value)return[e];for(let n of e.children){let i=rh(t,n);if(i.length)return i.unshift(e),i}return[]}var At=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Cr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Lc=class extends Vc{constructor(e,n){super(e),this.snapshot=n,ph(this,e)}toString(){return this.snapshot.toString()}};function $v(t){let e=pC(t),n=new pt([new Di("",{})]),i=new pt({}),r=new pt({}),o=new pt({}),s=new pt(""),c=new Oi(n,i,o,s,r,re,t,e.root);return c.snapshot=e.root,new Lc(new At(c,[]),e)}function pC(t){let e={},n={},i={},r="",o=new ws([],e,i,r,n,re,t,null,{});return new Uc("",new At(o,[]))}var Oi=class{constructor(e,n,i,r,o,s,c,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(te(d=>d[Ts]))??W(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(te(e=>xr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(te(e=>xr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function mh(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),r?.data),t._resolvedData)}:i={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},r&&Gv(r)&&(i.resolve[Ts]=r.title),i}var ws=class{get title(){return this.data?.[Ts]}constructor(e,n,i,r,o,s,c,l,d){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=c,this.routeConfig=l,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Uc=class extends Vc{constructor(e,n){super(n),this.url=e,ph(this,n)}toString(){return qv(this._root)}};function ph(t,e){e.value._routerState=t,e.children.forEach(n=>ph(t,n))}function qv(t){let e=t.children.length>0?` { ${t.children.map(qv).join(", ")} } `:"";return`${t.value}${e}`}function Ld(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Qt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Qt(e.params,n.params)||t.paramsSubject.next(n.params),qT(e.url,n.url)||t.urlSubject.next(n.url),Qt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function oh(t,e){let n=Qt(t.params,e.params)&&KT(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||oh(t.parent,e.parent))}function Gv(t){return typeof t.title=="string"||t.title===null}var gh=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=M(zc),this.location=M(pr),this.changeDetector=M(Yt),this.environmentInjector=M(fr),this.inputBinder=M(_h,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new xe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new xe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new xe(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new xe(4013,!1);this._activatedRoute=i;let o=this.location,c=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new sh(i,l,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ct]});let t=e;return t})(),sh=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i,this.__ngOutletInjector=!0}get(e,n){return e===Oi?this.route:e===zc?this.childContexts:this.parent.get(e,n)}},_h=new G("");function gC(t,e,n){let i=Is(t,e._root,n?n._root:void 0);return new Lc(i,e)}function Is(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=_C(t,e,n);return new At(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Is(t,c)),s}}let i=vC(e.value),r=e.children.map(o=>Is(t,o));return new At(i,r)}}function _C(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Is(t,i,r);return Is(t,i)})}function vC(t){return new Oi(new pt(t.url),new pt(t.params),new pt(t.queryParams),new pt(t.fragment),new pt(t.data),t.outlet,t.component,t)}var Wv="ngNavigationCancelingError";function Hv(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Dr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Kv(!1,St.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Kv(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Wv]=!0,n.cancellationCode=e,n}function bC(t){return Yv(t)&&Dr(t.url)}function Yv(t){return!!t&&t[Wv]}var yC=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[le],decls:1,vars:0,template:function(r,o){r&1&&ce(0,"router-outlet")},dependencies:[gh],encapsulation:2});let t=e;return t})();function wC(t,e){return t.providers&&!t._injector&&(t._injector=H_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function vh(t){let e=t.children&&t.children.map(vh),n=e?Ce(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=yC),n}function Xt(t){return t.outlet||re}function IC(t,e){let n=t.filter(i=>Xt(i)===e);return n.push(...t.filter(i=>Xt(i)!==e)),n}function Cs(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var EC=(t,e,n,i)=>te(r=>(new ah(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),ah=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Ld(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Cr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Cr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Cr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Cr(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new th(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Zd(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(Ld(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Ld(c.route.value),this.activateChildRoutes(e,null,s.children)}else{let c=Cs(r.snapshot);s.attachRef=null,s.route=r,s.injector=c,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},jc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Sr=class{constructor(e,n){this.component=e,this.route=n}};function TC(t,e,n){let i=t._root,r=e?e._root:null;return hs(i,r,n,[i.value])}function CC(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function kr(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!V_(t)?t:e.get(t):i}function hs(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Cr(e);return t.children.forEach(s=>{AC(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>gs(c,n.getContext(s),r)),r}function AC(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=SC(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new jc(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?hs(t,e,c?c.children:null,i,r):hs(t,e,n,i,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new Sr(c.outlet.component,s))}else s&&gs(e,c,r),r.canActivateChecks.push(new jc(i)),o.component?hs(t,null,c?c.children:null,i,r):hs(t,null,n,i,r);return r}function SC(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ri(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ri(t.url,e.url)||!Qt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oh(t,e)||!Qt(t.queryParams,e.queryParams);case"paramsChange":default:return!oh(t,e)}}function gs(t,e,n){let i=Cr(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?gs(s,e.children.getContext(o),n):gs(s,null,n):gs(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Sr(e.outlet.component,r)):n.canDeactivateChecks.push(new Sr(null,r)):n.canDeactivateChecks.push(new Sr(null,r))}function As(t){return typeof t=="function"}function xC(t){return typeof t=="boolean"}function DC(t){return t&&As(t.canLoad)}function RC(t){return t&&As(t.canActivate)}function kC(t){return t&&As(t.canActivateChild)}function PC(t){return t&&As(t.canDeactivate)}function OC(t){return t&&As(t.canMatch)}function Qv(t){return t instanceof P_||t?.name==="EmptyError"}var Dc=Symbol("INITIAL_VALUE");function Rr(){return Et(t=>Qo(t.map(e=>e.pipe(at(1),Gt(Dc)))).pipe(te(e=>{for(let n of e)if(n!==!0){if(n===Dc)return Dc;if(n===!1||n instanceof Zn)return n}return!0}),He(e=>e!==Dc),at(1)))}function MC(t,e){return Rt(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?W(Ce(F({},n),{guardsResult:!0})):NC(s,i,r,t).pipe(Rt(c=>c&&xC(c)?FC(i,o,t,e):W(c)),te(c=>Ce(F({},n),{guardsResult:c})))})}function NC(t,e,n,i){return Xe(t).pipe(Rt(r=>BC(r.component,r.route,n,e,i)),Wn(r=>r!==!0,!0))}function FC(t,e,n,i){return Xe(e).pipe(Ci(r=>Ha(LC(r.route.parent,i),VC(r.route,i),jC(t,r.path,n),UC(t,r.route,n))),Wn(r=>r!==!0,!0))}function VC(t,e){return t!==null&&e&&e(new eh(t)),W(!0)}function LC(t,e){return t!==null&&e&&e(new Jd(t)),W(!0)}function UC(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return W(!0);let r=i.map(o=>Ti(()=>{let s=Cs(e)??n,c=kr(o,s),l=RC(c)?c.canActivate(e,t):vn(s,()=>c(e,t));return ni(l).pipe(Wn())}));return W(r).pipe(Rr())}function jC(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>CC(s)).filter(s=>s!==null).map(s=>Ti(()=>{let c=s.guards.map(l=>{let d=Cs(s.node)??n,f=kr(l,d),p=kC(f)?f.canActivateChild(i,t):vn(d,()=>f(i,t));return ni(p).pipe(Wn())});return W(c).pipe(Rr())}));return W(o).pipe(Rr())}function BC(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(c=>{let l=Cs(e)??r,d=kr(c,l),f=PC(d)?d.canDeactivate(t,e,n,i):vn(l,()=>d(t,e,n,i));return ni(f).pipe(Wn())});return W(s).pipe(Rr())}function zC(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return W(!0);let o=r.map(s=>{let c=kr(s,t),l=DC(c)?c.canLoad(e,n):vn(t,()=>c(e,n));return ni(l)});return W(o).pipe(Rr(),Xv(i))}function Xv(t){return nd(Be(e=>{if(Dr(e))throw Hv(t,e)}),te(e=>e===!0))}function $C(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return W(!0);let o=r.map(s=>{let c=kr(s,t),l=OC(c)?c.canMatch(e,n):vn(t,()=>c(e,n));return ni(l)});return W(o).pipe(Rr(),Xv(i))}var Es=class{constructor(e){this.segmentGroup=e||null}},Bc=class extends Error{constructor(e){super(),this.urlTree=e}};function Tr(t){return Yo(new Es(t))}function qC(t){return Yo(new xe(4e3,!1))}function GC(t){return Yo(Kv(!1,St.GuardRejected))}var ch=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return W(i);if(r.numberOfChildren>1||!r.children[re])return qC(e.redirectTo);r=r.children[re]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Bc(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new Zn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let c=o.substring(1);i[r]=n[c]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([c,l])=>{s[c]=this.createSegmentGroup(e,l,i,r)}),new Te(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new xe(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},lh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WC(t,e,n,i,r){let o=bh(t,e,n);return o.matched?(i=wC(e,i),$C(i,e,n,r).pipe(te(s=>s===!0?o:F({},lh)))):W(o)}function bh(t,e,n){if(e.path==="**")return HC(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},lh):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||$T)(n,t,e);if(!r)return F({},lh);let o={};Object.entries(r.posParams??{}).forEach(([c,l])=>{o[c]=l.path});let s=r.consumed.length>0?F(F({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function HC(t){return{matched:!0,parameters:t.length>0?Rv(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xv(t,e,n,i){return n.length>0&&QC(t,n,i)?{segmentGroup:new Te(e,YC(i,new Te(n,t.children))),slicedSegments:[]}:n.length===0&&XC(t,n,i)?{segmentGroup:new Te(t.segments,KC(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new Te(t.segments,t.children),slicedSegments:n}}function KC(t,e,n,i){let r={};for(let o of n)if($c(t,e,o)&&!i[Xt(o)]){let s=new Te([],{});r[Xt(o)]=s}return F(F({},i),r)}function YC(t,e){let n={};n[re]=e;for(let i of t)if(i.path===""&&Xt(i)!==re){let r=new Te([],{});n[Xt(i)]=r}return n}function QC(t,e,n){return n.some(i=>$c(t,e,i)&&Xt(i)!==re)}function XC(t,e,n){return n.some(i=>$c(t,e,i))}function $c(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function JC(t,e,n,i){return Xt(t)!==i&&(i===re||!$c(e,n,t))?!1:bh(e,t,n).matched}function ZC(t,e,n){return e.length===0&&!t.children[n]}var uh=class{};function eA(t,e,n,i,r,o,s="emptyOnly"){return new dh(t,e,n,i,r,s,o).recognize()}var tA=31,dh=class{constructor(e,n,i,r,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new ch(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new xe(4002,`'${e.segmentGroup}'`)}recognize(){let e=xv(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(te(n=>{let i=new ws([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,{},re,this.rootComponentType,null,{}),r=new At(i,n),o=new Uc("",r),s=cC(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,re).pipe(Gn(i=>{if(i instanceof Bc)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof Es?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=mh(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(te(o=>o instanceof At?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return Xe(r).pipe(Ci(o=>{let s=i.children[o],c=IC(n,o);return this.processSegmentGroup(e,c,s,o)}),md((o,s)=>(o.push(...s),o)),hd(null),F_(),Rt(o=>{if(o===null)return Tr(i);let s=Jv(o);return nA(s),W(s)}))}processSegment(e,n,i,r,o,s){return Xe(n).pipe(Ci(c=>this.processSegmentAgainstRoute(c._injector??e,n,c,i,r,o,s).pipe(Gn(l=>{if(l instanceof Es)return W(null);throw l}))),Wn(c=>!!c),Gn(c=>{if(Qv(c))return ZC(i,r,o)?W(new uh):Tr(i);throw c}))}processSegmentAgainstRoute(e,n,i,r,o,s,c){return JC(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):Tr(r):Tr(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:c,consumedSegments:l,positionalParamSegments:d,remainingSegments:f}=bh(n,r,o);if(!c)return Tr(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tA&&(this.allowRedirects=!1));let p=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,d);return this.applyRedirects.lineralizeSegments(r,p).pipe(Rt(y=>this.processSegment(e,i,n,y.concat(f),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=WC(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Et(c=>c.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Et(({routes:l})=>{let d=i._loadedInjector??e,{consumedSegments:f,remainingSegments:p,parameters:y}=c,A=new ws(f,y,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,rA(i),Xt(i),i.component??i._loadedComponent??null,i,oA(i)),{segmentGroup:O,slicedSegments:V}=xv(n,f,p,l);if(V.length===0&&O.hasChildren())return this.processChildren(d,l,O).pipe(te(z=>z===null?null:new At(A,z)));if(l.length===0&&V.length===0)return W(new At(A,[]));let R=Xt(i)===o;return this.processSegment(d,l,O,V,R?re:o,!0).pipe(te(z=>new At(A,z instanceof At?[z]:[])))}))):Tr(n)))}getChildConfig(e,n,i){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):zC(e,n,i,this.urlSerializer).pipe(Rt(r=>r?this.configLoader.loadChildren(e,n).pipe(Be(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):GC(n))):W({routes:[],injector:e})}};function nA(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function iA(t){let e=t.value.routeConfig;return e&&e.path===""}function Jv(t){let e=[],n=new Set;for(let i of t){if(!iA(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Jv(i.children);e.push(new At(i.value,r))}return e.filter(i=>!n.has(i))}function rA(t){return t.data||{}}function oA(t){return t.resolve||{}}function sA(t,e,n,i,r,o){return Rt(s=>eA(t,e,n,i,s.extractedUrl,r,o).pipe(te(({state:c,tree:l})=>Ce(F({},s),{targetSnapshot:c,urlAfterRedirects:l}))))}function aA(t,e){return Rt(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return W(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let d of Zv(l))s.add(d);let c=0;return Xe(s).pipe(Ci(l=>o.has(l)?cA(l,i,t,e):(l.data=mh(l,l.parent,t).resolve,W(void 0))),Be(()=>c++),fd(1),Rt(l=>c===s.size?W(n):qn))})}function Zv(t){let e=t.children.map(n=>Zv(n)).flat();return[t,...e]}function cA(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!Gv(r)&&(o[Ts]=r.title),lA(o,t,e,i).pipe(te(s=>(t._resolvedData=s,t.data=mh(t,t.parent,n).resolve,null)))}function lA(t,e,n,i){let r=Bd(t);if(r.length===0)return W({});let o={};return Xe(r).pipe(Rt(s=>uA(t[s],e,n,i).pipe(Wn(),Be(c=>{o[s]=c}))),fd(1),N_(o),Gn(s=>Qv(s)?qn:Yo(s)))}function uA(t,e,n,i){let r=Cs(e)??i,o=kr(t,r),s=o.resolve?o.resolve(e,n):vn(r,()=>o(e,n));return ni(s)}function Ud(t){return Et(e=>{let n=t(e);return n?Xe(n).pipe(te(()=>e)):W(e)})}var eb=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(i){return i.data[Ts]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>M(dA),providedIn:"root"});let t=e;return t})(),dA=(()=>{let e=class e extends eb{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(x(Ev))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yh=new G("",{providedIn:"root",factory:()=>({})}),wh=new G(""),hA=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=M(yd)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return W(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ni(i.loadComponent()).pipe(te(tb),Be(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),Ai(()=>{this.componentLoaders.delete(i)})),o=new rd(r,()=>new be).pipe(id());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=fA(r,this.compiler,i,this.onLoadEndListener).pipe(Ai(()=>{this.childrenLoaders.delete(r)})),c=new rd(s,()=>new be).pipe(id());return this.childrenLoaders.set(r,c),c}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fA(t,e,n,i){return ni(t.loadChildren()).pipe(te(tb),Rt(r=>r instanceof W_||Array.isArray(r)?W(r):Xe(e.compileModuleAsync(r))),te(r=>{i&&i(t);let o,s,c=!1;return Array.isArray(r)?(s=r,c=!0):(o=r.create(n).injector,s=o.get(wh,[],{optional:!0,self:!0}).flat()),{routes:s.map(vh),injector:o}}))}function mA(t){return t&&typeof t=="object"&&"default"in t}function tb(t){return mA(t)?t.default:t}var Ih=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>M(pA),providedIn:"root"});let t=e;return t})(),pA=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gA=new G("");var _A=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be,this.transitionAbortSubject=new be,this.configLoader=M(hA),this.environmentInjector=M(fr),this.urlSerializer=M(fh),this.rootContexts=M(zc),this.location=M(Xn),this.inputBindingEnabled=M(_h,{optional:!0})!==null,this.titleStrategy=M(eb),this.options=M(yh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=M(Ih),this.createViewTransition=M(gA,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Qd(o)),r=o=>this.events.next(new Xd(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(Ce(F(F({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new pt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ps,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(He(s=>s.id!==0),te(s=>Ce(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Et(s=>{let c=!1,l=!1;return W(s).pipe(Et(d=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",St.SupersededByNewNavigation),qn;this.currentTransition=s,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?Ce(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=d.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!f&&p!=="reload"){let y="";return this.events.next(new Pi(d.id,this.urlSerializer.serialize(d.rawUrl),y,Gd.IgnoredSameUrlNavigation)),d.resolve(null),qn}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return W(d).pipe(Et(y=>{let A=this.transitions?.getValue();return this.events.next(new ki(y.id,this.urlSerializer.serialize(y.extractedUrl),y.source,y.restoredState)),A!==this.transitions?.getValue()?qn:Promise.resolve(y)}),sA(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(y=>{s.targetSnapshot=y.targetSnapshot,s.urlAfterRedirects=y.urlAfterRedirects,this.currentNavigation=Ce(F({},this.currentNavigation),{finalUrl:y.urlAfterRedirects});let A=new Fc(y.id,this.urlSerializer.serialize(y.extractedUrl),this.urlSerializer.serialize(y.urlAfterRedirects),y.targetSnapshot);this.events.next(A)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){let{id:y,extractedUrl:A,source:O,restoredState:V,extras:R}=d,z=new ki(y,this.urlSerializer.serialize(A),O,V);this.events.next(z);let Y=$v(this.rootComponentType).snapshot;return this.currentTransition=s=Ce(F({},d),{targetSnapshot:Y,urlAfterRedirects:A,extras:Ce(F({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=A,W(s)}else{let y="";return this.events.next(new Pi(d.id,this.urlSerializer.serialize(d.extractedUrl),y,Gd.IgnoredByUrlHandlingStrategy)),d.resolve(null),qn}}),Be(d=>{let f=new Wd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}),te(d=>(this.currentTransition=s=Ce(F({},d),{guards:TC(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),s)),MC(this.environmentInjector,d=>this.events.next(d)),Be(d=>{if(s.guardsResult=d.guardsResult,Dr(d.guardsResult))throw Hv(this.urlSerializer,d.guardsResult);let f=new Hd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(f)}),He(d=>d.guardsResult?!0:(this.cancelNavigationTransition(d,"",St.GuardRejected),!1)),Ud(d=>{if(d.guards.canActivateChecks.length)return W(d).pipe(Be(f=>{let p=new Kd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}),Et(f=>{let p=!1;return W(f).pipe(aA(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(f,"",St.NoDataFromResolver)}}))}),Be(f=>{let p=new Yd(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}))}),Ud(d=>{let f=p=>{let y=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(p.routeConfig).pipe(Be(A=>{p.component=A}),te(()=>{})));for(let A of p.children)y.push(...f(A));return y};return Qo(f(d.targetSnapshot.root)).pipe(hd(null),at(1))}),Ud(()=>this.afterPreactivation()),Et(()=>{let{currentSnapshot:d,targetSnapshot:f}=s,p=this.createViewTransition?.(this.environmentInjector,d.root,f.root);return p?Xe(p).pipe(te(()=>s)):W(s)}),te(d=>{let f=gC(i.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=s=Ce(F({},d),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Be(()=>{this.events.next(new bs)}),EC(this.rootContexts,i.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),at(1),Be({next:d=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wn(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{c=!0}}),_n(this.transitionAbortSubject.pipe(Be(d=>{throw d}))),Ai(()=>{!c&&!l&&this.cancelNavigationTransition(s,"",St.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Gn(d=>{if(l=!0,Yv(d))this.events.next(new ei(s.id,this.urlSerializer.serialize(s.extractedUrl),d.message,d.cancellationCode)),bC(d)?this.events.next(new ys(d.url)):s.resolve(!1);else{this.events.next(new vs(s.id,this.urlSerializer.serialize(s.extractedUrl),d,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(d))}catch(f){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(f)}}return qn}))}))}cancelNavigationTransition(i,r,o){let s=new ei(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vA(t){return t!==ps}var bA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>M(yA),providedIn:"root"});let t=e;return t})(),hh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},yA=(()=>{let e=class e extends hh{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=bn(e)))(o||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),nb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:()=>M(wA),providedIn:"root"});let t=e;return t})(),wA=(()=>{let e=class e extends nb{constructor(){super(...arguments),this.location=M(Xn),this.urlSerializer=M(fh),this.options=M(yh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=M(Ih),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$v(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof ki)this.stateMemento=this.createStateMemento();else if(i instanceof Pi)this.rawUrlTree=r.initialUrl;else if(i instanceof Fc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof bs?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof ei&&(i.code===St.GuardRejected||i.code===St.NoDataFromResolver)?this.restoreHistory(r):i instanceof vs?this.restoreHistory(r,!0):i instanceof wn&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,c=F(F({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",c)}else{let s=F(F({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=bn(e)))(o||e)}})(),e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fs=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fs||{});function IA(t,e){t.events.pipe(He(n=>n instanceof wn||n instanceof ei||n instanceof vs||n instanceof Pi),te(n=>n instanceof wn||n instanceof Pi?fs.COMPLETE:(n instanceof ei?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?fs.REDIRECTING:fs.FAILED),He(n=>n!==fs.REDIRECTING),at(1)).subscribe(()=>{e()})}function EA(t){throw t}var TA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},yt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=M(dc),this.stateManager=M(nb),this.options=M(yh,{optional:!0})||{},this.pendingTasks=M(ns),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=M(_A),this.urlSerializer=M(fh),this.location=M(Xn),this.urlHandlingStrategy=M(Ih),this._events=new be,this.errorHandler=this.options.errorHandler||EA,this.navigated=!1,this.routeReuseStrategy=M(bA),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=M(wh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!M(_h,{optional:!0}),this.eventsSubscription=new Ei,this.isNgZoneEnabled=M(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof ei&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof wn)this.navigated=!0;else if(r instanceof ys){let c=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||vA(o.source)};this.scheduleNavigation(c,ps,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}SA(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ps,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let d=F({},o);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(s.state=d)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(vh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:l,preserveFragment:d}=r,f=d?this.currentUrlTree.fragment:c,p=null;switch(l){case"merge":p=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let y;try{let A=o?o.snapshot:this.routerState.snapshot.root;y=Uv(A)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),y=this.currentUrlTree.root}return jv(y,i,p,f??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Dr(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ps,null,r)}navigate(i,r={skipLocationChange:!1}){return AA(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=F({},TA):r===!1?o=F({},CA):o=r,Dr(i))return Tv(this.currentUrlTree,i,o);let s=this.parseUrl(i);return Tv(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,c){if(this.disposed)return Promise.resolve(!1);let l,d,f;c?(l=c.resolve,d=c.reject,f=c.promise):f=new Promise((y,A)=>{l=y,d=A});let p=this.pendingTasks.add();return IA(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:d,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(y=>Promise.reject(y))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AA(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new xe(4008,!1)}function SA(t){return!(t instanceof bs)&&!(t instanceof ys)}var ti=(()=>{let e=class e{constructor(i,r,o,s,c,l){this.router=i,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=c,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let d=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area",this.isAnchorElement?this.subscription=i.events.subscribe(f=>{f instanceof wn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(i){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",i)}ngOnChanges(i){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(i){i!=null?(this.commands=Array.isArray(i)?i:[i],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(i,r,o,s,c){let l=this.urlTree;if(l===null||this.isAnchorElement&&(i!==0||r||o||s||c||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let i=this.urlTree;this.href=i!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(i)):null;let r=this.href===null?null:q_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(i,r){let o=this.renderer,s=this.el.nativeElement;r!==null?o.setAttribute(s,i,r):o.removeAttribute(s,i)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(P(yt),P(Oi),B_("tabindex"),P(mr),P(Ee),P(wd))},e.\u0275dir=ye({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&ne("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),r&2&&Je("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[se.HasDecoratorInputTransform,"preserveFragment","preserveFragment",bt],skipLocationChange:[se.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",bt],replaceUrl:[se.HasDecoratorInputTransform,"replaceUrl","replaceUrl",bt],routerLink:"routerLink"},standalone:!0,features:[Ut,Ct]});let t=e;return t})(),ib=(()=>{let e=class e{get isActive(){return this._isActive}constructor(i,r,o,s,c){this.router=i,this.element=r,this.renderer=o,this.cdr=s,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ne,this.routerEventsSubscription=i.events.subscribe(l=>{l instanceof wn&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(ld()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let i=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Xe(i).pipe(ld()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(i){let r=Array.isArray(i)?i:i.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(i){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let i=this.hasActiveLinks();this.classes.forEach(r=>{i?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),i&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==i&&(this._isActive=i,this.cdr.markForCheck(),this.isActiveChange.emit(i))})}isLinkActive(i){let r=xA(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?i.isActive(s,r):!1}}hasActiveLinks(){let i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.links.some(i)}};e.\u0275fac=function(r){return new(r||e)(P(yt),P(Ee),P(mr),P(Yt),P(ti,8))},e.\u0275dir=ye({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,o,s){if(r&1&&K_(s,ti,5),r&2){let c;Wt(c=Ht())&&(o.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Ct]});let t=e;return t})();function xA(t){return!!t.paths}var DA=new G("");function rb(t,...e){return Tt([{provide:wh,multi:!0,useValue:t},[],{provide:Oi,useFactory:RA,deps:[yt]},{provide:bd,multi:!0,useFactory:kA},e.map(n=>n.\u0275providers)])}function RA(t){return t.routerState.root}function kA(){let t=M(ze);return e=>{let n=t.get(wr);if(e!==n.components[0])return;let i=t.get(yt),r=t.get(PA);t.get(OA)===1&&i.initialNavigation(),t.get(MA,null,pd.Optional)?.setUpPreloading(),t.get(DA,null,pd.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var PA=new G("",{factory:()=>new be}),OA=new G("",{providedIn:"root",factory:()=>1});var MA=new G("");var mb=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(P(mr),P(Ee))},e.\u0275dir=ye({type:e});let t=e;return t})(),NA=(()=>{let e=class e extends mb{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=bn(e)))(o||e)}})(),e.\u0275dir=ye({type:e,features:[$e]});let t=e;return t})(),Ah=new G("");var FA={provide:Ah,useExisting:hr(()=>ri),multi:!0};function VA(){let t=Ir()?Ir().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var LA=new G(""),ri=(()=>{let e=class e extends mb{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!VA())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(P(mr),P(Ee),P(LA,8))},e.\u0275dir=ye({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&ne("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[Kt([FA]),$e]});let t=e;return t})();function ii(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function pb(t){return t!=null&&typeof t.length=="number"}var Jc=new G(""),Zc=new G(""),UA=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gc=class{static min(e){return jA(e)}static max(e){return BA(e)}static required(e){return zA(e)}static requiredTrue(e){return $A(e)}static email(e){return qA(e)}static minLength(e){return GA(e)}static maxLength(e){return WA(e)}static pattern(e){return HA(e)}static nullValidator(e){return gb(e)}static compose(e){return Ib(e)}static composeAsync(e){return Eb(e)}};function jA(t){return e=>{if(ii(e.value)||ii(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function BA(t){return e=>{if(ii(e.value)||ii(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function zA(t){return ii(t.value)?{required:!0}:null}function $A(t){return t.value===!0?null:{required:!0}}function qA(t){return ii(t.value)||UA.test(t.value)?null:{email:!0}}function GA(t){return e=>ii(e.value)||!pb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function WA(t){return e=>pb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function HA(t){if(!t)return gb;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(ii(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function gb(t){return null}function _b(t){return t!=null}function vb(t){return hc(t)?Xe(t):t}function bb(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function yb(t,e){return e.map(n=>n(t))}function KA(t){return!t.validate}function wb(t){return t.map(e=>KA(e)?e:n=>e.validate(n))}function Ib(t){if(!t)return null;let e=t.filter(_b);return e.length==0?null:function(n){return bb(yb(n,e))}}function Sh(t){return t!=null?Ib(wb(t)):null}function Eb(t){if(!t)return null;let e=t.filter(_b);return e.length==0?null:function(n){let i=yb(n,e).map(vb);return O_(i).pipe(te(bb))}}function xh(t){return t!=null?Eb(wb(t)):null}function sb(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Tb(t){return t._rawValidators}function Cb(t){return t._rawAsyncValidators}function Eh(t){return t?Array.isArray(t)?t:[t]:[]}function Wc(t,e){return Array.isArray(t)?t.includes(e):t===e}function ab(t,e){let n=Eh(e);return Eh(t).forEach(r=>{Wc(n,r)||n.push(r)}),n}function cb(t,e){return Eh(e).filter(n=>!Wc(t,n))}var Hc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Sh(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},In=class extends Hc{get formDirective(){return null}get path(){return null}},Mi=class extends Hc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Kc=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},YA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},TN=Ce(F({},YA),{"[class.ng-submitted]":"isSubmitted"}),Nr=(()=>{let e=class e extends Kc{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(P(Mi,2))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&vt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[$e]});let t=e;return t})(),Fr=(()=>{let e=class e extends Kc{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(P(In,10))},e.\u0275dir=ye({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&vt("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[$e]});let t=e;return t})();var Ss="VALID",qc="INVALID",Pr="PENDING",xs="DISABLED";function Dh(t){return(el(t)?t.validators:t)||null}function QA(t){return Array.isArray(t)?Sh(t):t||null}function Rh(t,e){return(el(e)?e.asyncValidators:t)||null}function XA(t){return Array.isArray(t)?xh(t):t||null}function el(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ab(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new xe(1e3,"");if(!i[n])throw new xe(1001,"")}function Sb(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new xe(1002,"")})}var Or=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ss}get invalid(){return this.status===qc}get pending(){return this.status==Pr}get disabled(){return this.status===xs}get enabled(){return this.status!==xs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ab(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ab(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(cb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(cb(e,this._rawAsyncValidators))}hasValidator(e){return Wc(this._rawValidators,e)}hasAsyncValidator(e){return Wc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Pr,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xs,this.errors=null,this._forEachChild(i=>{i.disable(Ce(F({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ce(F({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ss,this._forEachChild(i=>{i.enable(Ce(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ce(F({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ss||this.status===Pr)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xs:Ss}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Pr,this._hasOwnPendingAsyncValidator=!0;let n=vb(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?xs:this.errors?qc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pr)?Pr:this._anyControlsHaveStatus(qc)?qc:Ss}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){el(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=QA(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=XA(this._rawAsyncValidators)}},Mr=class extends Or{constructor(e,n,i){super(Dh(n),Rh(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Sb(this,!0,e),Object.keys(e).forEach(i=>{Ab(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Th=class extends Mr{};var ks=new G("CallSetDisabledState",{providedIn:"root",factory:()=>tl}),tl="always";function xb(t,e){return[...e.path,t]}function Yc(t,e,n=tl){kh(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ZA(t,e),tS(t,e),eS(t,e),JA(t,e)}function lb(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Xc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Qc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function JA(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function kh(t,e){let n=Tb(t);e.validator!==null?t.setValidators(sb(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Cb(t);e.asyncValidator!==null?t.setAsyncValidators(sb(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();Qc(e._rawValidators,r),Qc(e._rawAsyncValidators,r)}function Xc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Tb(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=Cb(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return Qc(e._rawValidators,i),Qc(e._rawAsyncValidators,i),n}function ZA(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Db(t,e)})}function eS(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Db(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Db(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tS(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Rb(t,e){t==null,kh(t,e)}function nS(t,e){return Xc(t,e)}function kb(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function iS(t){return Object.getPrototypeOf(t.constructor)===NA}function Pb(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Ob(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===ri?n=o:iS(o)?i=o:r=o}),r||i||n||null}function rS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var oS={provide:In,useExisting:hr(()=>Ps)},Ds=Promise.resolve(),Ps=(()=>{let e=class e extends In{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ne,this.form=new Mr({},Sh(i),xh(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Ds.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),Yc(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Ds.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Ds.then(()=>{let r=this._findContainer(i.path),o=new Mr({});Rb(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Ds.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Ds.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,Pb(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(P(Jc,10),P(Zc,10),P(ks,8))},e.\u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&ne("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[se.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([oS]),$e]});let t=e;return t})();function ub(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function db(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Rs=class extends Or{constructor(e=null,n,i){super(Dh(n),Rh(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),el(n)&&(n.nonNullable||n.initialValueIsDefault)&&(db(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ub(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ub(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){db(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var sS=t=>t instanceof Rs;var aS={provide:Mi,useExisting:hr(()=>Os)},hb=Promise.resolve(),Os=(()=>{let e=class e extends Mi{constructor(i,r,o,s,c,l){super(),this._changeDetectorRef=c,this.callSetDisabledState=l,this.control=new Rs,this._registered=!1,this.name="",this.update=new Ne,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ob(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),kb(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Yc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){hb.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&bt(r);hb.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?xb(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(P(In,9),P(Jc,10),P(Zc,10),P(Ah,10),P(Yt,8),P(ks,8))},e.\u0275dir=ye({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[se.None,"disabled","isDisabled"],model:[se.None,"ngModel","model"],options:[se.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Kt([aS]),$e,Ct]});let t=e;return t})(),Vr=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Mb=new G("");var cS={provide:In,useExisting:hr(()=>Ph)},Ph=(()=>{let e=class e extends In{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ne,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return Yc(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){lb(i.control||null,i,!1),rS(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,Pb(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(lb(r||null,i),sS(o)&&(Yc(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);Rb(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&nS(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kh(this.form,this),this._oldForm&&Xc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(P(Jc,10),P(Zc,10),P(ks,8))},e.\u0275dir=ye({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&ne("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{form:[se.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Kt([cS]),$e,Ct]});let t=e;return t})();var lS={provide:Mi,useExisting:hr(()=>Oh)},Oh=(()=>{let e=class e extends Mi{set isDisabled(i){}constructor(i,r,o,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.name=null,this.update=new Ne,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=Ob(this,s)}ngOnChanges(i){this._added||this._setUpControl(),kb(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return xb(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(P(In,13),P(Jc,10),P(Zc,10),P(Ah,10),P(Mb,8))},e.\u0275dir=ye({type:e,selectors:[["","formControlName",""]],inputs:{name:[se.None,"formControlName","name"],isDisabled:[se.None,"disabled","isDisabled"],model:[se.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Kt([lS]),$e,Ct]});let t=e;return t})();var Nb=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({});let t=e;return t})(),Ch=class extends Or{constructor(e,n,i){super(Dh(n),Rh(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Sb(this,!1,e),e.forEach((i,r)=>{Ab(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function fb(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var Fb=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return fb(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Mr(o,s)}record(i,r=null){let o=this._reduceControls(i);return new Th(o,r)}control(i,r,o){let s={};return this.useNonNullable?(fb(r)?s=r:(s.validators=r,s.asyncValidators=o),new Rs(i,Ce(F({},s),{nonNullable:!0}))):new Rs(i,r,o)}array(i,r,o){let s=i.map(c=>this._createControl(c));return new Ch(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof Rs)return i;if(i instanceof Or)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Lr=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:ks,useValue:i.callSetDisabledState??tl}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({imports:[Nb]});let t=e;return t})(),Vb=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Mb,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:ks,useValue:i.callSetDisabledState??tl}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({imports:[Nb]});let t=e;return t})();var Ub=function(t){let e=[],n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},uS=function(t){let e=[],n=0,i=0;for(;n<t.length;){let r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=t[n++];e[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=t[n++],s=t[n++],c=t[n++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return e.join("")},jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){let o=t[r],s=r+1<t.length,c=s?t[r+1]:0,l=r+2<t.length,d=l?t[r+2]:0,f=o>>2,p=(o&3)<<4|c>>4,y=(c&15)<<2|d>>6,A=d&63;l||(A=64,s||(y=64)),i.push(n[f],n[p],n[y],n[A])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ub(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uS(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){let o=n[t.charAt(r++)],c=r<t.length?n[t.charAt(r)]:0;++r;let d=r<t.length?n[t.charAt(r)]:64;++r;let p=r<t.length?n[t.charAt(r)]:64;if(++r,o==null||c==null||d==null||p==null)throw new Fh;let y=o<<2|c>>4;if(i.push(y),d!==64){let A=c<<4&240|d>>2;if(i.push(A),p!==64){let O=d<<6&192|p;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Fh=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dS=function(t){let e=Ub(t);return jb.encodeByteArray(e,!0)},Ms=function(t){return dS(t).replace(/\./g,"")},Lh=function(t){try{return jb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fS=()=>hS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pS=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Lh(t[1]);return e&&JSON.parse(e)},il=()=>{try{return fS()||mS()||pS()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Uh=t=>{var e,n;return(n=(e=il())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bb=t=>{let e=Uh(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},jh=()=>{var t;return(t=il())===null||t===void 0?void 0:t.config},Bh=t=>{var e;return(e=il())===null||e===void 0?void 0:e[`_${t}`]};var nl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}};function zb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ms(JSON.stringify(n)),Ms(JSON.stringify(s)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function gS(){var t;let e=(t=il())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qb(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wb(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hb(){return!gS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zh(){try{return typeof indexedDB=="object"}catch{return!1}}function Kb(){return new Promise((t,e)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;e(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var _S="FirebaseError",xt=class t extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=_S,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){let i=n[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?vS(o,i):"Error",c=`${this.serviceName}: ${s} (${r}).`;return new xt(r,c,i)}};function vS(t,e){return t.replace(bS,(n,i)=>{let r=e[i];return r!=null?String(r):`<${i}?>`})}var bS=/\{\$([^}]+)}/g;function Yb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ni(t,e){if(t===e)return!0;let n=Object.keys(t),i=Object.keys(e);for(let r of n){if(!i.includes(r))return!1;let o=t[r],s=e[r];if(Lb(o)&&Lb(s)){if(!Ni(o,s))return!1}else if(o!==s)return!1}for(let r of i)if(!n.includes(r))return!1;return!0}function Lb(t){return t!==null&&typeof t=="object"}function Ns(t){let e=[];for(let[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ur(t){let e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){let[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function jr(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Qb(t,e){let n=new Vh(t,e);return n.subscribe.bind(n)}var Vh=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");yS(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Nh),r.error===void 0&&(r.error=Nh),r.complete===void 0&&(r.complete=Nh);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function yS(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Nh(){}var SN=4*60*60*1e3;function lt(t){return t&&t._delegate?t._delegate:t}var Mt=class{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Fi="[DEFAULT]";var $h=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let i=new nl;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let i=this.normalizeInstanceIdentifier(e?.identifier),r=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(IS(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(let[n,i]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return b(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);i===c&&s.resolve(r)}return r}onInit(e,n){var i;let r=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);let s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let i=this.onInitCallbacks.get(n);if(i)for(let r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:wS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wS(t){return t===Fi?void 0:t}function IS(t){return t.instantiationMode==="EAGER"}var rl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new $h(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var ES=[],he=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(he||{}),TS={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},CS=he.INFO,AS={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},SS=(t,e,...n)=>{if(e<t.logLevel)return;let i=new Date().toISOString(),r=AS[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},oi=class{constructor(e){this.name=e,this._logLevel=CS,this._logHandler=SS,this._userLogHandler=null,ES.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}};var xS=(t,e)=>e.some(n=>t instanceof n),Xb,Jb;function DS(){return Xb||(Xb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RS(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Zb=new WeakMap,Gh=new WeakMap,ey=new WeakMap,qh=new WeakMap,Hh=new WeakMap;function kS(t){let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Jt(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Zb.set(n,t)}).catch(()=>{}),Hh.set(e,t),e}function PS(t){if(Gh.has(t))return;let e=new Promise((n,i)=>{let r=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gh.set(t,e)}var Wh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ey.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ty(t){Wh=t(Wh)}function OS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let i=t.call(ol(this),e,...n);return ey.set(i,e.sort?e.sort():[e]),Jt(i)}:RS().includes(t)?function(...e){return t.apply(ol(this),e),Jt(Zb.get(this))}:function(...e){return Jt(t.apply(ol(this),e))}}function MS(t){return typeof t=="function"?OS(t):(t instanceof IDBTransaction&&PS(t),xS(t,DS())?new Proxy(t,Wh):t)}function Jt(t){if(t instanceof IDBRequest)return kS(t);if(qh.has(t))return qh.get(t);let e=MS(t);return e!==t&&(qh.set(t,e),Hh.set(e,t)),e}var ol=t=>Hh.get(t);function iy(t,e,{blocked:n,upgrade:i,blocking:r,terminated:o}={}){let s=indexedDB.open(t,e),c=Jt(s);return i&&s.addEventListener("upgradeneeded",l=>{i(Jt(s.result),l.oldVersion,l.newVersion,Jt(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),c.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),c}var NS=["get","getKey","getAll","getAllKeys","count"],FS=["put","add","delete","clear"],Kh=new Map;function ny(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kh.get(e))return Kh.get(e);let n=e.replace(/FromIndex$/,""),i=e!==n,r=FS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||NS.includes(n)))return;let o=function(s,...c){return b(this,null,function*(){let l=this.transaction(s,r?"readwrite":"readonly"),d=l.store;return i&&(d=d.index(c.shift())),(yield Promise.all([d[n](...c),r&&l.done]))[0]})};return Kh.set(e,o),o}ty(t=>Ce(F({},t),{get:(e,n,i)=>ny(e,n)||t.get(e,n,i),has:(e,n)=>!!ny(e,n)||t.has(e,n)}));var Qh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VS(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function VS(t){let e=t.getComponent();return e?.type==="VERSION"}var Xh="@firebase/app",ry="0.10.3";var Vi=new oi("@firebase/app"),LS="@firebase/app-compat",US="@firebase/analytics-compat",jS="@firebase/analytics",BS="@firebase/app-check-compat",zS="@firebase/app-check",$S="@firebase/auth",qS="@firebase/auth-compat",GS="@firebase/database",WS="@firebase/database-compat",HS="@firebase/functions",KS="@firebase/functions-compat",YS="@firebase/installations",QS="@firebase/installations-compat",XS="@firebase/messaging",JS="@firebase/messaging-compat",ZS="@firebase/performance",ex="@firebase/performance-compat",tx="@firebase/remote-config",nx="@firebase/remote-config-compat",ix="@firebase/storage",rx="@firebase/storage-compat",ox="@firebase/firestore",sx="@firebase/vertexai-preview",ax="@firebase/firestore-compat",cx="firebase",lx="10.12.0";var Jh="[DEFAULT]",ux={[Xh]:"fire-core",[LS]:"fire-core-compat",[jS]:"fire-analytics",[US]:"fire-analytics-compat",[zS]:"fire-app-check",[BS]:"fire-app-check-compat",[$S]:"fire-auth",[qS]:"fire-auth-compat",[GS]:"fire-rtdb",[WS]:"fire-rtdb-compat",[HS]:"fire-fn",[KS]:"fire-fn-compat",[YS]:"fire-iid",[QS]:"fire-iid-compat",[XS]:"fire-fcm",[JS]:"fire-fcm-compat",[ZS]:"fire-perf",[ex]:"fire-perf-compat",[tx]:"fire-rc",[nx]:"fire-rc-compat",[ix]:"fire-gcs",[rx]:"fire-gcs-compat",[ox]:"fire-fst",[ax]:"fire-fst-compat",[sx]:"fire-vertex","fire-js":"fire-js",[cx]:"fire-js-all"};var Fs=new Map,dx=new Map,Zh=new Map;function oy(t,e){try{t.container.addComponent(e)}catch(n){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ai(t){let e=t.name;if(Zh.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Zh.set(e,t);for(let n of Fs.values())oy(n,t);for(let n of dx.values())oy(n,t);return!0}function Ls(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function jt(t){return t.settings!==void 0}var hx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new En("app","Firebase",hx);var ef=class{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Mt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}};var ci=lx;function rf(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let i=Object.assign({name:Jh,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw si.create("bad-app-name",{appName:String(r)});if(n||(n=jh()),!n)throw si.create("no-options");let o=Fs.get(r);if(o){if(Ni(n,o.options)&&Ni(i,o.config))return o;throw si.create("duplicate-app",{appName:r})}let s=new rl(r);for(let l of Zh.values())s.addComponent(l);let c=new ef(n,i,s);return Fs.set(r,c),c}function Br(t=Jh){let e=Fs.get(t);if(!e&&t===Jh&&jh())return rf();if(!e)throw si.create("no-app",{appName:t});return e}function sl(){return Array.from(Fs.values())}function Ye(t,e,n){var i;let r=(i=ux[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${r}" with version "${e}":`];o&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(c.join(" "));return}ai(new Mt(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}var fx="firebase-heartbeat-database",mx=1,Vs="firebase-heartbeat-store",Yh=null;function ly(){return Yh||(Yh=iy(fx,mx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vs)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Yh}function px(t){return b(this,null,function*(){try{let n=(yield ly()).transaction(Vs),i=yield n.objectStore(Vs).get(uy(t));return yield n.done,i}catch(e){if(e instanceof xt)Vi.warn(e.message);else{let n=si.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(n.message)}}})}function sy(t,e){return b(this,null,function*(){try{let i=(yield ly()).transaction(Vs,"readwrite");yield i.objectStore(Vs).put(e,uy(t)),yield i.done}catch(n){if(n instanceof xt)Vi.warn(n.message);else{let i=si.create("idb-set",{originalErrorMessage:n?.message});Vi.warn(i.message)}}})}function uy(t){return`${t.name}!${t.options.appId}`}var gx=1024,_x=30*24*60*60*1e3,tf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new nf(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return b(this,null,function*(){var e,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ay();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=_x}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return b(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ay(),{heartbeatsToSend:i,unsentEntries:r}=vx(this._heartbeatsCache.heartbeats),o=Ms(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function ay(){return new Date().toISOString().substring(0,10)}function vx(t,e=gx){let n=[],i=t.slice();for(let r of t){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),cy(n)>e){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),cy(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var nf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return b(this,null,function*(){return zh()?Kb().then(()=>!0).catch(()=>!1):!1})}read(){return b(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield px(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return sy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return b(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return sy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return})}};function cy(t){return Ms(JSON.stringify({version:2,heartbeats:t})).length}function bx(t){ai(new Mt("platform-logger",e=>new Qh(e),"PRIVATE")),ai(new Mt("heartbeat",e=>new tf(e),"PRIVATE")),Ye(Xh,ry,t),Ye(Xh,ry,"esm2017"),Ye("fire-js","")}bx("");var yx="firebase",wx="10.12.0";Ye(yx,wx,"app");var Ui=new yr("ANGULARFIRE2_VERSION");function cl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Us=(t,e)=>{let n=e?[e]:sl(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},$r=class{constructor(){return Us(Ix)}},Ix="app-check";function zr(){}var al=class{zone;delegate;constructor(e,n=k_){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},of=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zr,{},zr,zr)),n.pipe(Be({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},qr=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new al(Zone.current)),this.insideAngular=n.run(()=>new al(Zone.current,R_)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(x(J))};static \u0275prov=B({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ll(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Ex(t){return ll().ngZone.runOutsideAngular(()=>t())}function Li(t){return ll().ngZone.run(()=>t())}function Tx(t){return Cx(ll())(t)}function Cx(t){return function(n){return n=n.lift(new of(t.ngZone)),n.pipe(ad(t.outsideAngular),sd(t.insideAngular))}}var Ax=(t,e)=>function(){let i=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Li(()=>t.apply(void 0,i))},Zt=(t,e)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(e&&(n||=Li(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",zr,{},zr,zr))),i[o]=Ax(i[o],n));let r=Ex(()=>t.apply(this,i));if(!e)if(r instanceof It){let o=ll();return r.pipe(ad(o.outsideAngular),sd(o.insideAngular))}else return Li(()=>r);return r instanceof It?r.pipe(Tx):r instanceof Promise?Li(()=>new Promise((o,s)=>r.then(c=>Li(()=>o(c)),c=>Li(()=>s(c))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:Li(()=>r)};var Tn=class{constructor(e){return e}},ji=class{constructor(){return sl()}};function Sx(t){return t&&t.length===1?t[0]:new Tn(Br())}var sf=new G("angularfire2._apps"),xx={provide:Tn,useFactory:Sx,deps:[[new gt,sf]]},Dx={provide:ji,deps:[[new gt,sf]]};function Rx(t){return(e,n)=>{let i=n.get(Lt);Ye("angularfire",Ui.full,"core"),Ye("angularfire",Ui.full,"app"),Ye("angular",J_.full,i.toString());let r=e.runOutsideAngular(()=>t(n));return new Tn(r)}}function dy(t,...e){return Tt([xx,Dx,{provide:sf,useFactory:Rx(t),multi:!0,deps:[J,ze,qr,...e]}])}var hy=Zt(rf,!0);function Dy(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ry=Dy,ky=new En("auth","Firebase",Dy());var pl=new oi("@firebase/auth");function kx(t,...e){pl.logLevel<=he.WARN&&pl.warn(`Auth (${ci}): ${t}`,...e)}function dl(t,...e){pl.logLevel<=he.ERROR&&pl.error(`Auth (${ci}): ${t}`,...e)}function tn(t,...e){throw Df(t,...e)}function Bi(t,...e){return Df(t,...e)}function Py(t,e,n){let i=Object.assign(Object.assign({},Ry()),{[e]:n});return new En("auth","Firebase",i).create(e,{appName:t.name})}function Sn(t){return Py(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Df(t,...e){if(typeof t!="string"){let n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return ky.create(t,...e)}function Q(t,e,...n){if(!t)throw Df(e,...n)}function Cn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw dl(e),new Error(e)}function ui(t,e){t||Cn(e)}function uf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Px(){return fy()==="http:"||fy()==="https:"}function fy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Ox(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Px()||qb()||"connection"in navigator)?navigator.onLine:!0}function Mx(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var zi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ui(n>e,"Short delay should be less than long delay!"),this.isMobile=$b()||Gb()}get(){return Ox()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Rf(t,e){ui(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var gl=class{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Nx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Fx=new zi(3e4,6e4);function di(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function hi(o,s,c,l){return b(this,arguments,function*(t,e,n,i,r={}){return Oy(t,r,()=>b(this,null,function*(){let d={},f={};i&&(e==="GET"?f=i:d={body:JSON.stringify(i)});let p=Ns(Object.assign({key:t.config.apiKey},f)).slice(1),y=yield t._getAdditionalHeaders();return y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode),gl.fetch()(My(t,t.config.apiHost,n,p),Object.assign({method:e,headers:y,referrerPolicy:"no-referrer"},d))}))})}function Oy(t,e,n){return b(this,null,function*(){t._canInitEmulator=!1;let i=Object.assign(Object.assign({},Nx),e);try{let r=new df(t),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ul(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[l,d]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ul(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw ul(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw ul(t,"user-disabled",s);let f=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Py(t,f,d);tn(t,f)}}catch(r){if(r instanceof xt)throw r;tn(t,"network-request-failed",{message:String(r)})}})}function Hs(o,s,c,l){return b(this,arguments,function*(t,e,n,i,r={}){let d=yield hi(t,e,n,i,r);return"mfaPendingCredential"in d&&tn(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function My(t,e,n,i){let r=`${e}${n}?${i}`;return t.config.emulator?Rf(t.config,r):`${t.config.apiScheme}://${r}`}function Vx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var df=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Bi(this.auth,"network-request-failed")),Fx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ul(t,e,n){let i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Bi(t,e,i);return r.customData._tokenResponse=n,r}function my(t){return t!==void 0&&t.enterprise!==void 0}var hf=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Vx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Lx(t,e){return b(this,null,function*(){return hi(t,"GET","/v2/recaptchaConfig",di(t,e))})}function Ux(t,e){return b(this,null,function*(){return hi(t,"POST","/v1/accounts:delete",e)})}function Ny(t,e){return b(this,null,function*(){return hi(t,"POST","/v1/accounts:lookup",e)})}function js(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function kf(t,e=!1){return b(this,null,function*(){let n=lt(t),i=yield n.getIdToken(e),r=Pf(i);Q(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:js(af(r.auth_time)),issuedAtTime:js(af(r.iat)),expirationTime:js(af(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function af(t){return Number(t)*1e3}function Pf(t){let[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return dl("JWT malformed, contained fewer than 3 sections"),null;try{let r=Lh(n);return r?JSON.parse(r):(dl("Failed to decode base64 JWT payload"),null)}catch(r){return dl("Caught error parsing JWT payload as JSON",r?.toString()),null}}function py(t){let e=Pf(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function zs(t,e,n=!1){return b(this,null,function*(){if(n)return e;try{return yield e}catch(i){throw i instanceof xt&&jx(i)&&t.auth.currentUser===t&&(yield t.auth.signOut()),i}})}function jx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var ff=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>b(this,null,function*(){yield this.iteration()}),n)}iteration(){return b(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var $s=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=js(this.lastLoginAt),this.creationTime=js(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function _l(t){return b(this,null,function*(){var e;let n=t.auth,i=yield t.getIdToken(),r=yield zs(t,Ny(n,{idToken:i}));Q(r?.users.length,n,"internal-error");let o=r.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Fy(o.providerUserInfo):[],c=Bx(t.providerData,s),l=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!c?.length,f=l?d:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $s(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,p)})}function Of(t){return b(this,null,function*(){let e=lt(t);yield _l(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Bx(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Fy(t){return t.map(e=>{var{providerId:n}=e,i=od(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function zx(t,e){return b(this,null,function*(){let n=yield Oy(t,{},()=>b(this,null,function*(){let i=Ns({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=t.config,s=My(t,r,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",gl.fetch()(s,{method:"POST",headers:c,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function $x(t,e){return b(this,null,function*(){return hi(t,"POST","/v2/accounts:revokeToken",di(t,e))})}var Bs=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):py(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let n=py(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return b(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return b(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield zx(e,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new t;return i&&(Q(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&(Q(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),o&&(Q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Cn("not implemented")}};function li(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Gr=class t{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,o=od(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ff(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $s(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return b(this,null,function*(){let n=yield zs(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return kf(this,e)}reload(){return Of(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return b(this,null,function*(){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield _l(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return b(this,null,function*(){if(jt(this.auth.app))return Promise.reject(Sn(this.auth));let e=yield this.getIdToken();return yield zs(this,Ux(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,o,s,c,l,d,f;let p=(i=n.displayName)!==null&&i!==void 0?i:void 0,y=(r=n.email)!==null&&r!==void 0?r:void 0,A=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,O=(s=n.photoURL)!==null&&s!==void 0?s:void 0,V=(c=n.tenantId)!==null&&c!==void 0?c:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,z=(d=n.createdAt)!==null&&d!==void 0?d:void 0,Y=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:ue,emailVerified:oe,isAnonymous:We,providerData:we,stsTokenManager:I}=n;Q(ue&&I,e,"internal-error");let g=Bs.fromJSON(this.name,I);Q(typeof ue=="string",e,"internal-error"),li(p,e.name),li(y,e.name),Q(typeof oe=="boolean",e,"internal-error"),Q(typeof We=="boolean",e,"internal-error"),li(A,e.name),li(O,e.name),li(V,e.name),li(R,e.name),li(z,e.name),li(Y,e.name);let v=new t({uid:ue,auth:e,email:y,emailVerified:oe,displayName:p,isAnonymous:We,photoURL:O,phoneNumber:A,tenantId:V,stsTokenManager:g,createdAt:z,lastLoginAt:Y});return we&&Array.isArray(we)&&(v.providerData=we.map(w=>Object.assign({},w))),R&&(v._redirectEventId=R),v}static _fromIdTokenResponse(e,n,i=!1){return b(this,null,function*(){let r=new Bs;r.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield _l(o),o})}static _fromGetAccountInfoResponse(e,n,i){return b(this,null,function*(){let r=n.users[0];Q(r.localId!==void 0,"internal-error");let o=r.providerUserInfo!==void 0?Fy(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!o?.length,c=new Bs;c.updateFromIdToken(i);let l=new t({uid:r.localId,auth:e,stsTokenManager:c,isAnonymous:s}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new $s(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(l,d),l})}};var gy=new Map;function An(t){ui(t instanceof Function,"Expected a class definition");let e=gy.get(t);return e?(ui(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gy.set(t,e),e)}var qx=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return b(this,null,function*(){return!0})}_set(n,i){return b(this,null,function*(){this.storage[n]=i})}_get(n){return b(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return b(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return t.type="NONE",t})(),mf=qx;function hl(t,e,n){return`firebase:${t}:${e}:${n}`}var vl=class t{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=hl(this.userKey,r.apiKey,o),this.fullPersistenceKey=hl("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return b(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Gr._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return b(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,i="authUser"){return b(this,null,function*(){if(!n.length)return new t(An(mf),e,i);let r=(yield Promise.all(n.map(d=>b(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=r[0]||An(mf),s=hl(i,e.config.apiKey,e.name),c=null;for(let d of n)try{let f=yield d._get(s);if(f){let p=Gr._fromJSON(e,f);d!==o&&(c=p),o=d;break}}catch{}let l=r.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,i):(o=l[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(d=>b(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,i))})}};function _y(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Uy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Vy(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(By(e))return"Blackberry";if(zy(e))return"Webos";if(Mf(e))return"Safari";if((e.includes("chrome/")||Ly(e))&&!e.includes("edge/"))return"Chrome";if(jy(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if(i?.length===2)return i[1]}return"Other"}function Vy(t=Ke()){return/firefox\//i.test(t)}function Mf(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ly(t=Ke()){return/crios\//i.test(t)}function Uy(t=Ke()){return/iemobile/i.test(t)}function jy(t=Ke()){return/android/i.test(t)}function By(t=Ke()){return/blackberry/i.test(t)}function zy(t=Ke()){return/webos/i.test(t)}function Al(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gx(t=Ke()){var e;return Al(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Wx(){return Wb()&&document.documentMode===10}function $y(t=Ke()){return Al(t)||jy(t)||zy(t)||By(t)||/windows phone/i.test(t)||Uy(t)}function Hx(){try{return!!(window&&window!==window.top)}catch{return!1}}function qy(t,e=[]){let n;switch(t){case"Browser":n=_y(Ke());break;case"Worker":n=`${_y(Ke())}-${t}`;break;default:n=t}let i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ci}/${i}`}var pf=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let i=o=>new Promise((s,c)=>{try{let l=e(o);s(l)}catch(l){c(l)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){return b(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let i of this.queue)yield i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Kx(n){return b(this,arguments,function*(t,e={}){return hi(t,"GET","/v2/passwordPolicy",di(t,e))})}var Yx=6,gf=class{constructor(e){var n,i,r,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Yx,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,o,s,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var _f=class{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bl(this),this.idTokenSubscription=new bl(this),this.beforeStateQueue=new pf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ky,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=An(n)),this._initializationPromise=this.queue(()=>b(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield vl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return b(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return b(this,null,function*(){try{let n=yield Ny(this,{idToken:e}),i=yield Gr._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return b(this,null,function*(){var n;if(jt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===c)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(e){return b(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return b(this,null,function*(){try{yield _l(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Mx()}_delete(){return b(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return b(this,null,function*(){if(jt(this.app))return Promise.reject(Sn(this));let n=e?lt(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return b(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>b(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return b(this,null,function*(){return jt(this.app)?Promise.reject(Sn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return jt(this.app)?Promise.reject(Sn(this)):this.queue(()=>b(this,null,function*(){yield this.assertedPersistence.setPersistence(An(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return b(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return b(this,null,function*(){let e=yield Kx(this),n=new gf(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},n)}})}revokeAccessToken(e){return b(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield $x(this,i)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return b(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return b(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&An(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=yield vl.create(this,[An(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return b(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>b(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return b(this,null,function*(){if(e===this.currentUser)return this.queue(()=>b(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,i,r);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return b(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return b(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return b(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&kx(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function qi(t){return lt(t)}var bl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Qb(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Sl={loadJS(){return b(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Qx(t){Sl=t}function Gy(t){return Sl.loadJS(t)}function Xx(){return Sl.recaptchaEnterpriseScript}function Jx(){return Sl.gapiScript}function Wy(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Zx="recaptcha-enterprise",eD="NO_RECAPTCHA",vf=class{constructor(e){this.type=Zx,this.auth=qi(e)}verify(e="verify",n=!1){return b(this,null,function*(){function i(o){return b(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>b(this,null,function*(){Lx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let d=new hf(l);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(l=>{c(l)})}))})}function r(o,s,c){let l=window.grecaptcha;my(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(eD)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{i(this.auth).then(c=>{if(!n&&my(window.grecaptcha))r(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Xx();l.length!==0&&(l+=c),Gy(l).then(()=>{r(c,o,s)}).catch(d=>{s(d)})}}).catch(c=>{s(c)})})})}};function vy(t,e,n,i=!1){return b(this,null,function*(){let r=new vf(t),o;try{o=yield r.verify(n)}catch{o=yield r.verify(n,!0)}let s=Object.assign({},e);return i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function bf(t,e,n,i){return b(this,null,function*(){var r;if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield vy(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(o=>b(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield vy(t,e,n,n==="getOobCode");return i(t,s)}else return Promise.reject(o)}))})}function Nf(t,e){let n=Ls(t,"auth");if(n.isInitialized()){let r=n.getImmediate(),o=n.getOptions();if(Ni(o,e??{}))return r;tn(r,"already-initialized")}return n.initialize({options:e})}function tD(t,e){let n=e?.persistence||[],i=(Array.isArray(n)?n:[n]).map(An);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e?.popupRedirectResolver)}function Ff(t,e,n){let i=qi(t);Q(i._canInitEmulator,i,"emulator-config-failed"),Q(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");let r=!!n?.disableWarnings,o=Hy(e),{host:s,port:c}=nD(e),l=c===null?"":`:${c}`;i.config.emulator={url:`${o}//${s}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||iD()}function Hy(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function nD(t){let e=Hy(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){let o=r[1];return{host:o,port:by(i.substr(o.length+1))}}else{let[o,s]=i.split(":");return{host:o,port:by(s)}}}function by(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function iD(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var qs=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Cn("not implemented")}_getIdTokenResponse(e){return Cn("not implemented")}_linkToIdToken(e,n){return Cn("not implemented")}_getReauthenticationResolver(e){return Cn("not implemented")}};function rD(t,e){return b(this,null,function*(){return hi(t,"POST","/v1/accounts:signUp",e)})}function oD(t,e){return b(this,null,function*(){return Hs(t,"POST","/v1/accounts:signInWithPassword",di(t,e))})}function sD(t,e){return b(this,null,function*(){return Hs(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))})}function aD(t,e){return b(this,null,function*(){return Hs(t,"POST","/v1/accounts:signInWithEmailLink",di(t,e))})}var Gs=class t extends qs{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return b(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bf(e,n,"signInWithPassword",oD);case"emailLink":return sD(e,{email:this._email,oobCode:this._password});default:tn(e,"internal-error")}})}_linkToIdToken(e,n){return b(this,null,function*(){switch(this.signInMethod){case"password":let i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bf(e,i,"signUpPassword",rD);case"emailLink":return aD(e,{idToken:n,email:this._email,oobCode:this._password});default:tn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function cf(t,e){return b(this,null,function*(){return Hs(t,"POST","/v1/accounts:signInWithIdp",di(t,e))})}function cD(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lD(t){let e=Ur(jr(t)).link,n=e?Ur(jr(e)).deep_link_id:null,i=Ur(jr(t)).deep_link_id;return(i?Ur(jr(i)).link:null)||i||n||e||t}var yl=class t{constructor(e){var n,i,r,o,s,c;let l=Ur(jr(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(i=l.oobCode)!==null&&i!==void 0?i:null,p=cD((r=l.mode)!==null&&r!==void 0?r:null);Q(d&&f&&p,"argument-error"),this.apiKey=d,this.operation=p,this.code=f,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=lD(e);try{return new t(n)}catch{return null}}};var Ky=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,i){return Gs._fromEmailAndPassword(n,i)}static credentialWithLink(n,i){let r=yl.parseLink(i);return Q(r,"argument-error"),Gs._fromEmailAndCode(n,r.code,r.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),wl=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var yf=class extends wl{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function uD(t,e){return b(this,null,function*(){return Hs(t,"POST","/v1/accounts:signUp",di(t,e))})}var Wr=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,i,r=!1){return b(this,null,function*(){let o=yield Gr._fromIdTokenResponse(e,i,r),s=yy(i);return new t({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(e,n,i){return b(this,null,function*(){yield e._updateTokensIfNecessary(i,!0);let r=yy(i);return new t({user:e,providerId:r,_tokenResponse:i,operationType:n})})}};function yy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var wf=class t extends xt{constructor(e,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new t(e,n,i,r)}};function Yy(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?wf._fromErrorAndOperation(t,o,e,i):o})}function dD(t,e,n=!1){return b(this,null,function*(){let i=yield zs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Wr._forOperation(t,"link",i)})}function hD(t,e,n=!1){return b(this,null,function*(){let{auth:i}=t;if(jt(i.app))return Promise.reject(Sn(i));let r="reauthenticate";try{let o=yield zs(t,Yy(i,r,e,t),n);Q(o.idToken,i,"internal-error");let s=Pf(o.idToken);Q(s,i,"internal-error");let{sub:c}=s;return Q(t.uid===c,i,"user-mismatch"),Wr._forOperation(t,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&tn(i,"user-mismatch"),o}})}function Qy(t,e,n=!1){return b(this,null,function*(){if(jt(t.app))return Promise.reject(Sn(t));let i="signIn",r=yield Yy(t,i,e),o=yield Wr._fromIdTokenResponse(t,i,r);return n||(yield t._updateCurrentUser(o.user)),o})}function Vf(t,e){return b(this,null,function*(){return Qy(qi(t),e)})}function Xy(t){return b(this,null,function*(){let e=qi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Lf(t,e,n){return b(this,null,function*(){if(jt(t.app))return Promise.reject(Sn(t));let i=qi(t),s=yield bf(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uD).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Xy(t),l}),c=yield Wr._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(c.user),c})}function Uf(t,e,n){return jt(t.app)?Promise.reject(Sn(t)):Vf(lt(t),Ky.credential(e,n)).catch(i=>b(this,null,function*(){throw i.code==="auth/password-does-not-meet-requirements"&&Xy(t),i}))}function xl(t,e,n,i){return lt(t).onIdTokenChanged(e,n,i)}function jf(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function Dl(t,e,n,i){return lt(t).onAuthStateChanged(e,n,i)}var Il="__sak";var El=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Il,"1"),this.storage.removeItem(Il),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function fD(){let t=Ke();return Mf(t)||Al(t)}var mD=1e3,pD=10,gD=(()=>{class t extends El{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,i)=>this.onStorageEvent(n,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=fD()&&Hx(),this.fallbackToPolling=$y(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let i of Object.keys(this.listeners)){let r=this.storage.getItem(i),o=this.localCache[i];r!==o&&n(i,o,r)}}onStorageEvent(n,i=!1){if(!n.key){this.forAllChangedKeys((c,l,d)=>{this.notifyListeners(c,d)});return}let r=n.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let c=this.storage.getItem(r);if(n.newValue!==c)n.newValue!==null?this.storage.setItem(r,n.newValue):this.storage.removeItem(r);else if(this.localCache[r]===n.newValue&&!i)return}let o=()=>{let c=this.storage.getItem(r);!i&&this.localCache[r]===c||this.notifyListeners(r,c)},s=this.storage.getItem(r);Wx()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,pD):o()}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:i,newValue:r}),!0)})},mD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,i){return b(this,null,function*(){yield $n(t.prototype,this,"_set").call(this,n,i),this.localCache[n]=JSON.stringify(i)})}_get(n){return b(this,null,function*(){let i=yield $n(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(i),i})}_remove(n){return b(this,null,function*(){yield $n(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Jy=gD;var _D=(()=>{class t extends El{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return t.type="SESSION",t})(),Bf=_D;function vD(t){return Promise.all(t.map(e=>b(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var bD=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let i=this.receivers.find(o=>o.isListeningto(n));if(i)return i;let r=new t(n);return this.receivers.push(r),r}isListeningto(n){return this.eventTarget===n}handleEvent(n){return b(this,null,function*(){let i=n,{eventId:r,eventType:o,data:s}=i.data,c=this.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:o});let l=Array.from(c).map(f=>b(this,null,function*(){return f(i.origin,s)})),d=yield vD(l);i.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:d})})}_subscribe(n,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(i)}_unsubscribe(n,i){this.handlersMap[n]&&i&&this.handlersMap[n].delete(i),(!i||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function Zy(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}var If=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,i=50){return b(this,null,function*(){let r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((c,l)=>{let d=Zy("",20);r.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(p){let y=p;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(y.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function en(){return window}function yD(t){en().location.href=t}function e0(){return typeof en().WorkerGlobalScope<"u"&&typeof en().importScripts=="function"}function wD(){return b(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function ID(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ED(){return e0()?self:null}var t0="firebaseLocalStorageDb",TD=1,Tl="firebaseLocalStorage",n0="fbase_key",$i=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Rl(t,e){return t.transaction([Tl],e?"readwrite":"readonly").objectStore(Tl)}function CD(){let t=indexedDB.deleteDatabase(t0);return new $i(t).toPromise()}function Ef(){let t=indexedDB.open(t0,TD);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let i=t.result;try{i.createObjectStore(Tl,{keyPath:n0})}catch(r){n(r)}}),t.addEventListener("success",()=>b(this,null,function*(){let i=t.result;i.objectStoreNames.contains(Tl)?e(i):(i.close(),yield CD(),e(yield Ef()))}))})}function wy(t,e,n){return b(this,null,function*(){let i=Rl(t,!0).put({[n0]:e,value:n});return new $i(i).toPromise()})}function AD(t,e){return b(this,null,function*(){let n=Rl(t,!1).get(e),i=yield new $i(n).toPromise();return i===void 0?null:i.value})}function Iy(t,e){let n=Rl(t,!0).delete(e);return new $i(n).toPromise()}var SD=800,xD=3,DD=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return b(this,null,function*(){return this.db?this.db:(this.db=yield Ef(),this.db)})}_withRetries(n){return b(this,null,function*(){let i=0;for(;;)try{let r=yield this._openDb();return yield n(r)}catch(r){if(i++>xD)throw r;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return b(this,null,function*(){return e0()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return b(this,null,function*(){this.receiver=bD._getInstance(ED()),this.receiver._subscribe("keyChanged",(n,i)=>b(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(i.key)}})),this.receiver._subscribe("ping",(n,i)=>b(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return b(this,null,function*(){var n,i;if(this.activeServiceWorker=yield wD(),!this.activeServiceWorker)return;this.sender=new If(this.activeServiceWorker);let r=yield this.sender._send("ping",{},800);r&&!((n=r[0])===null||n===void 0)&&n.fulfilled&&!((i=r[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return b(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||ID()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return b(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Ef();return yield wy(n,Il,"1"),yield Iy(n,Il),!0}catch{}return!1})}_withPendingWrite(n){return b(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,i){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(r=>wy(r,n,i)),this.localCache[n]=i,this.notifyServiceWorker(n)}))})}_get(n){return b(this,null,function*(){let i=yield this._withRetries(r=>AD(r,n));return this.localCache[n]=i,i})}_remove(n){return b(this,null,function*(){return this._withPendingWrite(()=>b(this,null,function*(){return yield this._withRetries(i=>Iy(i,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return b(this,null,function*(){let n=yield this._withRetries(o=>{let s=Rl(o,!1).getAll();return new $i(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let i=[],r=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),i.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),i.push(o));return i})}notifyListeners(n,i){this.localCache[n]=i;let r=this.listeners[n];if(r)for(let o of Array.from(r))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>b(this,null,function*(){return this._poll()}),SD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(i)}_removeListener(n,i){this.listeners[n]&&(this.listeners[n].delete(i),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),i0=DD;var bF=Wy("rcb"),yF=new zi(3e4,6e4);function RD(t,e){return e?An(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ws=class extends qs{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cf(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function kD(t){return Qy(t.auth,new Ws(t),t.bypassAuthState)}function PD(t){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),hD(n,new Ws(t),t.bypassAuthState)}function OD(t){return b(this,null,function*(){let{auth:e,user:n}=t;return Q(n,e,"internal-error"),dD(n,new Ws(t),t.bypassAuthState)})}var Tf=class{constructor(e,n,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>b(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(e){return b(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kD;case"linkViaPopup":case"linkViaRedirect":return OD;case"reauthViaPopup":case"reauthViaRedirect":return PD;default:tn(this.auth,"internal-error")}}resolve(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ui(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var wF=new zi(2e3,1e4);var MD="pendingRedirect",fl=new Map,Cf=class t extends Tf{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return b(this,null,function*(){let e=fl.get(this.auth._key());if(!e){try{let i=(yield ND(this.resolver,this.auth))?yield $n(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}fl.set(this.auth._key(),e)}return this.bypassAuthState||fl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return b(this,null,function*(){if(e.type==="signInViaRedirect")return $n(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,$n(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return b(this,null,function*(){})}cleanUp(){}};function ND(t,e){return b(this,null,function*(){let n=LD(e),i=VD(t);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function FD(t,e){fl.set(t._key(),e)}function VD(t){return An(t._redirectPersistence)}function LD(t){return hl(MD,t.config.apiKey,t.name)}function UD(t,e,n=!1){return b(this,null,function*(){if(jt(t.app))return Promise.reject(Sn(t));let i=qi(t),r=RD(i,e),s=yield new Cf(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})}var jD=10*60*1e3,Af=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!r0(e)){let r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jD&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ey(e))}saveEventToCache(e){this.cachedEventUids.add(Ey(e)),this.lastProcessedEventTime=Date.now()}};function Ey(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r0({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r0(t);default:return!1}}function zD(n){return b(this,arguments,function*(t,e={}){return hi(t,"GET","/v1/projects",e)})}var $D=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qD=/^https?/;function GD(t){return b(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield zD(t);for(let n of e)try{if(WD(n))return}catch{}tn(t,"unauthorized-domain")})}function WD(t){let e=uf(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!qD.test(n))return!1;if($D.test(t))return i===t;let r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var HD=new zi(3e4,6e4);function Ty(){let t=en().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KD(t){return new Promise((e,n)=>{var i,r,o;function s(){Ty(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ty(),n(Bi(t,"network-request-failed"))},timeout:HD.get()})}if(!((r=(i=en().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((o=en().gapi)===null||o===void 0)&&o.load)s();else{let c=Wy("iframefcb");return en()[c]=()=>{gapi.load?s():n(Bi(t,"network-request-failed"))},Gy(`${Jx()}?onload=${c}`).catch(l=>n(l))}}).catch(e=>{throw ml=null,e})}var ml=null;function YD(t){return ml=ml||KD(t),ml}var QD=new zi(5e3,15e3),XD="__/auth/iframe",JD="emulator/auth/iframe",ZD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tR(t){let e=t.config;Q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Rf(e,JD):`https://${t.config.authDomain}/${XD}`,i={apiKey:e.apiKey,appName:t.name,v:ci},r=eR.get(t.config.apiHost);r&&(i.eid=r);let o=t._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Ns(i).slice(1)}`}function nR(t){return b(this,null,function*(){let e=yield YD(t),n=en().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:tR(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZD,dontclear:!0},i=>new Promise((r,o)=>b(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Bi(t,"network-request-failed"),c=en().setTimeout(()=>{o(s)},QD.get());function l(){en().clearTimeout(c),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var iR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rR=500,oR=600,sR="_blank",aR="http://localhost",Cl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cR(t,e,n,i=rR,r=oR){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),c="",l=Object.assign(Object.assign({},iR),{width:i.toString(),height:r.toString(),top:o,left:s}),d=Ke().toLowerCase();n&&(c=Ly(d)?sR:n),Vy(d)&&(e=e||aR,l.scrollbars="yes");let f=Object.entries(l).reduce((y,[A,O])=>`${y}${A}=${O},`,"");if(Gx(d)&&c!=="_self")return lR(e||"",c),new Cl(null);let p=window.open(e||"",c,f);Q(p,t,"popup-blocked");try{p.focus()}catch{}return new Cl(p)}function lR(t,e){let n=document.createElement("a");n.href=t,n.target=e;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var uR="__/auth/handler",dR="emulator/auth/handler",hR=encodeURIComponent("fac");function Cy(t,e,n,i,r,o){return b(this,null,function*(){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ci,eventId:r};if(e instanceof wl){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Yb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,p]of Object.entries(o||{}))s[f]=p}if(e instanceof yf){let f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield t._getAppCheckToken(),d=l?`#${hR}=${encodeURIComponent(l)}`:"";return`${fR(t)}?${Ns(c).slice(1)}${d}`})}function fR({config:t}){return t.emulator?Rf(t,dR):`https://${t.authDomain}/${uR}`}var lf="webStorageSupport",Sf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bf,this._completeRedirectFn=UD,this._overrideRedirectResult=FD}_openPopup(e,n,i,r){return b(this,null,function*(){var o;ui((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield Cy(e,n,i,uf(),r);return cR(e,s,Zy())})}_openRedirect(e,n,i,r){return b(this,null,function*(){yield this._originValidation(e);let o=yield Cy(e,n,i,uf(),r);return yD(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(ui(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(e){return b(this,null,function*(){let n=yield nR(e),i=new Af(e);return n.register("authEvent",r=>(Q(r?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lf,{type:lf},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[lf];s!==void 0&&n(!!s),tn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $y()||Mf()||Al()}},o0=Sf;var Ay="@firebase/auth",Sy="1.7.3";var xf=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return b(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function mR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function pR(t){ai(new Mt("auth",(e,{options:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=i.options;Q(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qy(t)},d=new _f(i,r,o,l);return tD(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),ai(new Mt("auth-internal",e=>{let n=qi(e.getProvider("auth").getImmediate());return(i=>new xf(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ye(Ay,Sy,mR(t)),Ye(Ay,Sy,"esm2017")}var gR=5*60,_R=Bh("authIdTokenMaxAge")||gR,xy=null,vR=t=>e=>b(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>_R)return;let r=n?.token;xy!==r&&(xy=r,yield fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});function zf(t=Br()){let e=Ls(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Nf(t,{popupRedirectResolver:o0,persistence:[i0,Jy,Bf]}),i=Bh("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(i,location.origin);if(location.origin===o.origin){let s=vR(o.toString());jf(n,s,()=>s(n.currentUser)),xl(n,c=>s(c))}}let r=Uh("auth");return r&&Ff(n,`http://${r}`),n}function bR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Qx({loadJS(t){return new Promise((e,n)=>{let i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{let o=Bi("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",bR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});pR("Browser");function a0(t){return new It(function(e){var n=Dl(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var c0="auth",xn=class{constructor(e){return e}},Ks=class{constructor(){return Us(c0)}};var $f=new G("angularfire2.auth-instances");function ck(t,e){let n=cl(c0,t,e);return n&&new xn(n)}function lk(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new xn(i)}}var uk={provide:Ks,deps:[[new gt,$f]]},dk={provide:xn,useFactory:ck,deps:[[new gt,$f],Tn]};function l0(t,...e){return Ye("angularfire",Ui.full,"auth"),Tt([dk,uk,{provide:$f,useFactory:lk(t),multi:!0,deps:[J,ze,qr,ji,[new gt,$r],...e]}])}var u0=Zt(a0,!0);var d0=Zt(Lf,!0);var h0=Zt(zf,!0);var f0=Zt(Uf,!0);var nn=(()=>{let e=class e{constructor(){this.auth=M(xn)}register(i){return d0(this.auth,i.email,i.password)}logIn(i){return f0(this.auth,i.email,i.password)}logOut(){return this.auth.signOut()}getUser(){return u0(this.auth)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p0={};var fi,qf;(function(){var t;function e(I,g){function v(){}v.prototype=g.prototype,I.D=g.prototype,I.prototype=new v,I.prototype.constructor=I,I.C=function(w,E,C){for(var _=Array(arguments.length-2),mn=2;mn<arguments.length;mn++)_[mn-2]=arguments[mn];return g.prototype[E].apply(w,_)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,g,v){v||(v=0);var w=Array(16);if(typeof g=="string")for(var E=0;16>E;++E)w[E]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(E=0;16>E;++E)w[E]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=I.g[0],v=I.g[1],E=I.g[2];var C=I.g[3],_=g+(C^v&(E^C))+w[0]+3614090360&4294967295;g=v+(_<<7&4294967295|_>>>25),_=C+(E^g&(v^E))+w[1]+3905402710&4294967295,C=g+(_<<12&4294967295|_>>>20),_=E+(v^C&(g^v))+w[2]+606105819&4294967295,E=C+(_<<17&4294967295|_>>>15),_=v+(g^E&(C^g))+w[3]+3250441966&4294967295,v=E+(_<<22&4294967295|_>>>10),_=g+(C^v&(E^C))+w[4]+4118548399&4294967295,g=v+(_<<7&4294967295|_>>>25),_=C+(E^g&(v^E))+w[5]+1200080426&4294967295,C=g+(_<<12&4294967295|_>>>20),_=E+(v^C&(g^v))+w[6]+2821735955&4294967295,E=C+(_<<17&4294967295|_>>>15),_=v+(g^E&(C^g))+w[7]+4249261313&4294967295,v=E+(_<<22&4294967295|_>>>10),_=g+(C^v&(E^C))+w[8]+1770035416&4294967295,g=v+(_<<7&4294967295|_>>>25),_=C+(E^g&(v^E))+w[9]+2336552879&4294967295,C=g+(_<<12&4294967295|_>>>20),_=E+(v^C&(g^v))+w[10]+4294925233&4294967295,E=C+(_<<17&4294967295|_>>>15),_=v+(g^E&(C^g))+w[11]+2304563134&4294967295,v=E+(_<<22&4294967295|_>>>10),_=g+(C^v&(E^C))+w[12]+1804603682&4294967295,g=v+(_<<7&4294967295|_>>>25),_=C+(E^g&(v^E))+w[13]+4254626195&4294967295,C=g+(_<<12&4294967295|_>>>20),_=E+(v^C&(g^v))+w[14]+2792965006&4294967295,E=C+(_<<17&4294967295|_>>>15),_=v+(g^E&(C^g))+w[15]+1236535329&4294967295,v=E+(_<<22&4294967295|_>>>10),_=g+(E^C&(v^E))+w[1]+4129170786&4294967295,g=v+(_<<5&4294967295|_>>>27),_=C+(v^E&(g^v))+w[6]+3225465664&4294967295,C=g+(_<<9&4294967295|_>>>23),_=E+(g^v&(C^g))+w[11]+643717713&4294967295,E=C+(_<<14&4294967295|_>>>18),_=v+(C^g&(E^C))+w[0]+3921069994&4294967295,v=E+(_<<20&4294967295|_>>>12),_=g+(E^C&(v^E))+w[5]+3593408605&4294967295,g=v+(_<<5&4294967295|_>>>27),_=C+(v^E&(g^v))+w[10]+38016083&4294967295,C=g+(_<<9&4294967295|_>>>23),_=E+(g^v&(C^g))+w[15]+3634488961&4294967295,E=C+(_<<14&4294967295|_>>>18),_=v+(C^g&(E^C))+w[4]+3889429448&4294967295,v=E+(_<<20&4294967295|_>>>12),_=g+(E^C&(v^E))+w[9]+568446438&4294967295,g=v+(_<<5&4294967295|_>>>27),_=C+(v^E&(g^v))+w[14]+3275163606&4294967295,C=g+(_<<9&4294967295|_>>>23),_=E+(g^v&(C^g))+w[3]+4107603335&4294967295,E=C+(_<<14&4294967295|_>>>18),_=v+(C^g&(E^C))+w[8]+1163531501&4294967295,v=E+(_<<20&4294967295|_>>>12),_=g+(E^C&(v^E))+w[13]+2850285829&4294967295,g=v+(_<<5&4294967295|_>>>27),_=C+(v^E&(g^v))+w[2]+4243563512&4294967295,C=g+(_<<9&4294967295|_>>>23),_=E+(g^v&(C^g))+w[7]+1735328473&4294967295,E=C+(_<<14&4294967295|_>>>18),_=v+(C^g&(E^C))+w[12]+2368359562&4294967295,v=E+(_<<20&4294967295|_>>>12),_=g+(v^E^C)+w[5]+4294588738&4294967295,g=v+(_<<4&4294967295|_>>>28),_=C+(g^v^E)+w[8]+2272392833&4294967295,C=g+(_<<11&4294967295|_>>>21),_=E+(C^g^v)+w[11]+1839030562&4294967295,E=C+(_<<16&4294967295|_>>>16),_=v+(E^C^g)+w[14]+4259657740&4294967295,v=E+(_<<23&4294967295|_>>>9),_=g+(v^E^C)+w[1]+2763975236&4294967295,g=v+(_<<4&4294967295|_>>>28),_=C+(g^v^E)+w[4]+1272893353&4294967295,C=g+(_<<11&4294967295|_>>>21),_=E+(C^g^v)+w[7]+4139469664&4294967295,E=C+(_<<16&4294967295|_>>>16),_=v+(E^C^g)+w[10]+3200236656&4294967295,v=E+(_<<23&4294967295|_>>>9),_=g+(v^E^C)+w[13]+681279174&4294967295,g=v+(_<<4&4294967295|_>>>28),_=C+(g^v^E)+w[0]+3936430074&4294967295,C=g+(_<<11&4294967295|_>>>21),_=E+(C^g^v)+w[3]+3572445317&4294967295,E=C+(_<<16&4294967295|_>>>16),_=v+(E^C^g)+w[6]+76029189&4294967295,v=E+(_<<23&4294967295|_>>>9),_=g+(v^E^C)+w[9]+3654602809&4294967295,g=v+(_<<4&4294967295|_>>>28),_=C+(g^v^E)+w[12]+3873151461&4294967295,C=g+(_<<11&4294967295|_>>>21),_=E+(C^g^v)+w[15]+530742520&4294967295,E=C+(_<<16&4294967295|_>>>16),_=v+(E^C^g)+w[2]+3299628645&4294967295,v=E+(_<<23&4294967295|_>>>9),_=g+(E^(v|~C))+w[0]+4096336452&4294967295,g=v+(_<<6&4294967295|_>>>26),_=C+(v^(g|~E))+w[7]+1126891415&4294967295,C=g+(_<<10&4294967295|_>>>22),_=E+(g^(C|~v))+w[14]+2878612391&4294967295,E=C+(_<<15&4294967295|_>>>17),_=v+(C^(E|~g))+w[5]+4237533241&4294967295,v=E+(_<<21&4294967295|_>>>11),_=g+(E^(v|~C))+w[12]+1700485571&4294967295,g=v+(_<<6&4294967295|_>>>26),_=C+(v^(g|~E))+w[3]+2399980690&4294967295,C=g+(_<<10&4294967295|_>>>22),_=E+(g^(C|~v))+w[10]+4293915773&4294967295,E=C+(_<<15&4294967295|_>>>17),_=v+(C^(E|~g))+w[1]+2240044497&4294967295,v=E+(_<<21&4294967295|_>>>11),_=g+(E^(v|~C))+w[8]+1873313359&4294967295,g=v+(_<<6&4294967295|_>>>26),_=C+(v^(g|~E))+w[15]+4264355552&4294967295,C=g+(_<<10&4294967295|_>>>22),_=E+(g^(C|~v))+w[6]+2734768916&4294967295,E=C+(_<<15&4294967295|_>>>17),_=v+(C^(E|~g))+w[13]+1309151649&4294967295,v=E+(_<<21&4294967295|_>>>11),_=g+(E^(v|~C))+w[4]+4149444226&4294967295,g=v+(_<<6&4294967295|_>>>26),_=C+(v^(g|~E))+w[11]+3174756917&4294967295,C=g+(_<<10&4294967295|_>>>22),_=E+(g^(C|~v))+w[2]+718787259&4294967295,E=C+(_<<15&4294967295|_>>>17),_=v+(C^(E|~g))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+g&4294967295,I.g[1]=I.g[1]+(E+(_<<21&4294967295|_>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+C&4294967295}i.prototype.u=function(I,g){g===void 0&&(g=I.length);for(var v=g-this.blockSize,w=this.B,E=this.h,C=0;C<g;){if(E==0)for(;C<=v;)r(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<g;)if(w[E++]=I.charCodeAt(C++),E==this.blockSize){r(this,w),E=0;break}}else for(;C<g;)if(w[E++]=I[C++],E==this.blockSize){r(this,w),E=0;break}}this.h=E,this.o+=g},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var g=1;g<I.length-8;++g)I[g]=0;var v=8*this.o;for(g=I.length-8;g<I.length;++g)I[g]=v&255,v/=256;for(this.u(I),I=Array(16),g=v=0;4>g;++g)for(var w=0;32>w;w+=8)I[v++]=this.g[g]>>>w&255;return I};function o(I,g){var v=c;return Object.prototype.hasOwnProperty.call(v,I)?v[I]:v[I]=g(I)}function s(I,g){this.h=g;for(var v=[],w=!0,E=I.length-1;0<=E;E--){var C=I[E]|0;w&&C==g||(v[E]=C,w=!1)}this.g=v}var c={};function l(I){return-128<=I&&128>I?o(I,function(g){return new s([g|0],0>g?-1:0)}):new s([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return p;if(0>I)return R(d(-I));for(var g=[],v=1,w=0;I>=v;w++)g[w]=I/v|0,v*=4294967296;return new s(g,0)}function f(I,g){if(I.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(I.charAt(0)=="-")return R(f(I.substring(1),g));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=d(Math.pow(g,8)),w=p,E=0;E<I.length;E+=8){var C=Math.min(8,I.length-E),_=parseInt(I.substring(E,E+C),g);8>C?(C=d(Math.pow(g,C)),w=w.j(C).add(d(_))):(w=w.j(v),w=w.add(d(_)))}return w}var p=l(0),y=l(1),A=l(16777216);t=s.prototype,t.m=function(){if(V(this))return-R(this).m();for(var I=0,g=1,v=0;v<this.g.length;v++){var w=this.i(v);I+=(0<=w?w:4294967296+w)*g,g*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O(this))return"0";if(V(this))return"-"+R(this).toString(I);for(var g=d(Math.pow(I,6)),v=this,w="";;){var E=oe(v,g).g;v=z(v,E.j(g));var C=((0<v.g.length?v.g[0]:v.h)>>>0).toString(I);if(v=E,O(v))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function O(I){if(I.h!=0)return!1;for(var g=0;g<I.g.length;g++)if(I.g[g]!=0)return!1;return!0}function V(I){return I.h==-1}t.l=function(I){return I=z(this,I),V(I)?-1:O(I)?0:1};function R(I){for(var g=I.g.length,v=[],w=0;w<g;w++)v[w]=~I.g[w];return new s(v,~I.h).add(y)}t.abs=function(){return V(this)?R(this):this},t.add=function(I){for(var g=Math.max(this.g.length,I.g.length),v=[],w=0,E=0;E<=g;E++){var C=w+(this.i(E)&65535)+(I.i(E)&65535),_=(C>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);w=_>>>16,C&=65535,_&=65535,v[E]=_<<16|C}return new s(v,v[v.length-1]&-2147483648?-1:0)};function z(I,g){return I.add(R(g))}t.j=function(I){if(O(this)||O(I))return p;if(V(this))return V(I)?R(this).j(R(I)):R(R(this).j(I));if(V(I))return R(this.j(R(I)));if(0>this.l(A)&&0>I.l(A))return d(this.m()*I.m());for(var g=this.g.length+I.g.length,v=[],w=0;w<2*g;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var E=0;E<I.g.length;E++){var C=this.i(w)>>>16,_=this.i(w)&65535,mn=I.i(E)>>>16,Ro=I.i(E)&65535;v[2*w+2*E]+=_*Ro,Y(v,2*w+2*E),v[2*w+2*E+1]+=C*Ro,Y(v,2*w+2*E+1),v[2*w+2*E+1]+=_*mn,Y(v,2*w+2*E+1),v[2*w+2*E+2]+=C*mn,Y(v,2*w+2*E+2)}for(w=0;w<g;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=g;w<2*g;w++)v[w]=0;return new s(v,0)};function Y(I,g){for(;(I[g]&65535)!=I[g];)I[g+1]+=I[g]>>>16,I[g]&=65535,g++}function ue(I,g){this.g=I,this.h=g}function oe(I,g){if(O(g))throw Error("division by zero");if(O(I))return new ue(p,p);if(V(I))return g=oe(R(I),g),new ue(R(g.g),R(g.h));if(V(g))return g=oe(I,R(g)),new ue(R(g.g),g.h);if(30<I.g.length){if(V(I)||V(g))throw Error("slowDivide_ only works with positive integers.");for(var v=y,w=g;0>=w.l(I);)v=We(v),w=We(w);var E=we(v,1),C=we(w,1);for(w=we(w,2),v=we(v,2);!O(w);){var _=C.add(w);0>=_.l(I)&&(E=E.add(v),C=_),w=we(w,1),v=we(v,1)}return g=z(I,E.j(g)),new ue(E,g)}for(E=p;0<=I.l(g);){for(v=Math.max(1,Math.floor(I.m()/g.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=d(v),_=C.j(g);V(_)||0<_.l(I);)v-=w,C=d(v),_=C.j(g);O(C)&&(C=y),E=E.add(C),I=z(I,_)}return new ue(E,I)}t.A=function(I){return oe(this,I).h},t.and=function(I){for(var g=Math.max(this.g.length,I.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)&I.i(w);return new s(v,this.h&I.h)},t.or=function(I){for(var g=Math.max(this.g.length,I.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)|I.i(w);return new s(v,this.h|I.h)},t.xor=function(I){for(var g=Math.max(this.g.length,I.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)^I.i(w);return new s(v,this.h^I.h)};function We(I){for(var g=I.g.length+1,v=[],w=0;w<g;w++)v[w]=I.i(w)<<1|I.i(w-1)>>>31;return new s(v,I.h)}function we(I,g){var v=g>>5;g%=32;for(var w=I.g.length-v,E=[],C=0;C<w;C++)E[C]=0<g?I.i(C+v)>>>g|I.i(C+v+1)<<32-g:I.i(C+v);return new s(E,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qf=p0.Md5=i,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,fi=p0.Integer=s}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Dn={};var Gf,Wf,Hr,Hf,Ys,Pl,Kf,Yf,Qf;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,h){return a==Array.prototype||a==Object.prototype||(a[u]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof kl=="object"&&kl];for(var u=0;u<a.length;++u){var h=a[u];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var i=n(this);function r(a,u){if(u)e:{var h=i;a=a.split(".");for(var m=0;m<a.length-1;m++){var T=a[m];if(!(T in h))break e;h=h[T]}a=a[a.length-1],m=h[a],u=u(m),u!=m&&u!=null&&e(h,a,{configurable:!0,writable:!0,value:u})}}function o(a,u){a instanceof String&&(a+="");var h=0,m=!1,T={next:function(){if(!m&&h<a.length){var S=h++;return{value:u(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(a){return a||function(){return o(this,function(u,h){return h})}});var s=s||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function d(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,h){return a.call.apply(a.bind,arguments)}function p(a,u,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,m),a.apply(u,T)}}return function(){return a.apply(u,arguments)}}function y(a,u,h){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,y.apply(null,arguments)}function A(a,u){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function O(a,u){function h(){}h.prototype=u.prototype,a.aa=u.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,T,S){for(var U=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)U[Se-2]=arguments[Se];return u.prototype[T].apply(m,U)}}function V(a){let u=a.length;if(0<u){let h=Array(u);for(let m=0;m<u;m++)h[m]=a[m];return h}return[]}function R(a,u){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(l(m)){let T=a.length||0,S=m.length||0;a.length=T+S;for(let U=0;U<S;U++)a[T+U]=m[U]}else a.push(m)}}class z{constructor(u,h){this.i=u,this.j=h,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function Y(a){return/^[\s\xa0]*$/.test(a)}function ue(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function oe(a){return oe[" "](a),a}oe[" "]=function(){};var We=ue().indexOf("Gecko")!=-1&&!(ue().toLowerCase().indexOf("webkit")!=-1&&ue().indexOf("Edge")==-1)&&!(ue().indexOf("Trident")!=-1||ue().indexOf("MSIE")!=-1)&&ue().indexOf("Edge")==-1;function we(a,u,h){for(let m in a)u.call(h,a[m],m,a)}function I(a,u){for(let h in a)u.call(void 0,a[h],h,a)}function g(a){let u={};for(let h in a)u[h]=a[h];return u}let v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,u){let h,m;for(let T=1;T<arguments.length;T++){m=arguments[T];for(h in m)a[h]=m[h];for(let S=0;S<v.length;S++)h=v[S],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function E(a){var u=1;a=a.split(":");let h=[];for(;0<u&&a.length;)h.push(a.shift()),u--;return a.length&&h.push(a.join(":")),h}function C(a){c.setTimeout(()=>{throw a},0)}function _(){var a=ku;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class mn{constructor(){this.h=this.g=null}add(u,h){let m=Ro.get();m.set(u,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Ro=new z(()=>new _E,a=>a.reset());class _E{constructor(){this.next=this.g=this.h=null}set(u,h){this.h=u,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ko,Po=!1,ku=new mn,Dg=()=>{let a=c.Promise.resolve(void 0);ko=()=>{a.then(vE)}};var vE=()=>{for(var a;a=_();){try{a.h.call(a.g)}catch(h){C(h)}var u=Ro;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}Po=!1};function Un(){this.s=this.s,this.C=this.C}Un.prototype.s=!1,Un.prototype.ma=function(){this.s||(this.s=!0,this.N())},Un.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function it(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}it.prototype.h=function(){this.defaultPrevented=!0};var bE=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,u),c.removeEventListener("test",h,u)}catch{}return a}();function Oo(a,u){if(it.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(We){e:{try{oe(u.nodeName);var T=!0;break e}catch{}T=!1}T||(u=null)}}else h=="mouseover"?u=a.fromElement:h=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:yE[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Oo.aa.h.call(this)}}O(Oo,it);var yE={2:"touch",3:"pen",4:"mouse"};Oo.prototype.h=function(){Oo.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Mo="closure_listenable_"+(1e6*Math.random()|0),wE=0;function IE(a,u,h,m,T){this.listener=a,this.proxy=null,this.src=u,this.type=h,this.capture=!!m,this.ha=T,this.key=++wE,this.da=this.fa=!1}function Ra(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ka(a){this.src=a,this.g={},this.h=0}ka.prototype.add=function(a,u,h,m,T){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var U=Ou(a,u,m,T);return-1<U?(u=a[U],h||(u.fa=!1)):(u=new IE(u,this.src,S,!!m,T),u.fa=h,a.push(u)),u};function Pu(a,u){var h=u.type;if(h in a.g){var m=a.g[h],T=Array.prototype.indexOf.call(m,u,void 0),S;(S=0<=T)&&Array.prototype.splice.call(m,T,1),S&&(Ra(u),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Ou(a,u,h,m){for(var T=0;T<a.length;++T){var S=a[T];if(!S.da&&S.listener==u&&S.capture==!!h&&S.ha==m)return T}return-1}var Mu="closure_lm_"+(1e6*Math.random()|0),Nu={};function Rg(a,u,h,m,T){if(m&&m.once)return Pg(a,u,h,m,T);if(Array.isArray(u)){for(var S=0;S<u.length;S++)Rg(a,u[S],h,m,T);return null}return h=Uu(h),a&&a[Mo]?a.K(u,h,d(m)?!!m.capture:!!m,T):kg(a,u,h,!1,m,T)}function kg(a,u,h,m,T,S){if(!u)throw Error("Invalid event type");var U=d(T)?!!T.capture:!!T,Se=Vu(a);if(Se||(a[Mu]=Se=new ka(a)),h=Se.add(u,h,m,U,S),h.proxy)return h;if(m=EE(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)bE||(T=U),T===void 0&&(T=!1),a.addEventListener(u.toString(),m,T);else if(a.attachEvent)a.attachEvent(Mg(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function EE(){function a(h){return u.call(a.src,a.listener,h)}let u=TE;return a}function Pg(a,u,h,m,T){if(Array.isArray(u)){for(var S=0;S<u.length;S++)Pg(a,u[S],h,m,T);return null}return h=Uu(h),a&&a[Mo]?a.L(u,h,d(m)?!!m.capture:!!m,T):kg(a,u,h,!0,m,T)}function Og(a,u,h,m,T){if(Array.isArray(u))for(var S=0;S<u.length;S++)Og(a,u[S],h,m,T);else m=d(m)?!!m.capture:!!m,h=Uu(h),a&&a[Mo]?(a=a.i,u=String(u).toString(),u in a.g&&(S=a.g[u],h=Ou(S,h,m,T),-1<h&&(Ra(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[u],a.h--)))):a&&(a=Vu(a))&&(u=a.g[u.toString()],a=-1,u&&(a=Ou(u,h,m,T)),(h=-1<a?u[a]:null)&&Fu(h))}function Fu(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[Mo])Pu(u.i,a);else{var h=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(h,m,a.capture):u.detachEvent?u.detachEvent(Mg(h),m):u.addListener&&u.removeListener&&u.removeListener(m),(h=Vu(u))?(Pu(h,a),h.h==0&&(h.src=null,u[Mu]=null)):Ra(a)}}}function Mg(a){return a in Nu?Nu[a]:Nu[a]="on"+a}function TE(a,u){if(a.da)a=!0;else{u=new Oo(u,this);var h=a.listener,m=a.ha||a.src;a.fa&&Fu(a),a=h.call(m,u)}return a}function Vu(a){return a=a[Mu],a instanceof ka?a:null}var Lu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uu(a){return typeof a=="function"?a:(a[Lu]||(a[Lu]=function(u){return a.handleEvent(u)}),a[Lu])}function rt(){Un.call(this),this.i=new ka(this),this.M=this,this.F=null}O(rt,Un),rt.prototype[Mo]=!0,rt.prototype.removeEventListener=function(a,u,h,m){Og(this,a,u,h,m)};function ht(a,u){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new it(u,a);else if(u instanceof it)u.target=u.target||a;else{var T=u;u=new it(m,a),w(u,T)}if(T=!0,h)for(var S=h.length-1;0<=S;S--){var U=u.g=h[S];T=Pa(U,m,!0,u)&&T}if(U=u.g=a,T=Pa(U,m,!0,u)&&T,T=Pa(U,m,!1,u)&&T,h)for(S=0;S<h.length;S++)U=u.g=h[S],T=Pa(U,m,!1,u)&&T}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var h=a.g[u],m=0;m<h.length;m++)Ra(h[m]);delete a.g[u],a.h--}}this.F=null},rt.prototype.K=function(a,u,h,m){return this.i.add(String(a),u,!1,h,m)},rt.prototype.L=function(a,u,h,m){return this.i.add(String(a),u,!0,h,m)};function Pa(a,u,h,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var T=!0,S=0;S<u.length;++S){var U=u[S];if(U&&!U.da&&U.capture==h){var Se=U.listener,et=U.ha||U.src;U.fa&&Pu(a.i,U),T=Se.call(et,m)!==!1&&T}}return T&&!m.defaultPrevented}function Ng(a,u,h){if(typeof a=="function")h&&(a=y(a,h));else if(a&&typeof a.handleEvent=="function")a=y(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function Fg(a){a.g=Ng(()=>{a.g=null,a.i&&(a.i=!1,Fg(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class CE extends Un{constructor(u,h){super(),this.m=u,this.l=h,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Fg(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function No(a){Un.call(this),this.h=a,this.g={}}O(No,Un);var Vg=[];function Lg(a){we(a.g,function(u,h){this.g.hasOwnProperty(h)&&Fu(u)},a),a.g={}}No.prototype.N=function(){No.aa.N.call(this),Lg(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ju=c.JSON.stringify,AE=c.JSON.parse,SE=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function Bu(){}Bu.prototype.h=null;function Ug(a){return a.h||(a.h=a.i())}function jg(){}var Fo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zu(){it.call(this,"d")}O(zu,it);function $u(){it.call(this,"c")}O($u,it);var bi={},Bg=null;function Oa(){return Bg=Bg||new rt}bi.La="serverreachability";function zg(a){it.call(this,bi.La,a)}O(zg,it);function Vo(a){let u=Oa();ht(u,new zg(u))}bi.STAT_EVENT="statevent";function $g(a,u){it.call(this,bi.STAT_EVENT,a),this.stat=u}O($g,it);function ft(a){let u=Oa();ht(u,new $g(u,a))}bi.Ma="timingevent";function qg(a,u){it.call(this,bi.Ma,a),this.size=u}O(qg,it);function Lo(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function Uo(){this.g=!0}Uo.prototype.xa=function(){this.g=!1};function xE(a,u,h,m,T,S){a.info(function(){if(a.g)if(S)for(var U="",Se=S.split("&"),et=0;et<Se.length;et++){var ve=Se[et].split("=");if(1<ve.length){var ot=ve[0];ve=ve[1];var st=ot.split("_");U=2<=st.length&&st[1]=="type"?U+(ot+"="+ve+"&"):U+(ot+"=redacted&")}}else U=null;else U=S;return"XMLHTTP REQ ("+m+") [attempt "+T+"]: "+u+`
`+h+`
`+U})}function DE(a,u,h,m,T,S,U){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+T+"]: "+u+`
`+h+`
`+S+" "+U})}function cr(a,u,h,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+kE(a,h)+(m?" "+m:"")})}function RE(a,u){a.info(function(){return"TIMEOUT: "+u})}Uo.prototype.info=function(){};function kE(a,u){if(!a.g)return u;if(!u)return null;try{var h=JSON.parse(u);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var T=m[1];if(Array.isArray(T)&&!(1>T.length)){var S=T[0];if(S!="noop"&&S!="stop"&&S!="close")for(var U=1;U<T.length;U++)T[U]=""}}}}return ju(h)}catch{return u}}var Ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Gg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qu;function Na(){}O(Na,Bu),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},qu=new Na;function jn(a,u,h,m){this.j=a,this.i=u,this.l=h,this.R=m||1,this.U=new No(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wg}function Wg(){this.i=null,this.g="",this.h=!1}var Hg={},Gu={};function Wu(a,u,h){a.L=1,a.v=Ua(pn(u)),a.m=h,a.P=!0,Kg(a,null)}function Kg(a,u){a.F=Date.now(),Fa(a),a.A=pn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),c_(h.i,"t",m),a.C=0,h=a.j.J,a.h=new Wg,a.g=A_(a.j,h?u:null,!a.m),0<a.O&&(a.M=new CE(y(a.Y,a,a.g),a.O)),u=a.U,h=a.g,m=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(Vg[0]=T.toString()),T=Vg);for(var S=0;S<T.length;S++){var U=Rg(h,T[S],m||u.handleEvent,!1,u.h||u);if(!U)break;u.g[U.key]=U}u=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),Vo(),xE(a.i,a.u,a.A,a.l,a.R,a.m)}jn.prototype.ca=function(a){a=a.target;let u=this.M;u&&gn(a)==3?u.j():this.Y(a)},jn.prototype.Y=function(a){try{if(a==this.g)e:{let st=gn(this.g);var u=this.g.Ba();let dr=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||p_(this.g)))){this.J||st!=4||u==7||(u==8||0>=dr?Vo(3):Vo(2)),Hu(this);var h=this.g.Z();this.X=h;t:if(Yg(this)){var m=p_(this.g);a="";var T=m.length,S=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),jo(this);var U="";break t}this.h.i=new c.TextDecoder}for(u=0;u<T;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(S&&u==T-1)});m.length=0,this.h.g+=a,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=h==200,DE(this.i,this.u,this.A,this.l,this.R,st,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,et=this.g;if((Se=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Se)){var ve=Se;break t}}ve=null}if(h=ve)cr(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ku(this,h);else{this.o=!1,this.s=3,ft(12),yi(this),jo(this);break e}}if(this.P){h=!0;let Vt;for(;!this.J&&this.C<U.length;)if(Vt=PE(this,U),Vt==Gu){st==4&&(this.s=4,ft(14),h=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Vt==Hg){this.s=4,ft(15),cr(this.i,this.l,U,"[Invalid Chunk]"),h=!1;break}else cr(this.i,this.l,Vt,null),Ku(this,Vt);if(Yg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||U.length!=0||this.h.h||(this.s=1,ft(16),h=!1),this.o=this.o&&h,!h)cr(this.i,this.l,U,"[Invalid Chunked Response]"),yi(this),jo(this);else if(0<U.length&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.ba&&!ot.M&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ed(ot),ot.M=!0,ft(11))}}else cr(this.i,this.l,U,null),Ku(this,U);st==4&&yi(this),this.o&&!this.J&&(st==4?I_(this.j,this):(this.o=!1,Fa(this)))}else YE(this.g),h==400&&0<U.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),yi(this),jo(this)}}}catch{}finally{}};function Yg(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function PE(a,u){var h=a.C,m=u.indexOf(`
`,h);return m==-1?Gu:(h=Number(u.substring(h,m)),isNaN(h)?Hg:(m+=1,m+h>u.length?Gu:(u=u.slice(m,m+h),a.C=m+h,u)))}jn.prototype.cancel=function(){this.J=!0,yi(this)};function Fa(a){a.S=Date.now()+a.I,Qg(a,a.I)}function Qg(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Lo(y(a.ba,a),u)}function Hu(a){a.B&&(c.clearTimeout(a.B),a.B=null)}jn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(RE(this.i,this.A),this.L!=2&&(Vo(),ft(17)),yi(this),this.s=2,jo(this)):Qg(this,this.S-a)};function jo(a){a.j.G==0||a.J||I_(a.j,a)}function yi(a){Hu(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,Lg(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function Ku(a,u){try{var h=a.j;if(h.G!=0&&(h.g==a||Yu(h.h,a))){if(!a.K&&Yu(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var T=m;if(T[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)qa(h),za(h);else break e;Zu(h),ft(18)}}else h.za=T[1],0<h.za-h.T&&37500>T[2]&&h.F&&h.v==0&&!h.C&&(h.C=Lo(y(h.Za,h),6e3));if(1>=Zg(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Ii(h,11)}else if((a.K||h.g==a)&&qa(h),!Y(u))for(T=h.Da.g.parse(u),u=0;u<T.length;u++){let ve=T[u];if(h.T=ve[0],ve=ve[1],h.G==2)if(ve[0]=="c"){h.K=ve[1],h.ia=ve[2];let ot=ve[3];ot!=null&&(h.la=ot,h.j.info("VER="+h.la));let st=ve[4];st!=null&&(h.Aa=st,h.j.info("SVER="+h.Aa));let dr=ve[5];dr!=null&&typeof dr=="number"&&0<dr&&(m=1.5*dr,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let Vt=a.g;if(Vt){let Wa=Vt.g?Vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var S=m.h;S.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(Qu(S,S.h),S.h=null))}if(m.D){let td=Vt.g?Vt.g.getResponseHeader("X-HTTP-Session-Id"):null;td&&(m.ya=td,Re(m.I,m.D,td))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var U=a;if(m.qa=C_(m,m.J?m.ia:null,m.W),U.K){e_(m.h,U);var Se=U,et=m.L;et&&(Se.I=et),Se.B&&(Hu(Se),Fa(Se)),m.g=U}else y_(m);0<h.i.length&&$a(h)}else ve[0]!="stop"&&ve[0]!="close"||Ii(h,7);else h.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?Ii(h,7):Ju(h):ve[0]!="noop"&&h.l&&h.l.ta(ve),h.v=0)}}Vo(4)}catch{}}var OE=class{constructor(a,u){this.g=a,this.map=u}};function Xg(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jg(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Zg(a){return a.h?1:a.g?a.g.size:0}function Yu(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function Qu(a,u){a.g?a.g.add(u):a.h=u}function e_(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}Xg.prototype.cancel=function(){if(this.i=t_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function t_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let h of a.g.values())u=u.concat(h.D);return u}return V(a.i)}function ME(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],h=a.length,m=0;m<h;m++)u.push(a[m]);return u}u=[],h=0;for(m in a)u[h++]=a[m];return u}function NE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var h=0;h<a;h++)u.push(h);return u}u=[],h=0;for(let m in a)u[h++]=m;return u}}}function n_(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var h=NE(a),m=ME(a),T=m.length,S=0;S<T;S++)u.call(void 0,m[S],h&&h[S],a)}var i_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FE(a,u){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),T=null;if(0<=m){var S=a[h].substring(0,m);T=a[h].substring(m+1)}else S=a[h];u(S,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function wi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof wi){this.h=a.h,Va(this,a.j),this.o=a.o,this.g=a.g,La(this,a.s),this.l=a.l;var u=a.i,h=new $o;h.i=u.i,u.g&&(h.g=new Map(u.g),h.h=u.h),r_(this,h),this.m=a.m}else a&&(u=String(a).match(i_))?(this.h=!1,Va(this,u[1]||"",!0),this.o=Bo(u[2]||""),this.g=Bo(u[3]||"",!0),La(this,u[4]),this.l=Bo(u[5]||"",!0),r_(this,u[6]||"",!0),this.m=Bo(u[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}wi.prototype.toString=function(){var a=[],u=this.j;u&&a.push(zo(u,o_,!0),":");var h=this.g;return(h||u=="file")&&(a.push("//"),(u=this.o)&&a.push(zo(u,o_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(zo(h,h.charAt(0)=="/"?UE:LE,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",zo(h,BE)),a.join("")};function pn(a){return new wi(a)}function Va(a,u,h){a.j=h?Bo(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function La(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function r_(a,u,h){u instanceof $o?(a.i=u,zE(a.i,a.h)):(h||(u=zo(u,jE)),a.i=new $o(u,a.h))}function Re(a,u,h){a.i.set(u,h)}function Ua(a){return Re(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Bo(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function zo(a,u,h){return typeof a=="string"?(a=encodeURI(a).replace(u,VE),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function VE(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var o_=/[#\/\?@]/g,LE=/[#\?:]/g,UE=/[#\?]/g,jE=/[#\?@]/g,BE=/#/g;function $o(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Bn(a){a.g||(a.g=new Map,a.h=0,a.i&&FE(a.i,function(u,h){a.add(decodeURIComponent(u.replace(/\+/g," ")),h)}))}t=$o.prototype,t.add=function(a,u){Bn(this),this.i=null,a=lr(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(u),this.h+=1,this};function s_(a,u){Bn(a),u=lr(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function a_(a,u){return Bn(a),u=lr(a,u),a.g.has(u)}t.forEach=function(a,u){Bn(this),this.g.forEach(function(h,m){h.forEach(function(T){a.call(u,T,m,this)},this)},this)},t.na=function(){Bn(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),h=[];for(let m=0;m<u.length;m++){let T=a[m];for(let S=0;S<T.length;S++)h.push(u[m])}return h},t.V=function(a){Bn(this);let u=[];if(typeof a=="string")a_(this,a)&&(u=u.concat(this.g.get(lr(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)u=u.concat(a[h])}return u},t.set=function(a,u){return Bn(this),this.i=null,a=lr(this,a),a_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},t.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function c_(a,u,h){s_(a,u),0<h.length&&(a.i=null,a.g.set(lr(a,u),V(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var h=0;h<u.length;h++){var m=u[h];let S=encodeURIComponent(String(m)),U=this.V(m);for(m=0;m<U.length;m++){var T=S;U[m]!==""&&(T+="="+encodeURIComponent(String(U[m]))),a.push(T)}}return this.i=a.join("&")};function lr(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function zE(a,u){u&&!a.j&&(Bn(a),a.i=null,a.g.forEach(function(h,m){var T=m.toLowerCase();m!=T&&(s_(this,m),c_(this,T,h))},a)),a.j=u}function $E(a,u){let h=new Uo;if(c.Image){let m=new Image;m.onload=A(zn,h,"TestLoadImage: loaded",!0,u,m),m.onerror=A(zn,h,"TestLoadImage: error",!1,u,m),m.onabort=A(zn,h,"TestLoadImage: abort",!1,u,m),m.ontimeout=A(zn,h,"TestLoadImage: timeout",!1,u,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function qE(a,u){let h=new Uo,m=new AbortController,T=setTimeout(()=>{m.abort(),zn(h,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(T),S.ok?zn(h,"TestPingServer: ok",!0,u):zn(h,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(T),zn(h,"TestPingServer: error",!1,u)})}function zn(a,u,h,m,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),m(h)}catch{}}function GE(){this.g=new SE}function WE(a,u,h){let m=h||"";try{n_(a,function(T,S){let U=T;d(T)&&(U=ju(T)),u.push(m+S+"="+encodeURIComponent(U))})}catch(T){throw u.push(m+"type="+encodeURIComponent("_badmap")),T}}function qo(a){this.l=a.Ub||null,this.j=a.eb||!1}O(qo,Bu),qo.prototype.g=function(){return new ja(this.l,this.j)},qo.prototype.i=function(a){return function(){return a}}({});function ja(a,u){rt.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ja,rt),t=ja.prototype,t.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Wo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Go(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Wo(this)),this.g&&(this.readyState=3,Wo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function l_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Go(this):Wo(this),this.readyState==3&&l_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Go(this))},t.Qa=function(a){this.g&&(this.response=a,Go(this))},t.ga=function(){this.g&&Go(this)};function Go(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Wo(a)}t.setRequestHeader=function(a,u){this.u.append(a,u)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var h=u.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=u.next();return a.join(`\r
`)};function Wo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ja.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function u_(a){let u="";return we(a,function(h,m){u+=m,u+=":",u+=h,u+=`\r
`}),u}function Xu(a,u,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=u_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Re(a,u,h))}function Me(a){rt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Me,rt);var HE=/^https?$/i,KE=["POST","PUT"];t=Me.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,u,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qu.g(),this.v=this.o?Ug(this.o):Ug(qu),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(S){d_(this,S);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var T in m)h.set(T,m[T]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())h.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(KE,u,void 0))||m||T||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,U]of h)this.g.setRequestHeader(S,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{m_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){d_(this,S)}};function d_(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,h_(a),Ba(a)}function h_(a){a.A||(a.A=!0,ht(a,"complete"),ht(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ht(this,"complete"),ht(this,"abort"),Ba(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ba(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?f_(this):this.bb())},t.bb=function(){f_(this)};function f_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||gn(a)!=4||a.Z()!=2)){if(a.u&&gn(a)==4)Ng(a.Ea,0,a);else if(ht(a,"readystatechange"),gn(a)==4){a.h=!1;try{let U=a.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var h;if(!(h=u)){var m;if(m=U===0){var T=String(a.D).match(i_)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),m=!HE.test(T?T.toLowerCase():"")}h=m}if(h)ht(a,"complete"),ht(a,"success");else{a.m=6;try{var S=2<gn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",h_(a)}}finally{Ba(a)}}}}function Ba(a,u){if(a.g){m_(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||ht(a,"ready");try{h.onreadystatechange=m}catch{}}}function m_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function gn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),AE(u)}};function p_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function YE(a){let u={};a=(a.g&&2<=gn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(Y(a[m]))continue;var h=E(a[m]);let T=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=u[T]||[];u[T]=S,S.push(h)}I(u,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ho(a,u,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||u}function g_(a){this.Aa=0,this.i=[],this.j=new Uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ho("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ho("baseRetryDelayMs",5e3,a),this.cb=Ho("retryDelaySeedMs",1e4,a),this.Wa=Ho("forwardChannelMaxRetries",2,a),this.wa=Ho("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Xg(a&&a.concurrentRequestLimit),this.Da=new GE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=g_.prototype,t.la=8,t.G=1,t.connect=function(a,u,h,m){ft(0),this.W=a,this.H=u||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=C_(this,null,this.W),$a(this)};function Ju(a){if(__(a),a.G==3){var u=a.U++,h=pn(a.I);if(Re(h,"SID",a.K),Re(h,"RID",u),Re(h,"TYPE","terminate"),Ko(a,h),u=new jn(a,a.j,u),u.L=2,u.v=Ua(pn(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=u.v,h=!0),h||(u.g=A_(u.j,null),u.g.ea(u.v)),u.F=Date.now(),Fa(u)}T_(a)}function za(a){a.g&&(ed(a),a.g.cancel(),a.g=null)}function __(a){za(a),a.u&&(c.clearTimeout(a.u),a.u=null),qa(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function $a(a){if(!Jg(a.h)&&!a.s){a.s=!0;var u=a.Ga;ko||Dg(),Po||(ko(),Po=!0),ku.add(u,a),a.B=0}}function QE(a,u){return Zg(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Lo(y(a.Ga,a,u),E_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new jn(this,this.j,a),S=this.o;if(this.S&&(S?(S=g(S),w(S,this.S)):S=this.S),this.m!==null||this.O||(T.H=S,S=null),this.P)e:{for(var u=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=h;break e}if(u===4096||h===this.i.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=b_(this,T,u),h=pn(this.I),Re(h,"RID",a),Re(h,"CVER",22),this.D&&Re(h,"X-HTTP-Session-Id",this.D),Ko(this,h),S&&(this.O?u="headers="+encodeURIComponent(String(u_(S)))+"&"+u:this.m&&Xu(h,this.m,S)),Qu(this.h,T),this.Ua&&Re(h,"TYPE","init"),this.P?(Re(h,"$req",u),Re(h,"SID","null"),T.T=!0,Wu(T,h,null)):Wu(T,h,u),this.G=2}}else this.G==3&&(a?v_(this,a):this.i.length==0||Jg(this.h)||v_(this))};function v_(a,u){var h;u?h=u.l:h=a.U++;let m=pn(a.I);Re(m,"SID",a.K),Re(m,"RID",h),Re(m,"AID",a.T),Ko(a,m),a.m&&a.o&&Xu(m,a.m,a.o),h=new jn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),u&&(a.i=u.D.concat(a.i)),u=b_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Qu(a.h,h),Wu(h,m,u)}function Ko(a,u){a.H&&we(a.H,function(h,m){Re(u,m,h)}),a.l&&n_({},function(h,m){Re(u,m,h)})}function b_(a,u,h){h=Math.min(a.i.length,h);var m=a.l?y(a.l.Na,a.l,a):null;e:{var T=a.i;let S=-1;for(;;){let U=["count="+h];S==-1?0<h?(S=T[0].g,U.push("ofs="+S)):S=0:U.push("ofs="+S);let Se=!0;for(let et=0;et<h;et++){let ve=T[et].g,ot=T[et].map;if(ve-=S,0>ve)S=Math.max(0,T[et].g-100),Se=!1;else try{WE(ot,U,"req"+ve+"_")}catch{m&&m(ot)}}if(Se){m=U.join("&");break e}}}return a=a.i.splice(0,h),u.D=a,m}function y_(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;ko||Dg(),Po||(ko(),Po=!0),ku.add(u,a),a.v=0}}function Zu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Lo(y(a.Fa,a),E_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,w_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Lo(y(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),za(this),w_(this))};function ed(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function w_(a){a.g=new jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=pn(a.qa);Re(u,"RID","rpc"),Re(u,"SID",a.K),Re(u,"AID",a.T),Re(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Re(u,"TO",a.ja),Re(u,"TYPE","xmlhttp"),Ko(a,u),a.m&&a.o&&Xu(u,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Ua(pn(u)),h.m=null,h.P=!0,Kg(h,a)}t.Za=function(){this.C!=null&&(this.C=null,za(this),Zu(this),ft(19))};function qa(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function I_(a,u){var h=null;if(a.g==u){qa(a),ed(a),a.g=null;var m=2}else if(Yu(a.h,u))h=u.D,e_(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){h=u.m?u.m.length:0,u=Date.now()-u.F;var T=a.B;m=Oa(),ht(m,new qg(m,h)),$a(a)}else y_(a);else if(T=u.s,T==3||T==0&&0<u.X||!(m==1&&QE(a,u)||m==2&&Zu(a)))switch(h&&0<h.length&&(u=a.h,u.i=u.i.concat(h)),T){case 1:Ii(a,5);break;case 4:Ii(a,10);break;case 3:Ii(a,6);break;default:Ii(a,2)}}}function E_(a,u){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*u}function Ii(a,u){if(a.j.info("Error code "+u),u==2){var h=y(a.fb,a),m=a.Xa;let T=!m;m=new wi(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Va(m,"https"),Ua(m),T?$E(m.toString(),h):qE(m.toString(),h)}else ft(2);a.G=0,a.l&&a.l.sa(u),T_(a),__(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function T_(a){if(a.G=0,a.ka=[],a.l){let u=t_(a.h);(u.length!=0||a.i.length!=0)&&(R(a.ka,u),R(a.ka,a.i),a.h.i.length=0,V(a.i),a.i.length=0),a.l.ra()}}function C_(a,u,h){var m=h instanceof wi?pn(h):new wi(h);if(m.g!="")u&&(m.g=u+"."+m.g),La(m,m.s);else{var T=c.location;m=T.protocol,u=u?u+"."+T.hostname:T.hostname,T=+T.port;var S=new wi(null);m&&Va(S,m),u&&(S.g=u),T&&La(S,T),h&&(S.l=h),m=S}return h=a.D,u=a.ya,h&&u&&Re(m,h,u),Re(m,"VER",a.la),Ko(a,m),m}function A_(a,u,h){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Me(new qo({eb:h})):new Me(a.pa),u.Ha(a.J),u}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function S_(){}t=S_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ga(){}Ga.prototype.g=function(a,u){return new wt(a,u)};function wt(a,u){rt.call(this),this.g=new g_(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!Y(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Y(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new ur(this)}O(wt,rt),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){Ju(this.g)},wt.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ju(a),a=h);u.i.push(new OE(u.Ya++,a)),u.G==3&&$a(u)},wt.prototype.N=function(){this.g.l=null,delete this.j,Ju(this.g),delete this.g,wt.aa.N.call(this)};function x_(a){zu.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let h in u){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}O(x_,zu);function D_(){$u.call(this),this.status=1}O(D_,$u);function ur(a){this.g=a}O(ur,S_),ur.prototype.ua=function(){ht(this.g,"a")},ur.prototype.ta=function(a){ht(this.g,new x_(a))},ur.prototype.sa=function(a){ht(this.g,new D_)},ur.prototype.ra=function(){ht(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,Qf=Dn.createWebChannelTransport=function(){return new Ga},Yf=Dn.getStatEventTarget=function(){return Oa()},Kf=Dn.Event=bi,Pl=Dn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ma.NO_ERROR=0,Ma.TIMEOUT=8,Ma.HTTP_ERROR=6,Ys=Dn.ErrorCode=Ma,Gg.COMPLETE="complete",Hf=Dn.EventType=Gg,jg.EventType=Fo,Fo.OPEN="a",Fo.CLOSE="b",Fo.ERROR="c",Fo.MESSAGE="d",rt.prototype.listen=rt.prototype.K,Hr=Dn.WebChannel=jg,Wf=Dn.FetchXmlHttpFactory=qo,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,Gf=Dn.XhrIo=Me}).apply(typeof kl<"u"?kl:typeof self<"u"?self:typeof window<"u"?window:{});var g0="@firebase/firestore";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var po="10.12.0";var Yi=new oi("@firebase/firestore");function Qs(){return Yi.logLevel}function q(t,...e){if(Yi.logLevel<=he.DEBUG){let n=e.map(Pp);Yi.debug(`Firestore (${po}): ${t}`,...n)}}function kn(t,...e){if(Yi.logLevel<=he.ERROR){let n=e.map(Pp);Yi.error(`Firestore (${po}): ${t}`,...n)}}function eo(t,...e){if(Yi.logLevel<=he.WARN){let n=e.map(Pp);Yi.warn(`Firestore (${po}): ${t}`,...n)}}function Pp(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function X(t="Unexpected state"){let e=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: `+t;throw kn(e),new Error(e)}function De(t,e){t||X()}function Z(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends xt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Rn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Vl=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tm=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}},nm=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},im=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let i=this.i,r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve(),o=new Rn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rn,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>b(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(De(typeof i.accessToken=="string"),new Vl(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string"),new Ze(e)}},rm=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},om=class{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new rm(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},sm=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},am=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let i=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};let r=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?r(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string"),this.R=n.token,new sm(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function mk(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}var Ll=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=mk(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<n&&(i+=e.charAt(r[o]%e.length))}return i}};function Ie(t,e){return t<e?-1:t>e?1:0}function to(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}var nt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new t(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new nt(0,0))}static max(){return new t(new nt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ul=class t{constructor(e,n,i){n===void 0?n=0:n>e.length&&X(),i===void 0?i=e.length-n:i>e.length-n&&X(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let i=Math.min(e.length,n.length);for(let r=0;r<i;r++){let o=e.get(r),s=n.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Ve=class t extends Ul{construct(e,n,i){return new t(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let i of e){if(i.indexOf("//")>=0)throw new H(N.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new t(n)}static emptyPath(){return new t([])}},pk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Dt=class t extends Ul{construct(e,n,i){return new t(e,n,i)}static isValidIdentifier(e){return pk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],i="",r=0,o=()=>{if(i.length===0)throw new H(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""},s=!1;for(;r<e.length;){let c=e[r];if(c==="\\"){if(r+1===e.length)throw new H(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else c==="`"?(s=!s,r++):c!=="."||s?(i+=c,r++):(o(),r++)}if(o(),s)throw new H(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var K=class t{constructor(e){this.path=e}static fromPath(e){return new t(Ve.fromString(e))}static fromName(e){return new t(Ve.fromString(e).popFirst(5))}static empty(){return new t(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ve.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ve.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Ve(e.slice()))}};var cm=class{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}};cm.UNKNOWN_ID=-1;function gk(t,e){let n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ee.fromTimestamp(i===1e9?new nt(n+1,0):new nt(n,i));return new Qi(r,K.empty(),e)}function _k(t){return new Qi(t.readTime,t.key,-1)}var Qi=class t{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new t(ee.min(),K.empty(),-1)}static max(){return new t(ee.max(),K.empty(),-1)}};function vk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}var bk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function fa(t){return b(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==bk)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(n,o).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,i)=>{n(e)})}static reject(e){return new t((n,i)=>{i(e)})}static waitFor(e){return new t((n,i)=>{let r=0,o=0,s=!1;e.forEach(c=>{++r,c.next(()=>{++o,s&&o===r&&n()},l=>i(l))}),s=!0,o===r&&n()})}static or(e){let n=t.resolve(!1);for(let i of e)n=n.next(r=>r?t.resolve(r):i());return n}static forEach(e,n){let i=[];return e.forEach((r,o)=>{i.push(n.call(this,r,o))}),this.waitFor(i)}static mapArray(e,n){return new t((i,r)=>{let o=e.length,s=new Array(o),c=0;for(let l=0;l<o;l++){let d=l;n(e[d]).next(f=>{s[d]=f,++c,c===o&&i(s)},f=>r(f))}})}static doWhile(e,n){return new t((i,r)=>{let o=()=>{e()===!0?n().next(()=>{o()},r):i()};o()})}};function yk(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ma(t){return t.name==="IndexedDbTransactionError"}var W0=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function mu(t){return t==null}function ia(t){return t===0&&1/t==-1/0}function wk(t){return typeof t=="number"&&Number.isInteger(t)&&!ia(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var Ik=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],TV=[...Ik,"documentOverlays"],Ek=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tk=Ek,CV=[...Tk,"indexConfiguration","indexState","indexEntries"];function _0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H0(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){let e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xr(this.root,e,this.comparator,!0)}},Xr=class{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?i(e.key,n):1,n&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sn=class t{constructor(e,n,i,r,o){this.key=e,this.value=n,this.color=i??t.RED,this.left=r??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,o){return new t(e??this.key,n??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this,o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,n,i),null):o===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,i,r,o){return this}insert(e,n,i){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new jl(this.data.getIterator())}getIteratorFrom(e){return new jl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},jl=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var on=class t{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new t([])}unionWith(e){let n=new dt(Dt.comparator);for(let i of this.fields)n=n.add(i);for(let i of e)n=n.add(i);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,i)=>n.isEqual(i))}};var Bl=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bl("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};mt.EMPTY_BYTE_STRING=new mt("");var Ck=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pn(t){if(De(!!t),typeof t=="string"){let e=0,n=Ck.exec(t);if(De(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}let i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pi(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}function Op(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mp(t){let e=t.mapValue.fields.__previous_value__;return Op(e)?Mp(e):e}function ra(t){let e=Pn(t.mapValue.fields.__local_write_time__.timestampValue);return new nt(e.seconds,e.nanos)}var um=class{constructor(e,n,i,r,o,s,c,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=d}},zl=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Ol={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Op(t)?4:K0(t)?9007199254740991:10:X()}function ln(t,e){if(t===e)return!0;let n=Xi(t);if(n!==Xi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ra(t).isEqual(ra(e));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;let s=Pn(r.timestampValue),c=Pn(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,o){return pi(r.bytesValue).isEqual(pi(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,o){return Fe(r.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(r.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(t,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Fe(r.integerValue)===Fe(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){let s=Fe(r.doubleValue),c=Fe(o.doubleValue);return s===c?ia(s)===ia(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return to(t.arrayValue.values||[],e.arrayValue.values||[],ln);case 10:return function(r,o){let s=r.mapValue.fields||{},c=o.mapValue.fields||{};if(_0(s)!==_0(c))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(c[l]===void 0||!ln(s[l],c[l])))return!1;return!0}(t,e);default:return X()}}function oa(t,e){return(t.values||[]).find(n=>ln(n,e))!==void 0}function no(t,e){if(t===e)return 0;let n=Xi(t),i=Xi(e);if(n!==i)return Ie(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Fe(o.integerValue||o.doubleValue),l=Fe(s.integerValue||s.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(t,e);case 3:return v0(t.timestampValue,e.timestampValue);case 4:return v0(ra(t),ra(e));case 5:return Ie(t.stringValue,e.stringValue);case 6:return function(o,s){let c=pi(o),l=pi(s);return c.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),l=s.split("/");for(let d=0;d<c.length&&d<l.length;d++){let f=Ie(c[d],l[d]);if(f!==0)return f}return Ie(c.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=Ie(Fe(o.latitude),Fe(s.latitude));return c!==0?c:Ie(Fe(o.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){let c=o.values||[],l=s.values||[];for(let d=0;d<c.length&&d<l.length;++d){let f=no(c[d],l[d]);if(f)return f}return Ie(c.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Ol.mapValue&&s===Ol.mapValue)return 0;if(o===Ol.mapValue)return 1;if(s===Ol.mapValue)return-1;let c=o.fields||{},l=Object.keys(c),d=s.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let p=0;p<l.length&&p<f.length;++p){let y=Ie(l[p],f[p]);if(y!==0)return y;let A=no(c[l[p]],d[f[p]]);if(A!==0)return A}return Ie(l.length,f.length)}(t.mapValue,e.mapValue);default:throw X()}}function v0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);let n=Pn(t),i=Pn(e),r=Ie(n.seconds,i.seconds);return r!==0?r:Ie(n.nanos,i.nanos)}function io(t){return dm(t)}function dm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let i=Pn(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(let o of n.values||[])r?r=!1:i+=",",i+=dm(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){let i=Object.keys(n.fields||{}).sort(),r="{",o=!0;for(let s of i)o?o=!1:r+=",",r+=`${s}:${dm(n.fields[s])}`;return r+"}"}(t.mapValue):X()}function hm(t){return!!t&&"integerValue"in t}function Np(t){return!!t&&"arrayValue"in t}function b0(t){return!!t&&"nullValue"in t}function y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nl(t){return!!t&&"mapValue"in t}function Js(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Js(i)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Js(t.arrayValue.values[n]);return e}return Object.assign({},t)}function K0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Bt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Nl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Js(n)}setAll(e){let n=Dt.emptyPath(),i={},r=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=c.popLast()}s?i[c.lastSegment()]=Js(s):r.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,i,r)}delete(e){let n=this.field(e.popLast());Nl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ln(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Nl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){go(n,(r,o)=>e[r]=o);for(let r of i)delete e[r]}clone(){return new t(Js(this.value))}};function Y0(t){let e=[];return go(t.fields,(n,i)=>{let r=new Dt([n]);if(Nl(i)){let o=Y0(i.mapValue).fields;if(o.length===0)e.push(r);else for(let s of o)e.push(r.child(s))}else e.push(r)}),new on(e)}var zt=class t{constructor(e,n,i,r,o,s,c){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,ee.min(),ee.min(),ee.min(),Bt.empty(),0)}static newFoundDocument(e,n,i,r){return new t(e,1,n,ee.min(),i,r,0)}static newNoDocument(e,n){return new t(e,2,n,ee.min(),ee.min(),Bt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ee.min(),ee.min(),Bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ro=class{constructor(e,n){this.position=e,this.inclusive=n}};function w0(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){let o=e[r],s=t.position[r];if(o.field.isKeyField()?i=K.comparator(K.fromName(s.referenceValue),n.key):i=no(s,n.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function I0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ln(t.position[n],e.position[n]))return!1;return!0}var oo=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Ak(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var $l=class{},Qe=class t extends $l{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new mm(e,n,i):n==="array-contains"?new _m(e,i):n==="in"?new vm(e,i):n==="not-in"?new bm(e,i):n==="array-contains-any"?new ym(e,i):new t(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new pm(e,i):new gm(e,i)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(no(n,this.value)):n!==null&&Xi(this.value)===Xi(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},un=class t extends $l{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return Q0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Q0(t){return t.op==="and"}function X0(t){return Sk(t)&&Q0(t)}function Sk(t){for(let e of t.filters)if(e instanceof un)return!1;return!0}function fm(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+io(t.value);if(X0(t))return t.filters.map(e=>fm(e)).join(",");{let e=t.filters.map(n=>fm(n)).join(",");return`${t.op}(${e})`}}function J0(t,e){return t instanceof Qe?function(i,r){return r instanceof Qe&&i.op===r.op&&i.field.isEqual(r.field)&&ln(i.value,r.value)}(t,e):t instanceof un?function(i,r){return r instanceof un&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,s,c)=>o&&J0(s,r.filters[c]),!0):!1}(t,e):void X()}function Z0(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${io(n.value)}`}(t):t instanceof un?function(n){return n.op.toString()+" {"+n.getFilters().map(Z0).join(" ,")+"}"}(t):"Filter"}var mm=class extends Qe{constructor(e,n,i){super(e,n,i),this.key=K.fromName(i.referenceValue)}matches(e){let n=K.comparator(e.key,this.key);return this.matchesComparison(n)}},pm=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=ew("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},gm=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=ew("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function ew(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>K.fromName(i.referenceValue))}var _m=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Np(n)&&oa(n.arrayValue,this.value)}},vm=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&oa(this.value.arrayValue,n)}},bm=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!oa(this.value.arrayValue,n)}},ym=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>oa(this.value.arrayValue,i))}};var wm=class{constructor(e,n=null,i=[],r=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function E0(t,e=null,n=[],i=[],r=null,o=null,s=null){return new wm(t,e,n,i,r,o,s)}function Fp(t){let e=Z(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>fm(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),mu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>io(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>io(i)).join(",")),e.ue=n}return e.ue}function Vp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Ak(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!J0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I0(t.startAt,e.startAt)&&I0(t.endAt,e.endAt)}function Im(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var so=class{constructor(e,n=null,i=[],r=[],o=null,s="F",c=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function xk(t,e,n,i,r,o,s,c){return new so(t,e,n,i,r,o,s,c)}function Lp(t){return new so(t)}function T0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dk(t){return t.collectionGroup!==null}function Zs(t){let e=Z(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new dt(Dt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(c=c.add(d.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new oo(o,i))}),n.has(Dt.keyField().canonicalString())||e.ce.push(new oo(Dt.keyField(),i))}return e.ce}function an(t){let e=Z(t);return e.le||(e.le=Rk(e,Zs(t))),e.le}function Rk(t,e){if(t.limitType==="F")return E0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{let o=r.dir==="desc"?"asc":"desc";return new oo(r.field,o)});let n=t.endAt?new ro(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new ro(t.startAt.position,t.startAt.inclusive):null;return E0(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Em(t,e,n){return new so(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pu(t,e){return Vp(an(t),an(e))&&t.limitType===e.limitType}function tw(t){return`${Fp(an(t))}|lt:${t.limitType}`}function Kr(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>Z0(r)).join(", ")}]`),mu(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>io(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>io(r)).join(",")),`Target(${i})`}(an(t))}; limitType=${t.limitType})`}function gu(t,e){return e.isFoundDocument()&&function(i,r){let o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):K.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(t,e)&&function(i,r){for(let o of Zs(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(t,e)&&function(i,r){for(let o of i.filters)if(!o.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(s,c,l){let d=w0(s,c,l);return s.inclusive?d<=0:d<0}(i.startAt,Zs(i),r)||i.endAt&&!function(s,c,l){let d=w0(s,c,l);return s.inclusive?d>=0:d>0}(i.endAt,Zs(i),r))}(t,e)}function kk(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nw(t){return(e,n)=>{let i=!1;for(let r of Zs(t)){let o=Pk(r,e,n);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function Pk(t,e,n){let i=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,c){let l=s.data.field(o),d=c.data.field(o);return l!==null&&d!==null?no(l,d):X()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return X()}}var gi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(let[r,o]of i)if(this.equalsFn(r,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,i)=>{for(let[r,o]of i)e(r,o)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}};var Ok=new Le(K.comparator);function On(){return Ok}var iw=new Le(K.comparator);function Xs(...t){let e=iw;for(let n of t)e=e.insert(n.key,n);return e}function rw(t){let e=iw;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Gi(){return ea()}function ow(){return ea()}function ea(){return new gi(t=>t.toString(),(t,e)=>t.isEqual(e))}var Mk=new Le(K.comparator),Nk=new dt(K.comparator);function fe(...t){let e=Nk;for(let n of t)e=e.add(n);return e}var Fk=new dt(Ie);function Vk(){return Fk}function sw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ia(e)?"-0":e}}function aw(t){return{integerValue:""+t}}function Lk(t,e){return wk(e)?aw(e):sw(t,e)}var ao=class{constructor(){this._=void 0}};function Uk(t,e,n){return t instanceof co?function(r,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Op(o)&&(o=Mp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ji?lw(t,e):t instanceof Zi?uw(t,e):function(r,o){let s=cw(r,o),c=C0(s)+C0(r.Pe);return hm(s)&&hm(r.Pe)?aw(c):sw(r.serializer,c)}(t,e)}function jk(t,e,n){return t instanceof Ji?lw(t,e):t instanceof Zi?uw(t,e):n}function cw(t,e){return t instanceof lo?function(i){return hm(i)||function(o){return!!o&&"doubleValue"in o}(i)}(e)?e:{integerValue:0}:null}var co=class extends ao{},Ji=class extends ao{constructor(e){super(),this.elements=e}};function lw(t,e){let n=dw(e);for(let i of t.elements)n.some(r=>ln(r,i))||n.push(i);return{arrayValue:{values:n}}}var Zi=class extends ao{constructor(e){super(),this.elements=e}};function uw(t,e){let n=dw(e);for(let i of t.elements)n=n.filter(r=>!ln(r,i));return{arrayValue:{values:n}}}var lo=class extends ao{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function C0(t){return Fe(t.integerValue||t.doubleValue)}function dw(t){return Np(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Bk(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Ji&&r instanceof Ji||i instanceof Zi&&r instanceof Zi?to(i.elements,r.elements,ln):i instanceof lo&&r instanceof lo?ln(i.Pe,r.Pe):i instanceof co&&r instanceof co}(t.transform,e.transform)}var Tm=class{constructor(e,n){this.version=e,this.transformResults=n}},Ki=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Fl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var uo=class{};function hw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ql(t.key,Ki.none()):new er(t.key,t.data,Ki.none());{let n=t.data,i=Bt.empty(),r=new dt(Dt.comparator);for(let o of e.fields)if(!r.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?i.delete(o):i.set(o,s),r=r.add(o)}return new Mn(t.key,i,new on(r.toArray()),Ki.none())}}function zk(t,e,n){t instanceof er?function(r,o,s){let c=r.value.clone(),l=S0(r.fieldTransforms,o,s.transformResults);c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Mn?function(r,o,s){if(!Fl(r.precondition,o))return void o.convertToUnknownDocument(s.version);let c=S0(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(fw(r)),l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(r,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ta(t,e,n,i){return t instanceof er?function(o,s,c,l){if(!Fl(o.precondition,s))return c;let d=o.value.clone(),f=x0(o.fieldTransforms,l,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,i):t instanceof Mn?function(o,s,c,l){if(!Fl(o.precondition,s))return c;let d=x0(o.fieldTransforms,l,s),f=s.data;return f.setAll(fw(o)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,i):function(o,s,c){return Fl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function $k(t,e){let n=null;for(let i of t.fieldTransforms){let r=e.data.field(i.field),o=cw(i.transform,r||null);o!=null&&(n===null&&(n=Bt.empty()),n.set(i.field,o))}return n||null}function A0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&to(i,r,(o,s)=>Bk(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var er=class extends uo{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},Mn=class extends uo{constructor(e,n,i,r,o=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function fw(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let i=t.data.field(n);e.set(n,i)}}),e}function S0(t,e,n){let i=new Map;De(t.length===n.length);for(let r=0;r<n.length;r++){let o=t[r],s=o.transform,c=e.data.field(o.field);i.set(o.field,jk(s,c,n[r]))}return i}function x0(t,e,n){let i=new Map;for(let r of t){let o=r.transform,s=n.data.field(r.field);i.set(r.field,Uk(o,s,e))}return i}var ql=class extends uo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Cm=class extends uo{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Am=class{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){let i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){let o=this.mutations[r];o.key.isEqual(e.key)&&zk(o,e,i[r])}}applyToLocalView(e,n){for(let i of this.baseMutations)i.key.isEqual(e.key)&&(n=ta(i,e,n,this.localWriteTime));for(let i of this.mutations)i.key.isEqual(e.key)&&(n=ta(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let i=ow();return this.mutations.forEach(r=>{let o=e.get(r.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(r.key)?null:c;let l=hw(s,c);l!==null&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(ee.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,i)=>A0(n,i))&&to(this.baseMutations,e.baseMutations,(n,i)=>A0(n,i))}},Sm=class t{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){De(e.mutations.length===i.length);let r=function(){return Mk}(),o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new t(e,n,i,r)}};var xm=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Dm=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qe,_e;function qk(t){switch(t){default:return X();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}function mw(t){if(t===void 0)return kn("GRPC error has no .code"),N.UNKNOWN;switch(t){case qe.OK:return N.OK;case qe.CANCELLED:return N.CANCELLED;case qe.UNKNOWN:return N.UNKNOWN;case qe.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case qe.INTERNAL:return N.INTERNAL;case qe.UNAVAILABLE:return N.UNAVAILABLE;case qe.UNAUTHENTICATED:return N.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case qe.NOT_FOUND:return N.NOT_FOUND;case qe.ALREADY_EXISTS:return N.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return N.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case qe.ABORTED:return N.ABORTED;case qe.OUT_OF_RANGE:return N.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return N.UNIMPLEMENTED;case qe.DATA_LOSS:return N.DATA_LOSS;default:return X()}}(_e=qe||(qe={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var D0=null;function Gk(){return new TextEncoder}var Wk=new fi([4294967295,4294967295],0);function R0(t){let e=Gk().encode(t),n=new qf;return n.update(e),new Uint8Array(n.digest())}function k0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fi([n,i],0),new fi([r,o],0)]}var Rm=class t{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Wi(`Invalid padding: ${n}`);if(i<0)throw new Wi(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Wi(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Wi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fi.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(fi.fromNumber(i)));return r.compare(Wk)===1&&(r=new fi([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=R0(e),[i,r]=k0(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);if(!this.de(s))return!1}return!0}static create(e,n,i){let r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,r,n);return i.forEach(c=>s.insert(c)),s}insert(e){if(this.Ie===0)return;let n=R0(e),[i,r]=k0(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(i,r,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}},Wi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Gl=class t{constructor(e,n,i,r,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,i){let r=new Map;return r.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new t(ee.min(),r,new Le(Ie),On(),fe())}},sa=class t{constructor(e,n,i,r,o){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new t(i,n,fe(),fe(),fe())}};var Jr=class{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}},Wl=class{constructor(e,n){this.targetId=e,this.me=n}},Hl=class{constructor(e,n,i=mt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}},Kl=class{constructor(){this.fe=0,this.ge=O0(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=fe(),n=fe(),i=fe();return this.ge.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:X()}}),new sa(this.pe,this.ye,e,n,i)}ve(){this.we=!1,this.ge=O0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,De(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},km=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=On(),this.qe=P0(),this.Qe=new Le(Ie)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){let n=e.targetId,i=e.me.count,r=this.Je(n);if(r){let o=r.target;if(Im(o))if(i===0){let s=new K(o.path);this.Ue(n,s,zt.newNoDocument(s,ee.min()))}else De(i===1);else{let s=this.Ye(n);if(s!==i){let c=this.Ze(e),l=c?this.Xe(c,e,s):1;if(l!==0){this.je(n);let d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}D0?.et(function(f,p,y,A,O){var V,R,z,Y,ue,oe;let We={localCacheCount:f,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},we=p.unchangedNames;return we&&(We.bloomFilter={applied:O===0,hashCount:(V=we?.hashCount)!==null&&V!==void 0?V:0,bitmapLength:(Y=(z=(R=we?.bits)===null||R===void 0?void 0:R.bitmap)===null||z===void 0?void 0:z.length)!==null&&Y!==void 0?Y:0,padding:(oe=(ue=we?.bits)===null||ue===void 0?void 0:ue.padding)!==null&&oe!==void 0?oe:0,mightContain:I=>{var g;return(g=A?.mightContain(I))!==null&&g!==void 0&&g}}),We}(s,e.me,this.Le.tt(),c,l))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=n,s,c;try{s=pi(i).toUint8Array()}catch(l){if(l instanceof Bl)return eo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Rm(s,r,o)}catch(l){return eo(l instanceof Wi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){let i=this.Le.getRemoteKeysForTarget(n),r=0;return i.forEach(o=>{let s=this.Le.tt(),c=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.Ue(n,o,null),r++)}),r}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let c=this.Je(s);if(c){if(o.current&&Im(c.target)){let l=new K(c.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,zt.newNoDocument(l,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let i=fe();this.qe.forEach((o,s)=>{let c=!0;s.forEachWhile(l=>{let d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(i=i.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let r=new Gl(e,n,this.Qe,this.ke,i);return this.ke=On(),this.qe=P0(),this.Qe=new Le(Ie),r}$e(e,n){if(!this.ze(e))return;let i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;let r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Kl,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new dt(Ie),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Kl),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function P0(){return new Le(K.comparator)}function O0(){return new Le(K.comparator)}var Hk={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yk={and:"AND",or:"OR"},Pm=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Om(t,e){return t.useProto3Json||mu(e)?e:{value:e}}function Yl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Qk(t,e){return Yl(t,e.toTimestamp())}function cn(t){return De(!!t),ee.fromTimestamp(function(n){let i=Pn(n);return new nt(i.seconds,i.nanos)}(t))}function Up(t,e){return Mm(t,e).canonicalString()}function Mm(t,e){let n=function(r){return new Ve(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gw(t){let e=Ve.fromString(t);return De(ww(e)),e}function Nm(t,e){return Up(t.databaseId,e.path)}function Xf(t,e){let n=gw(e);if(n.get(1)!==t.databaseId.projectId)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(vw(n))}function _w(t,e){return Up(t.databaseId,e)}function Xk(t){let e=gw(t);return e.length===4?Ve.emptyPath():vw(e)}function Fm(t){return new Ve(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function vw(t){return De(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function M0(t,e,n){return{name:Nm(t,e),fields:n.value.mapValue.fields}}function Jk(t,e){let n;if("targetChange"in e){e.targetChange;let i=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],o=function(d,f){return d.useProto3Json?(De(f===void 0||typeof f=="string"),mt.fromBase64String(f||"")):(De(f===void 0||f instanceof Buffer||f instanceof Uint8Array),mt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,c=s&&function(d){let f=d.code===void 0?N.UNKNOWN:mw(d.code);return new H(f,d.message||"")}(s);n=new Hl(i,r,o,c||null)}else if("documentChange"in e){e.documentChange;let i=e.documentChange;i.document,i.document.name,i.document.updateTime;let r=Xf(t,i.document.name),o=cn(i.document.updateTime),s=i.document.createTime?cn(i.document.createTime):ee.min(),c=new Bt({mapValue:{fields:i.document.fields}}),l=zt.newFoundDocument(r,o,s,c),d=i.targetIds||[],f=i.removedTargetIds||[];n=new Jr(d,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let i=e.documentDelete;i.document;let r=Xf(t,i.document),o=i.readTime?cn(i.readTime):ee.min(),s=zt.newNoDocument(r,o),c=i.removedTargetIds||[];n=new Jr([],c,s.key,s)}else if("documentRemove"in e){e.documentRemove;let i=e.documentRemove;i.document;let r=Xf(t,i.document),o=i.removedTargetIds||[];n=new Jr([],o,r,null)}else{if(!("filter"in e))return X();{e.filter;let i=e.filter;i.targetId;let{count:r=0,unchangedNames:o}=i,s=new Dm(r,o),c=i.targetId;n=new Wl(c,s)}}return n}function Zk(t,e){let n;if(e instanceof er)n={update:M0(t,e.key,e.value)};else if(e instanceof ql)n={delete:Nm(t,e.key)};else if(e instanceof Mn)n={update:M0(t,e.key,e.data),updateMask:c1(e.fieldMask)};else{if(!(e instanceof Cm))return X();n={verify:Nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(o,s){let c=s.transform;if(c instanceof co)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ji)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Zi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof lo)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw X()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:Qk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X()}(t,e.precondition)),n}function e1(t,e){return t&&t.length>0?(De(e!==void 0),t.map(n=>function(r,o){let s=r.updateTime?cn(r.updateTime):cn(o);return s.isEqual(ee.min())&&(s=cn(o)),new Tm(s,r.transformResults||[])}(n,e))):[]}function t1(t,e){return{documents:[_w(t,e.path)]}}function n1(t,e){let n={structuredQuery:{}},i=e.path,r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=_w(t,r);let o=function(d){if(d.length!==0)return yw(un.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(f=>function(y){return{field:Yr(y.field),direction:o1(y.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let c=Om(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:r}}function i1(t){let e=Xk(t.parent),n=t.structuredQuery,i=n.from?n.from.length:0,r=null;if(i>0){De(i===1);let f=n.from[0];f.allDescendants?r=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){let y=bw(p);return y instanceof un&&X0(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(O){return new oo(Qr(O.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(y))}(n.orderBy));let c=null;n.limit&&(c=function(p){let y;return y=typeof p=="object"?p.value:p,mu(y)?null:y}(n.limit));let l=null;n.startAt&&(l=function(p){let y=!!p.before,A=p.values||[];return new ro(A,y)}(n.startAt));let d=null;return n.endAt&&(d=function(p){let y=!p.before,A=p.values||[];return new ro(A,y)}(n.endAt)),xk(e,r,s,o,c,"F",l,d)}function r1(t,e){let n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let i=Qr(n.unaryFilter.field);return Qe.create(i,"==",{doubleValue:NaN});case"IS_NULL":let r=Qr(n.unaryFilter.field);return Qe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qr(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qr(n.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Qr(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return un.create(n.compositeFilter.filters.map(i=>bw(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function o1(t){return Hk[t]}function s1(t){return Kk[t]}function a1(t){return Yk[t]}function Yr(t){return{fieldPath:t.canonicalString()}}function Qr(t){return Dt.fromServerFormat(t.fieldPath)}function yw(t){return t instanceof Qe?function(n){if(n.op==="=="){if(y0(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NAN"}};if(b0(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(y0(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NOT_NAN"}};if(b0(n.value))return{unaryFilter:{field:Yr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yr(n.field),op:s1(n.op),value:n.value}}}(t):t instanceof un?function(n){let i=n.getFilters().map(r=>yw(r));return i.length===1?i[0]:{compositeFilter:{op:a1(n.op),filters:i}}}(t):X()}function c1(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ww(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var aa=class t{constructor(e,n,i,r,o=ee.min(),s=ee.min(),c=mt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Vm=class{constructor(e){this.ct=e}};function l1(t){let e=i1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Em(e,e.limit,"L"):e}var Ql=class{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Fe(e.integerValue));else if("doubleValue"in e){let i=Fe(e.doubleValue);isNaN(i)?this.Et(n,13):(this.Et(n,15),ia(i)?n.dt(0):n.dt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Et(n,20),typeof i=="string"&&(i=Pn(i)),n.At(`${i.seconds||""}`),n.dt(i.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(pi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){let i=e.geoPointValue;this.Et(n,45),n.dt(i.latitude||0),n.dt(i.longitude||0)}else"mapValue"in e?K0(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):X()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){let i=e.fields||{};this.Et(n,55);for(let r of Object.keys(i))this.Rt(r,n),this.It(i[r],n)}wt(e,n){let i=e.values||[];this.Et(n,50);for(let r of i)this.It(r,n)}gt(e,n){this.Et(n,37),K.fromName(e).path.forEach(i=>{this.Et(n,60),this.St(i,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}};Ql.bt=new Ql;var Lm=class{constructor(){this._n=new Um}addToCollectionParentIndex(e,n){return this._n.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Qi.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Qi.min())}updateCollectionGroup(e,n,i){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},Um=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new dt(Ve.comparator),o=!r.has(i);return this.index[n]=r.add(i),o}has(e){let n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new dt(Ve.comparator)).toArray()}};var SV=new Uint8Array(0);var rn=class t{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(41943040,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);var ca=class t{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new t(0)}static Ln(){return new t(-1)}};var jm=class{constructor(){this.changes=new gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let i=this.changes.get(n);return i!==void 0?L.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Bm=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var zm=class{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&ta(i.mutation,r,on.empty(),nt.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=fe()){let r=Gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(o=>{let s=Xs();return o.forEach((c,l)=>{s=s.insert(c,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let i=Gi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,fe()))}populateOverlays(e,n,i){let r=[];return i.forEach(o=>{n.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,i,r){let o=On(),s=ea(),c=function(){return ea()}();return n.forEach((l,d)=>{let f=i.get(d.key);r.has(d.key)&&(f===void 0||f.mutation instanceof Mn)?o=o.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),ta(f.mutation,d,f.mutation.getFieldMask(),nt.now())):s.set(d.key,on.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((d,f)=>s.set(d,f)),n.forEach((d,f)=>{var p;return c.set(d,new Bm(f,(p=s.get(d))!==null&&p!==void 0?p:null))}),c))}recalculateAndSaveOverlays(e,n){let i=ea(),r=new Le((s,c)=>s-c),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(l=>{let d=n.get(l);if(d===null)return;let f=i.get(l)||on.empty();f=c.applyToLocalView(d,f),i.set(l,f);let p=(r.get(c.batchId)||fe()).add(l);r=r.insert(c.batchId,p)})}).next(()=>{let s=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),d=l.key,f=l.value,p=ow();f.forEach(y=>{if(!o.has(y)){let A=hw(n.get(y),i.get(y));A!==null&&p.set(y,A),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return L.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(o=>{let s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-o.size):L.resolve(Gi()),c=-1,l=o;return s.next(d=>L.forEach(d,(f,p)=>(c<p.largestBatchId&&(c=p.largestBatchId),o.get(f)?L.resolve():this.remoteDocumentCache.getEntry(e,f).next(y=>{l=l.insert(f,y)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,l,d,fe())).next(f=>({batchId:c,changes:rw(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(i=>{let r=Xs();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){let o=n.collectionGroup,s=Xs();return this.indexManager.getCollectionParents(e,o).next(c=>L.forEach(c,l=>{let d=function(p,y){return new so(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,i,r).next(f=>{f.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,o,r))).next(s=>{o.forEach((l,d)=>{let f=d.getKey();s.get(f)===null&&(s=s.insert(f,zt.newInvalidDocument(f)))});let c=Xs();return s.forEach((l,d)=>{let f=o.get(l);f!==void 0&&ta(f.mutation,d,on.empty(),nt.now()),gu(n,d)&&(c=c.insert(l,d))}),c})}};var $m=class{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return L.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:cn(r.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(r){return{name:r.name,query:l1(r.bundledQuery),readTime:cn(r.readTime)}}(n)),L.resolve()}};var qm=class{constructor(){this.overlays=new Le(K.comparator),this.hr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let i=Gi();return L.forEach(n,r=>this.getOverlay(e,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,i){let r=this.hr.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(i)),L.resolve()}getOverlaysForCollection(e,n,i){let r=Gi(),o=n.length+1,s=new K(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let l=c.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return L.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let o=new Le((d,f)=>d-f),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>i){let f=o.get(d.largestBatchId);f===null&&(f=Gi(),o=o.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}let c=Gi(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,f)=>c.set(d,f)),!(c.size()>=r)););return L.resolve(c)}ht(e,n,i){let r=this.overlays.get(i.key);if(r!==null){let s=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new xm(n,i));let o=this.hr.get(n);o===void 0&&(o=fe(),this.hr.set(n,o)),this.hr.set(n,o.add(i.key))}};var la=class{constructor(){this.Pr=new dt(Ge.Ir),this.Tr=new dt(Ge.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){let i=new Ge(e,n);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Ar(new Ge(e,n))}Rr(e,n){e.forEach(i=>this.removeReference(i,n))}Vr(e){let n=new K(new Ve([])),i=new Ge(n,e),r=new Ge(n,e+1),o=[];return this.Tr.forEachInRange([i,r],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){let n=new K(new Ve([])),i=new Ge(n,e),r=new Ge(n,e+1),o=fe();return this.Tr.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ge(e,0),i=this.Pr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}},Ge=class{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return K.comparator(e.key,n.key)||Ie(e.pr,n.pr)}static Er(e,n){return Ie(e.pr,n.pr)||K.comparator(e.key,n.key)}};var Gm=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new dt(Ge.Ir)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){let o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Am(o,n,i,r);this.mutationQueue.push(s);for(let c of r)this.wr=this.wr.add(new Ge(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){let i=n+1,r=this.br(i),o=r<0?0:r;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let i=new Ge(n,0),r=new Ge(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([i,r],s=>{let c=this.Sr(s.pr);o.push(c)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new dt(Ie);return n.forEach(r=>{let o=new Ge(r,0),s=new Ge(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],c=>{i=i.add(c.pr)})}),L.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(e,n){let i=n.path,r=i.length+1,o=i;K.isDocumentKey(o)||(o=o.child(""));let s=new Ge(new K(o),0),c=new dt(Ie);return this.wr.forEachWhile(l=>{let d=l.key.path;return!!i.isPrefixOf(d)&&(d.length===r&&(c=c.add(l.pr)),!0)},s),L.resolve(this.Dr(c))}Dr(e){let n=[];return e.forEach(i=>{let r=this.Sr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){De(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.wr;return L.forEach(n.mutations,r=>{let o=new Ge(r.key,n.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.wr=i})}Mn(e){}containsKey(e,n){let i=new Ge(n,0),r=this.wr.firstAfterOrEqual(i);return L.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){let n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Wm=class{constructor(e){this.vr=e,this.docs=function(){return new Le(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let i=n.key,r=this.docs.get(i),o=r?r.size:0,s=this.vr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let i=this.docs.get(n);return L.resolve(i?i.document.mutableCopy():zt.newInvalidDocument(n))}getEntries(e,n){let i=On();return n.forEach(r=>{let o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():zt.newInvalidDocument(r))}),L.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let o=On(),s=n.path,c=new K(s.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:d,value:{document:f}}=l.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||vk(_k(f),i)<=0||(r.has(f.key)||gu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,i,r){X()}Fr(e,n){return L.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new Hm(this)}getSize(e){return L.resolve(this.size)}},Hm=class extends jm{constructor(e){super(),this.ar=e}applyChanges(e){let n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.ar.addEntry(e,r)):this.ar.removeEntry(i)}),L.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}};var Km=class{constructor(e){this.persistence=e,this.Mr=new gi(n=>Fp(n),Vp),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.Or=0,this.Nr=new la,this.targetCount=0,this.Lr=ca.Nn()}forEachTarget(e,n){return this.Mr.forEach((i,r)=>n(r)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Or&&(this.Or=n),L.resolve()}qn(e){this.Mr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Lr=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.qn(n),L.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,i){let r=0,o=[];return this.Mr.forEach((s,c)=>{c.sequenceNumber<=n&&i.get(c.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),r++)}),L.waitFor(o).next(()=>r)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let i=this.Mr.get(n)||null;return L.resolve(i)}addMatchingKeys(e,n,i){return this.Nr.dr(n,i),L.resolve()}removeMatchingKeys(e,n,i){this.Nr.Rr(n,i);let r=this.persistence.referenceDelegate,o=[];return r&&n.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let i=this.Nr.gr(n);return L.resolve(i)}containsKey(e,n){return L.resolve(this.Nr.containsKey(n))}};var Ym=class{constructor(e,n){this.Br={},this.overlays={},this.kr=new W0(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Km(this),this.indexManager=new Lm,this.remoteDocumentCache=function(r){return new Wm(r)}(i=>this.referenceDelegate.Kr(i)),this.serializer=new Vm(n),this.$r=new $m(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qm,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Br[e.toKey()];return i||(i=new Gm(n,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,i){q("MemoryPersistence","Starting transaction:",e);let r=new Qm(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(o=>this.referenceDelegate.Wr(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gr(e,n){return L.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,n)))}},Qm=class extends lm{constructor(e){super(),this.currentSequenceNumber=e}},Xm=class t{constructor(e){this.persistence=e,this.zr=new la,this.jr=null}static Hr(e){return new t(e)}get Jr(){if(this.jr)return this.jr;throw X()}addReference(e,n,i){return this.zr.addReference(i,n),this.Jr.delete(i.toString()),L.resolve()}removeReference(e,n,i){return this.zr.removeReference(i,n),this.Jr.add(i.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),L.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(r=>this.Jr.add(r.toString()));let i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(o=>this.Jr.add(o.toString()))}).next(()=>i.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Jr,i=>{let r=K.fromPath(i);return this.Yr(e,r).next(o=>{o||n.removeEntry(r,ee.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(i=>{i?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return L.or([()=>L.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}};var Jm=class t{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.qi=i,this.Qi=r}static Ki(e,n){let i=fe(),r=fe();for(let o of n.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new t(e,n.fromCache,i,r)}};var Zm=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var ep=class{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Hb()?8:yk(Ke())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,i,r){let o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Zm;return this.Ji(e,n,s).next(c=>{if(o.result=c,this.Ui)return this.Yi(e,n,s,c.size)})}).next(()=>o.result)}Yi(e,n,i,r){return i.documentReadCount<this.Wi?(Qs()<=he.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Kr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),L.resolve()):(Qs()<=he.DEBUG&&q("QueryEngine","Query:",Kr(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Qs()<=he.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Kr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,an(n))):L.resolve())}ji(e,n){if(T0(n))return L.resolve(null);let i=an(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=Em(n,null,"F"),i=an(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{let s=fe(...o);return this.zi.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,i).next(l=>{let d=this.Zi(n,c);return this.Xi(n,d,s,l.readTime)?this.ji(e,Em(n,null,"F")):this.es(e,d,n,l)}))})))}Hi(e,n,i,r){return T0(n)||r.isEqual(ee.min())?L.resolve(null):this.zi.getDocuments(e,i).next(o=>{let s=this.Zi(n,o);return this.Xi(n,s,i,r)?L.resolve(null):(Qs()<=he.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Kr(n)),this.es(e,s,n,gk(r,-1)).next(c=>c))})}Zi(e,n){let i=new dt(nw(e));return n.forEach((r,o)=>{gu(e,o)&&(i=i.add(o))}),i}Xi(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ji(e,n,i){return Qs()<=he.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Kr(n)),this.zi.getDocumentsMatchingQuery(e,n,Qi.min(),i)}es(e,n,i,r){return this.zi.getDocumentsMatchingQuery(e,i,r).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tp=class{constructor(e,n,i,r){this.persistence=e,this.ts=n,this.serializer=r,this.ns=new Le(Ie),this.rs=new gi(o=>Fp(o),Vp),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(i)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}};function u1(t,e,n,i){return new tp(t,e,n,i)}function Iw(t,e){return b(this,null,function*(){let n=Z(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,n._s(e),n.mutationQueue.getAllMutationBatches(i))).next(o=>{let s=[],c=[],l=fe();for(let d of r){s.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}for(let d of o){c.push(d.batchId);for(let f of d.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(i,l).next(d=>({us:d,removedBatchIds:s,addedBatchIds:c}))})})})}function d1(t,e){let n=Z(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{let r=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(c,l,d,f){let p=d.batch,y=p.keys(),A=L.resolve();return y.forEach(O=>{A=A.next(()=>f.getEntry(l,O)).next(V=>{let R=d.docVersions.get(O);De(R!==null),V.version.compareTo(R)<0&&(p.applyToRemoteDocument(V,d),V.isValidDocument()&&(V.setReadTime(d.commitVersion),f.addEntry(V)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(l,p))}(n,i,e,o).next(()=>o.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let l=fe();for(let d=0;d<c.mutationResults.length;++d)c.mutationResults[d].transformResults.length>0&&(l=l.add(c.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function Ew(t){let e=Z(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function h1(t,e){let n=Z(t),i=e.snapshotVersion,r=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.os.newChangeBuffer({trackRemovals:!0});r=n.ns;let c=[];e.targetChanges.forEach((f,p)=>{let y=r.get(p);if(!y)return;c.push(n.Qr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Qr.addMatchingKeys(o,f.addedDocuments,p)));let A=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?A=A.withResumeToken(mt.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):f.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(f.resumeToken,i)),r=r.insert(p,A),function(V,R,z){return V.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(y,A,f)&&c.push(n.Qr.updateTargetData(o,A))});let l=On(),d=fe();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),c.push(f1(o,s,e.documentUpdates).next(f=>{l=f.cs,d=f.ls})),!i.isEqual(ee.min())){let f=n.Qr.getLastRemoteSnapshotVersion(o).next(p=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,i));c.push(f)}return L.waitFor(c).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,d)).next(()=>l)}).then(o=>(n.ns=r,o))}function f1(t,e,n){let i=fe(),r=fe();return n.forEach(o=>i=i.add(o)),e.getEntries(t,i).next(o=>{let s=On();return n.forEach((c,l)=>{let d=o.get(c);l.isFoundDocument()!==d.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(ee.min())?(e.removeEntry(c,l.readTime),s=s.insert(c,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),s=s.insert(c,l)):q("LocalStore","Ignoring outdated watch update for ",c,". Current version:",d.version," Watch version:",l.version)}),{cs:s,ls:r}})}function m1(t,e){let n=Z(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function p1(t,e){let n=Z(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Qr.getTargetData(i,e).next(o=>o?(r=o,L.resolve(r)):n.Qr.allocateTargetId(i).next(s=>(r=new aa(e,s,"TargetPurposeListen",i.currentSequenceNumber),n.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{let r=n.ns.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(i.targetId,i),n.rs.set(e,i.targetId)),i})}function np(t,e,n){return b(this,null,function*(){let i=Z(t),r=i.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!ma(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ns=i.ns.remove(e),i.rs.delete(r.target)})}function N0(t,e,n){let i=Z(t),r=ee.min(),o=fe();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,d,f){let p=Z(l),y=p.rs.get(f);return y!==void 0?L.resolve(p.ns.get(y)):p.Qr.getTargetData(d,f)}(i,s,an(e)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(s,c.targetId).next(l=>{o=l})}).next(()=>i.ts.getDocumentsMatchingQuery(s,e,n?r:ee.min(),n?o:fe())).next(c=>(g1(i,kk(e),c),{documents:c,hs:o})))}function g1(t,e,n){let i=t.ss.get(e)||ee.min();n.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),t.ss.set(e,i)}var Xl=class{constructor(){this.activeTargetIds=Vk()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var ip=class{constructor(){this.no=new Xl,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,i){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Xl,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var rp=class{io(e){}shutdown(){}};var Jl=class{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.uo)e(0)}ao(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ml=null;function Jf(){return Ml===null?Ml=function(){return 268435456+Math.round(2147483648*Math.random())}():Ml++,"0x"+Ml.toString(16)}var _1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var op=class{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}};var ut="WebChannelConnection",sp=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+n.host,this.So=`projects/${r}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get Do(){return!1}Co(n,i,r,o,s){let c=Jf(),l=this.vo(n,i.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${c}:`,l,r);let d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(n,l,d,r).then(f=>(q("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw eo("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",l,"request:",r),f})}xo(n,i,r,o,s,c){return this.Co(n,i,r,o,s)}Fo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>n[s]=o),r&&r.headers.forEach((o,s)=>n[s]=o)}vo(n,i){let r=_1[n];return`${this.wo}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,i,r){let o=Jf();return new Promise((s,c)=>{let l=new Gf;l.setWithCredentials(!0),l.listenOnce(Hf.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ys.NO_ERROR:let f=l.getResponseJson();q(ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ys.TIMEOUT:q(ut,`RPC '${e}' ${o} timed out`),c(new H(N.DEADLINE_EXCEEDED,"Request time out"));break;case Ys.HTTP_ERROR:let p=l.getStatus();if(q(ut,`RPC '${e}' ${o} failed with status:`,p,"response text:",l.getResponseText()),p>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let A=y?.error;if(A&&A.status&&A.message){let O=function(R){let z=R.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(z)>=0?z:N.UNKNOWN}(A.status);c(new H(O,A.message))}else c(new H(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new H(N.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{q(ut,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(r);q(ut,`RPC '${e}' ${o} sending request:`,r),l.send(n,"POST",d,i,15)})}Oo(e,n,i){let r=Jf(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Qf(),c=Yf(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.xmlHttpFactory=new Wf({})),this.Fo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;let f=o.join("");q(ut,`Creating RPC '${e}' stream ${r}: ${f}`,l);let p=s.createWebChannel(f,l),y=!1,A=!1,O=new op({lo:R=>{A?q(ut,`Not sending because RPC '${e}' stream ${r} is closed:`,R):(y||(q(ut,`Opening RPC '${e}' stream ${r} transport.`),p.open(),y=!0),q(ut,`RPC '${e}' stream ${r} sending:`,R),p.send(R))},ho:()=>p.close()}),V=(R,z,Y)=>{R.listen(z,ue=>{try{Y(ue)}catch(oe){setTimeout(()=>{throw oe},0)}})};return V(p,Hr.EventType.OPEN,()=>{A||(q(ut,`RPC '${e}' stream ${r} transport opened.`),O.mo())}),V(p,Hr.EventType.CLOSE,()=>{A||(A=!0,q(ut,`RPC '${e}' stream ${r} transport closed`),O.po())}),V(p,Hr.EventType.ERROR,R=>{A||(A=!0,eo(ut,`RPC '${e}' stream ${r} transport errored:`,R),O.po(new H(N.UNAVAILABLE,"The operation could not be completed")))}),V(p,Hr.EventType.MESSAGE,R=>{var z;if(!A){let Y=R.data[0];De(!!Y);let ue=Y,oe=ue.error||((z=ue[0])===null||z===void 0?void 0:z.error);if(oe){q(ut,`RPC '${e}' stream ${r} received error:`,oe);let We=oe.status,we=function(v){let w=qe[v];if(w!==void 0)return mw(w)}(We),I=oe.message;we===void 0&&(we=N.INTERNAL,I="Unknown error status: "+We+" with message "+oe.message),A=!0,O.po(new H(we,I)),p.close()}else q(ut,`RPC '${e}' stream ${r} received:`,Y),O.yo(Y)}}),V(c,Kf.STAT_EVENT,R=>{R.stat===Pl.PROXY?q(ut,`RPC '${e}' stream ${r} detected buffering proxy`):R.stat===Pl.NOPROXY&&q(ut,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{O.fo()},0),O}};function Zf(){return typeof document<"u"?document:null}function _u(t){return new Pm(t,!0)}var Zl=class{constructor(e,n,i=1e3,r=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=i,this.Lo=r,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();let n=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,n-i);r>0&&q("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}};var eu=class{constructor(e,n,i,r,o,s,c,l){this.oi=e,this.Go=i,this.zo=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Zl(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}stop(){return b(this,null,function*(){this.Zo()&&(yield this.close(0))})}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}r_(){return b(this,null,function*(){if(this.Xo())return this.close(0)})}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(e,n){return b(this,null,function*(){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Ao(n)})}__(){}auth(){this.state=1;let e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===n&&this.u_(i,r)},i=>{e(()=>{let r=new H(N.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(e,n){let i=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){this.state=5,this.Yo.$o(()=>b(this,null,function*(){this.state=0,this.start()}))}c_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ap=class extends eu{constructor(e,n,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();let n=Jk(this.serializer,e),i=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?cn(s.readTime):ee.min()}(e);return this.listener.h_(n,i)}P_(e){let n={};n.database=Fm(this.serializer),n.addTarget=function(o,s){let c,l=s.target;if(c=Im(l)?{documents:t1(o,l)}:{query:n1(o,l)._t},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){c.resumeToken=pw(o,s.resumeToken);let d=Om(o,s.expectedCount);d!==null&&(c.expectedCount=d)}else if(s.snapshotVersion.compareTo(ee.min())>0){c.readTime=Yl(o,s.snapshotVersion.toTimestamp());let d=Om(o,s.expectedCount);d!==null&&(c.expectedCount=d)}return c}(this.serializer,e);let i=r1(this.serializer,e);i&&(n.labels=i),this.i_(n)}I_(e){let n={};n.database=Fm(this.serializer),n.removeTarget=e,this.i_(n)}},cp=class extends eu{constructor(e,n,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(De(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();let n=e1(e.writeResults,e.commitTime),i=cn(e.commitTime);return this.listener.A_(i,n)}return De(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){let e={};e.database=Fm(this.serializer),this.i_(e)}d_(e){let n={streamToken:this.lastStreamToken,writes:e.map(i=>Zk(this.serializer,i))};this.i_(n)}};var lp=class extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,Mm(n,i),r,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(N.UNKNOWN,o.toString())})}xo(e,n,i,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.xo(e,Mm(n,i),r,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(N.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}},up=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(kn(n),this.y_=!1):q("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}};var dp=class{constructor(e,n,i,r,o){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{i.enqueueAndForget(()=>b(this,null,function*(){tr(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(l){return b(this,null,function*(){let d=Z(l);d.M_.add(4),yield pa(d),d.N_.set("Unknown"),d.M_.delete(4),yield vu(d)})}(this))}))}),this.N_=new up(i,r)}};function vu(t){return b(this,null,function*(){if(tr(t))for(let e of t.x_)yield e(!0)})}function pa(t){return b(this,null,function*(){for(let e of t.x_)yield e(!1)})}function Tw(t,e){let n=Z(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),$p(n)?zp(n):_o(n).Xo()&&Bp(n,e))}function jp(t,e){let n=Z(t),i=_o(n);n.F_.delete(e),i.Xo()&&Cw(n,e),n.F_.size===0&&(i.Xo()?i.n_():tr(n)&&n.N_.set("Unknown"))}function Bp(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(t).P_(e)}function Cw(t,e){t.L_.xe(e),_o(t).I_(e)}function zp(t){t.L_=new km({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_o(t).start(),t.N_.w_()}function $p(t){return tr(t)&&!_o(t).Zo()&&t.F_.size>0}function tr(t){return Z(t).M_.size===0}function Aw(t){t.L_=void 0}function v1(t){return b(this,null,function*(){t.N_.set("Online")})}function b1(t){return b(this,null,function*(){t.F_.forEach((e,n)=>{Bp(t,e)})})}function y1(t,e){return b(this,null,function*(){Aw(t),$p(t)?(t.N_.D_(e),zp(t)):t.N_.set("Unknown")})}function w1(t,e,n){return b(this,null,function*(){if(t.N_.set("Online"),e instanceof Hl&&e.state===2&&e.cause)try{yield function(r,o){return b(this,null,function*(){let s=o.cause;for(let c of o.targetIds)r.F_.has(c)&&(yield r.remoteSyncer.rejectListen(c,s),r.F_.delete(c),r.L_.removeTarget(c))})}(t,e)}catch(i){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield tu(t,i)}else if(e instanceof Jr?t.L_.Ke(e):e instanceof Wl?t.L_.He(e):t.L_.We(e),!n.isEqual(ee.min()))try{let i=yield Ew(t.localStore);n.compareTo(i)>=0&&(yield function(o,s){let c=o.L_.rt(s);return c.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){let f=o.F_.get(d);f&&o.F_.set(d,f.withResumeToken(l.resumeToken,s))}}),c.targetMismatches.forEach((l,d)=>{let f=o.F_.get(l);if(!f)return;o.F_.set(l,f.withResumeToken(mt.EMPTY_BYTE_STRING,f.snapshotVersion)),Cw(o,l);let p=new aa(f.target,l,d,f.sequenceNumber);Bp(o,p)}),o.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(i){q("RemoteStore","Failed to raise snapshot:",i),yield tu(t,i)}})}function tu(t,e,n){return b(this,null,function*(){if(!ma(e))throw e;t.M_.add(1),yield pa(t),t.N_.set("Offline"),n||(n=()=>Ew(t.localStore)),t.asyncQueue.enqueueRetryable(()=>b(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.M_.delete(1),yield vu(t)}))})}function Sw(t,e){return e().catch(n=>tu(t,n,e))}function bu(t){return b(this,null,function*(){let e=Z(t),n=_i(e),i=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;I1(e);)try{let r=yield m1(e.localStore,i);if(r===null){e.v_.length===0&&n.n_();break}i=r.batchId,E1(e,r)}catch(r){yield tu(e,r)}xw(e)&&Dw(e)})}function I1(t){return tr(t)&&t.v_.length<10}function E1(t,e){t.v_.push(e);let n=_i(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function xw(t){return tr(t)&&!_i(t).Zo()&&t.v_.length>0}function Dw(t){_i(t).start()}function T1(t){return b(this,null,function*(){_i(t).V_()})}function C1(t){return b(this,null,function*(){let e=_i(t);for(let n of t.v_)e.d_(n.mutations)})}function A1(t,e,n){return b(this,null,function*(){let i=t.v_.shift(),r=Sm.from(i,e,n);yield Sw(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield bu(t)})}function S1(t,e){return b(this,null,function*(){e&&_i(t).E_&&(yield function(i,r){return b(this,null,function*(){if(function(s){return qk(s)&&s!==N.ABORTED}(r.code)){let o=i.v_.shift();_i(i).t_(),yield Sw(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),yield bu(i)}})}(t,e)),xw(t)&&Dw(t)})}function F0(t,e){return b(this,null,function*(){let n=Z(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let i=tr(n);n.M_.add(3),yield pa(n),i&&n.N_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),yield vu(n)})}function x1(t,e){return b(this,null,function*(){let n=Z(t);e?(n.M_.delete(2),yield vu(n)):e||(n.M_.add(2),yield pa(n),n.N_.set("Unknown"))})}function _o(t){return t.B_||(t.B_=function(n,i,r){let o=Z(n);return o.f_(),new ap(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:v1.bind(null,t),To:b1.bind(null,t),Ao:y1.bind(null,t),h_:w1.bind(null,t)}),t.x_.push(e=>b(this,null,function*(){e?(t.B_.t_(),$p(t)?zp(t):t.N_.set("Unknown")):(yield t.B_.stop(),Aw(t))}))),t.B_}function _i(t){return t.k_||(t.k_=function(n,i,r){let o=Z(n);return o.f_(),new cp(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:T1.bind(null,t),Ao:S1.bind(null,t),R_:C1.bind(null,t),A_:A1.bind(null,t)}),t.x_.push(e=>b(this,null,function*(){e?(t.k_.t_(),yield bu(t)):(yield t.k_.stop(),t.v_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))}))),t.k_}var hp=class t{constructor(e,n,i,r,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Rn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,o){let s=Date.now()+i,c=new t(e,n,s,r,o);return c.start(i),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qp(t,e){if(kn("AsyncQueue",`${e}: ${t}`),ma(t))return new H(N.UNAVAILABLE,`${e}: ${t}`);throw t}var nu=class t{constructor(e){this.comparator=e?(n,i)=>e(n,i)||K.comparator(n.key,i.key):(n,i)=>K.comparator(n.key,i.key),this.keyedMap=Xs(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){let r=n.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let i=new t;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}};var iu=class{constructor(){this.q_=new Le(K.comparator)}track(e){let n=e.doc.key,i=this.q_.get(n);i?e.type!==0&&i.type===3?this.q_=this.q_.insert(n,e):e.type===3&&i.type!==1?this.q_=this.q_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.q_=this.q_.remove(n):e.type===1&&i.type===2?this.q_=this.q_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):X():this.q_=this.q_.insert(n,e)}Q_(){let e=[];return this.q_.inorderTraversal((n,i)=>{e.push(i)}),e}},ho=class t{constructor(e,n,i,r,o,s,c,l,d){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,i,r,o){let s=[];return n.forEach(c=>{s.push({type:0,doc:c})}),new t(e,n,nu.emptySet(n),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}};var fp=class{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}},mp=class{constructor(){this.queries=new gi(e=>tw(e),pu),this.onlineState="Unknown",this.z_=new Set}};function D1(t,e){return b(this,null,function*(){let n=Z(t),i=3,r=e.query,o=n.queries.get(r);o?!o.W_()&&e.G_()&&(i=2):(o=new fp,i=e.G_()?0:1);try{switch(i){case 0:o.K_=yield n.onListen(r,!0);break;case 1:o.K_=yield n.onListen(r,!1);break;case 2:yield n.onFirstRemoteStoreListen(r)}}catch(s){let c=qp(s,`Initialization of query '${Kr(e.query)}' failed`);return void e.onError(c)}n.queries.set(r,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&Gp(n)})}function R1(t,e){return b(this,null,function*(){let n=Z(t),i=e.query,r=3,o=n.queries.get(i);if(o){let s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?r=e.G_()?0:1:!o.W_()&&e.G_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}})}function k1(t,e){let n=Z(t),i=!1;for(let r of e){let o=r.query,s=n.queries.get(o);if(s){for(let c of s.U_)c.H_(r)&&(i=!0);s.K_=r}}i&&Gp(n)}function P1(t,e,n){let i=Z(t),r=i.queries.get(e);if(r)for(let o of r.U_)o.onError(n);i.queries.delete(e)}function Gp(t){t.z_.forEach(e=>{e.next()})}var pp,V0;(V0=pp||(pp={})).J_="default",V0.Cache="cache";var gp=class{constructor(e,n,i){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(e){if(!this.options.includeMetadataChanges){let i=[];for(let r of e.docChanges)r.type!==3&&i.push(r);e=new ho(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;let i=n!=="Offline";return(!this.options.ra||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;let n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==pp.Cache}};var ru=class{constructor(e){this.key=e}},ou=class{constructor(e){this.key=e}},_p=class{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=fe(),this.mutatedKeys=fe(),this.Ia=nw(e),this.Ta=new nu(this.Ia)}get Ea(){return this.la}da(e,n){let i=n?n.Aa:new iu,r=n?n.Ta:this.Ta,o=n?n.mutatedKeys:this.mutatedKeys,s=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,d=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((f,p)=>{let y=r.get(f),A=gu(this.query,p)?p:null,O=!!y&&this.mutatedKeys.has(y.key),V=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations),R=!1;y&&A?y.data.isEqual(A.data)?O!==V&&(i.track({type:3,doc:A}),R=!0):this.Ra(y,A)||(i.track({type:2,doc:A}),R=!0,(l&&this.Ia(A,l)>0||d&&this.Ia(A,d)<0)&&(c=!0)):!y&&A?(i.track({type:0,doc:A}),R=!0):y&&!A&&(i.track({type:1,doc:y}),R=!0,(l||d)&&(c=!0)),R&&(A?(s=s.add(A),o=V?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),i.track({type:1,doc:f})}return{Ta:s,Aa:i,Xi:c,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){let o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;let s=e.Aa.Q_();s.sort((f,p)=>function(A,O){let V=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return V(A)-V(O)}(f.type,p.type)||this.Ia(f.doc,p.doc)),this.Va(i),r=r!=null&&r;let c=n&&!r?this.ma():[],l=this.Pa.size===0&&this.current&&!r?1:0,d=l!==this.ha;return this.ha=l,s.length!==0||d?{snapshot:new ho(this.query,e.Ta,o,s,e.mutatedKeys,l===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:c}:{fa:c}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new iu,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];let e=this.Pa;this.Pa=fe(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});let n=[];return e.forEach(i=>{this.Pa.has(i)||n.push(new ou(i))}),this.Pa.forEach(i=>{e.has(i)||n.push(new ru(i))}),n}pa(e){this.la=e.hs,this.Pa=fe();let n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return ho.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}},vp=class{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}},bp=class{constructor(e){this.key=e,this.wa=!1}},yp=class{constructor(e,n,i,r,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new gi(c=>tw(c),pu),this.Da=new Map,this.Ca=new Set,this.va=new Le(K.comparator),this.Fa=new Map,this.Ma=new la,this.xa={},this.Oa=new Map,this.Na=ca.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}};function O1(t,e,n=!0){return b(this,null,function*(){let i=Nw(t),r,o=i.ba.get(e);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.ya()):r=yield Rw(i,e,n,!0),r})}function M1(t,e){return b(this,null,function*(){let n=Nw(t);yield Rw(n,e,!0,!1)})}function Rw(t,e,n,i){return b(this,null,function*(){let r=yield p1(t.localStore,an(e)),o=r.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current",c;return i&&(c=yield N1(t,e,o,s==="current",r.resumeToken)),t.isPrimaryClient&&n&&Tw(t.remoteStore,r),c})}function N1(t,e,n,i,r){return b(this,null,function*(){t.Ba=(p,y,A)=>function(V,R,z,Y){return b(this,null,function*(){let ue=R.view.da(z);ue.Xi&&(ue=yield N0(V.localStore,R.query,!1).then(({documents:I})=>R.view.da(I,ue)));let oe=Y&&Y.targetChanges.get(R.targetId),We=Y&&Y.targetMismatches.get(R.targetId)!=null,we=R.view.applyChanges(ue,V.isPrimaryClient,oe,We);return U0(V,R.targetId,we.fa),we.snapshot})}(t,p,y,A);let o=yield N0(t.localStore,e,!0),s=new _p(e,o.hs),c=s.da(o.documents),l=sa.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),d=s.applyChanges(c,t.isPrimaryClient,l);U0(t,n,d.fa);let f=new vp(e,n,s);return t.ba.set(e,f),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),d.snapshot})}function F1(t,e,n){return b(this,null,function*(){let i=Z(t),r=i.ba.get(e),o=i.Da.get(r.targetId);if(o.length>1)return i.Da.set(r.targetId,o.filter(s=>!pu(s,e))),void i.ba.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield np(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&jp(i.remoteStore,r.targetId),wp(i,r.targetId)}).catch(fa))):(wp(i,r.targetId),yield np(i.localStore,r.targetId,!0))})}function V1(t,e){return b(this,null,function*(){let n=Z(t),i=n.ba.get(e),r=n.Da.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),jp(n.remoteStore,i.targetId))})}function L1(t,e,n){return b(this,null,function*(){let i=G1(t);try{let r=yield function(s,c){let l=Z(s),d=nt.now(),f=c.reduce((A,O)=>A.add(O.key),fe()),p,y;return l.persistence.runTransaction("Locally write mutations","readwrite",A=>{let O=On(),V=fe();return l.os.getEntries(A,f).next(R=>{O=R,O.forEach((z,Y)=>{Y.isValidDocument()||(V=V.add(z))})}).next(()=>l.localDocuments.getOverlayedDocuments(A,O)).next(R=>{p=R;let z=[];for(let Y of c){let ue=$k(Y,p.get(Y.key).overlayedDocument);ue!=null&&z.push(new Mn(Y.key,ue,Y0(ue.value.mapValue),Ki.exists(!0)))}return l.mutationQueue.addMutationBatch(A,d,z,c)}).next(R=>{y=R;let z=R.applyToLocalDocumentSet(p,V);return l.documentOverlayCache.saveOverlays(A,R.batchId,z)})}).then(()=>({batchId:y.batchId,changes:rw(p)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,l){let d=s.xa[s.currentUser.toKey()];d||(d=new Le(Ie)),d=d.insert(c,l),s.xa[s.currentUser.toKey()]=d}(i,r.batchId,n),yield ga(i,r.changes),yield bu(i.remoteStore)}catch(r){let o=qp(r,"Failed to persist write");n.reject(o)}})}function kw(t,e){return b(this,null,function*(){let n=Z(t);try{let i=yield h1(n.localStore,e);e.targetChanges.forEach((r,o)=>{let s=n.Fa.get(o);s&&(De(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.wa=!0:r.modifiedDocuments.size>0?De(s.wa):r.removedDocuments.size>0&&(De(s.wa),s.wa=!1))}),yield ga(n,i,e)}catch(i){yield fa(i)}})}function L0(t,e,n){let i=Z(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){let r=[];i.ba.forEach((o,s)=>{let c=s.view.j_(e);c.snapshot&&r.push(c.snapshot)}),function(s,c){let l=Z(s);l.onlineState=c;let d=!1;l.queries.forEach((f,p)=>{for(let y of p.U_)y.j_(c)&&(d=!0)}),d&&Gp(l)}(i.eventManager,e),r.length&&i.Sa.h_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function U1(t,e,n){return b(this,null,function*(){let i=Z(t);i.sharedClientState.updateQueryState(e,"rejected",n);let r=i.Fa.get(e),o=r&&r.key;if(o){let s=new Le(K.comparator);s=s.insert(o,zt.newNoDocument(o,ee.min()));let c=fe().add(o),l=new Gl(ee.min(),new Map,new Le(Ie),s,c);yield kw(i,l),i.va=i.va.remove(o),i.Fa.delete(e),Wp(i)}else yield np(i.localStore,e,!1).then(()=>wp(i,e,n)).catch(fa)})}function j1(t,e){return b(this,null,function*(){let n=Z(t),i=e.batch.batchId;try{let r=yield d1(n.localStore,e);Ow(n,i,null),Pw(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield ga(n,r)}catch(r){yield fa(r)}})}function B1(t,e,n){return b(this,null,function*(){let i=Z(t);try{let r=yield function(s,c){let l=Z(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let f;return l.mutationQueue.lookupMutationBatch(d,c).next(p=>(De(p!==null),f=p.keys(),l.mutationQueue.removeMutationBatch(d,p))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f)).next(()=>l.localDocuments.getDocuments(d,f))})}(i.localStore,e);Ow(i,e,n),Pw(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield ga(i,r)}catch(r){yield fa(r)}})}function Pw(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function Ow(t,e,n){let i=Z(t),r=i.xa[i.currentUser.toKey()];if(r){let o=r.get(e);o&&(n?o.reject(n):o.resolve(),r=r.remove(e)),i.xa[i.currentUser.toKey()]=r}}function wp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let i of t.Da.get(e))t.ba.delete(i),n&&t.Sa.ka(i,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(i=>{t.Ma.containsKey(i)||Mw(t,i)})}function Mw(t,e){t.Ca.delete(e.path.canonicalString());let n=t.va.get(e);n!==null&&(jp(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Wp(t))}function U0(t,e,n){for(let i of n)i instanceof ru?(t.Ma.addReference(i.key,e),z1(t,i)):i instanceof ou?(q("SyncEngine","Document no longer in limbo: "+i.key),t.Ma.removeReference(i.key,e),t.Ma.containsKey(i.key)||Mw(t,i.key)):X()}function z1(t,e){let n=e.key,i=n.path.canonicalString();t.va.get(n)||t.Ca.has(i)||(q("SyncEngine","New document in limbo: "+n),t.Ca.add(i),Wp(t))}function Wp(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){let e=t.Ca.values().next().value;t.Ca.delete(e);let n=new K(Ve.fromString(e)),i=t.Na.next();t.Fa.set(i,new bp(n)),t.va=t.va.insert(n,i),Tw(t.remoteStore,new aa(an(Lp(n.path)),i,"TargetPurposeLimboResolution",W0.oe))}}function ga(t,e,n){return b(this,null,function*(){let i=Z(t),r=[],o=[],s=[];i.ba.isEmpty()||(i.ba.forEach((c,l)=>{s.push(i.Ba(l,e,n).then(d=>{if((d||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,d?.fromCache?"not-current":"current"),d){r.push(d);let f=Jm.Ki(l.targetId,d);o.push(f)}}))}),yield Promise.all(s),i.Sa.h_(r),yield function(l,d){return b(this,null,function*(){let f=Z(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>L.forEach(d,y=>L.forEach(y.qi,A=>f.persistence.referenceDelegate.addReference(p,y.targetId,A)).next(()=>L.forEach(y.Qi,A=>f.persistence.referenceDelegate.removeReference(p,y.targetId,A)))))}catch(p){if(!ma(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of d){let y=p.targetId;if(!p.fromCache){let A=f.ns.get(y),O=A.snapshotVersion,V=A.withLastLimboFreeSnapshotVersion(O);f.ns=f.ns.insert(y,V)}}})}(i.localStore,o))})}function $1(t,e){return b(this,null,function*(){let n=Z(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let i=yield Iw(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(c=>{c.forEach(l=>{l.reject(new H(N.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ga(n,i.us)}})}function q1(t,e){let n=Z(t),i=n.Fa.get(e);if(i&&i.wa)return fe().add(i.key);{let r=fe(),o=n.Da.get(e);if(!o)return r;for(let s of o){let c=n.ba.get(s);r=r.unionWith(c.view.Ea)}return r}}function Nw(t){let e=Z(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=U1.bind(null,e),e.Sa.h_=k1.bind(null,e.eventManager),e.Sa.ka=P1.bind(null,e.eventManager),e}function G1(t){let e=Z(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=j1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=B1.bind(null,e),e}var su=class{constructor(){this.synchronizeTabs=!1}initialize(e){return b(this,null,function*(){this.serializer=_u(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return u1(this.persistence,new ep,e.initialUser,this.serializer)}createPersistence(e){return new Ym(Xm.Hr,this.serializer)}createSharedClientState(e){return new ip}terminate(){return b(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var Ip=class{initialize(e,n){return b(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>L0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$1.bind(null,this.syncEngine),yield x1(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new mp}()}createDatastore(e){let n=_u(e.databaseInfo.databaseId),i=function(o){return new sp(o)}(e.databaseInfo);return function(o,s,c,l){return new lp(o,s,c,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,o,s,c){return new dp(i,r,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>L0(this.syncEngine,n,0),function(){return Jl.D()?new Jl:new rp}())}createSyncEngine(e,n){return function(r,o,s,c,l,d,f){let p=new yp(r,o,s,c,l,d);return f&&(p.La=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return b(this,null,function*(){var e;yield function(i){return b(this,null,function*(){let r=Z(i);q("RemoteStore","RemoteStore shutting down."),r.M_.add(5),yield pa(r),r.O_.shutdown(),r.N_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()})}};var Ep=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Tp=class{constructor(e,n,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Ze.UNAUTHENTICATED,this.clientId=Ll.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,o=>b(this,null,function*(){q("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(i,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Rn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>b(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let i=qp(n,"Failed to shutdown persistence");e.reject(i)}})),e.promise}};function em(t,e){return b(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(r=>b(this,null,function*(){i.isEqual(r)||(yield Iw(e.localStore,r),i=r)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function j0(t,e){return b(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield H1(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>F0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>F0(e.remoteStore,r)),t._onlineComponents=e})}function W1(t){return t.name==="FirebaseError"?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function H1(t){return b(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield em(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!W1(n))throw n;eo("Error using user provided cache. Falling back to memory cache: "+n),yield em(t,new su)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield em(t,new su);return t._offlineComponents})}function Fw(t){return b(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield j0(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield j0(t,new Ip))),t._onlineComponents})}function K1(t){return Fw(t).then(e=>e.syncEngine)}function B0(t){return b(this,null,function*(){let e=yield Fw(t),n=e.eventManager;return n.onListen=O1.bind(null,e.syncEngine),n.onUnlisten=F1.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=M1.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=V1.bind(null,e.syncEngine),n})}function Vw(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var z0=new Map;function Lw(t,e,n){if(!n)throw new H(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Y1(t,e,n,i){if(e===!0&&i===!0)throw new H(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function $0(t){if(!K.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function q0(t){if(K.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function na(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Hp(t);throw new H(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var au=class{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new H(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},fo=class{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new au({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new au(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new tm;switch(i.type){case"firstParty":return new om(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new H(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let i=z0.get(n);i&&(q("ComponentProvider","Removing Datastore"),z0.delete(n),i.terminate())}(this),Promise.resolve()}};function Uw(t,e,n,i={}){var r;let o=(t=na(t,fo))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let c,l;if(typeof i.mockUserToken=="string")c=i.mockUserToken,l=Ze.MOCK_USER;else{c=zb(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);let d=i.mockUserToken.sub||i.mockUserToken.user_id;if(!d)throw new H(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ze(d)}t._authCredentials=new nm(new Vl(c,l))}}var cu=class t{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Nt=class t{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},mi=class t extends cu{constructor(e,n,i){super(e,n,Lp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Nt(this.firestore,null,new K(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function yu(t,e,...n){if(t=lt(t),Lw("collection","path",e),t instanceof fo){let i=Ve.fromString(e,...n);return q0(i),new mi(t,null,i)}{if(!(t instanceof Nt||t instanceof mi))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ve.fromString(e,...n));return q0(i),new mi(t.firestore,null,i)}}function jw(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Ll.newId()),Lw("doc","path",e),t instanceof fo){let i=Ve.fromString(e,...n);return $0(i),new Nt(t,null,new K(i))}{if(!(t instanceof Nt||t instanceof mi))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let i=t._path.child(Ve.fromString(e,...n));return $0(i),new Nt(t.firestore,t instanceof mi?t.converter:null,new K(i))}}var Cp=class{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Zl(this,"async_queue_retry"),this.hu=()=>{let n=Zf();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};let e=Zf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;let n=Zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});let n=new Rn;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}Tu(){return b(this,null,function*(){if(this.su.length!==0){try{yield this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!ma(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}})}Iu(e){let n=this.iu.then(()=>(this.uu=!0,e().catch(i=>{this.au=i,this.uu=!1;let r=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(i);throw kn("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.uu=!1,i))));return this.iu=n,n}enqueueAfterDelay(e,n,i){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);let r=hp.createAndSchedule(this,e,n,i,o=>this.Eu(o));return this._u.push(r),r}Pu(){this.au&&X()}verifyOperationInProgress(){}du(){return b(this,null,function*(){let e;do e=this.iu,yield e;while(e!==this.iu)})}Au(e){for(let n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(let n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){let n=this._u.indexOf(e);this._u.splice(n,1)}};function G0(t){return function(n,i){if(typeof n!="object"||n===null)return!1;let r=n;for(let o of i)if(o in r&&typeof r[o]=="function")return!0;return!1}(t,["next","error","complete"])}var mo=class extends fo{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=function(){return new Cp}(),this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$w(this),this._firestoreClient.terminate()}};function Bw(t,e){let n=typeof t=="object"?t:Br(),i=typeof t=="string"?t:e||"(default)",r=Ls(n,"firestore").getImmediate({identifier:i});if(!r._initialized){let o=Bb("firestore");o&&Uw(r,...o)}return r}function zw(t){return t._firestoreClient||$w(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $w(t){var e,n,i;let r=t._freezeSettings(),o=function(c,l,d,f){return new um(c,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,Vw(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._firestoreClient=new Tp(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}var ua=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(mt.fromBase64String(e))}catch(n){throw new H(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var da=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var lu=class{constructor(e){this._methodName=e}};var ha=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var Q1=/^__.*__$/,Ap=class{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Mn(e,this.data,this.fieldMask,n,this.fieldTransforms):new er(e,this.data,n,this.fieldTransforms)}};function qw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}var Sp=class t{constructor(e,n,i,r,o,s){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.wu(e),r}Su(e){var n;let i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return uu(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(qw(this.fu)&&Q1.test(e))throw this.Du('Document fields cannot begin and end with "__"')}},xp=class{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||_u(e)}Fu(e,n,i,r=!1){return new Sp({fu:e,methodName:n,vu:i,path:Dt.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function X1(t){let e=t._freezeSettings(),n=_u(t._databaseId);return new xp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function J1(t,e,n,i,r,o={}){let s=t.Fu(o.merge||o.mergeFields?2:0,e,n,r);Kw("Data must be an object, but it was:",s,i);let c=Ww(i,s),l,d;if(o.merge)l=new on(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let p of o.mergeFields){let y=Z1(e,p,n);if(!s.contains(y))throw new H(N.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);tP(f,y)||f.push(y)}l=new on(f),d=s.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,d=s.fieldTransforms;return new Ap(new Bt(c),l,d)}function Gw(t,e){if(Hw(t=lt(t)))return Kw("Unsupported field value:",e,t),Ww(t,e);if(t instanceof lu)return function(i,r){if(!qw(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);let o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(i,r){let o=[],s=0;for(let c of i){let l=Gw(c,r.bu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(i,r){if((i=lt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Lk(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){let o=nt.fromDate(i);return{timestampValue:Yl(r.serializer,o)}}if(i instanceof nt){let o=new nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yl(r.serializer,o)}}if(i instanceof ha)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ua)return{bytesValue:pw(r.serializer,i._byteString)};if(i instanceof Nt){let o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Up(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${Hp(i)}`)}(t,e)}function Ww(t,e){let n={};return H0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(i,r)=>{let o=Gw(r,e.pu(i));o!=null&&(n[i]=o)}),{mapValue:{fields:n}}}function Hw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof nt||t instanceof ha||t instanceof ua||t instanceof Nt||t instanceof lu)}function Kw(t,e,n){if(!Hw(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){let i=Hp(n);throw i==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+i)}}function Z1(t,e,n){if((e=lt(e))instanceof da)return e._internalPath;if(typeof e=="string")return Yw(t,e);throw uu("Field path arguments must be of type string or ",t,!1,void 0,n)}var eP=new RegExp("[~\\*/\\[\\]]");function Yw(t,e,n){if(e.search(eP)>=0)throw uu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new da(...e.split("."))._internalPath}catch{throw uu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function uu(t,e,n,i,r){let o=i&&!i.isEmpty(),s=r!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new H(N.INVALID_ARGUMENT,c+t+l)}function tP(t,e){return t.some(n=>n.isEqual(e))}var du=class{constructor(e,n,i,r,o){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Dp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Qw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Dp=class extends du{data(){return super.data()}};function Qw(t,e){return typeof e=="string"?Yw(t,e):e instanceof da?e._internalPath:e._delegate._internalPath}function nP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rp=class{convertValue(e,n="none"){switch(Xi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let i={};return go(e,(r,o)=>{i[r]=this.convertValue(o,n)}),i}convertGeoPoint(e){return new ha(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":let i=Mp(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(ra(e));default:return null}}convertTimestamp(e){let n=Pn(e);return new nt(n.seconds,n.nanos)}convertDocumentKey(e,n){let i=Ve.fromString(e);De(ww(i));let r=new zl(i.get(1),i.get(3)),o=new K(i.popFirst(5));return r.isEqual(n)||kn(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function iP(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}var Hi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hu=class extends du{constructor(e,n,i,r,o,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Zr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let i=this._document.data.field(Qw("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}},Zr=class extends hu{data(e={}){return super.data(e)}},kp=class{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Hi(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Zr(this._firestore,this._userDataWriter,i.key,i,new Hi(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(c=>{let l=new Zr(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Hi(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>o||c.type!==3).map(c=>{let l=new Zr(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Hi(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),d=-1,f=-1;return c.type!==0&&(d=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),c.type!==1&&(s=s.add(c.doc),f=s.indexOf(c.doc.key)),{type:rP(c.type),doc:l,oldIndex:d,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function rP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}var fu=class extends Rp{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nt(this.firestore,null,n)}};function Kp(t,e){let n=na(t.firestore,mo),i=jw(t),r=iP(t.converter,e);return oP(n,[J1(X1(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,Ki.exists(!1))]).then(()=>i)}function Yp(t,...e){var n,i,r;t=lt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||G0(e[s])||(o=e[s],s++);let c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(G0(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(i=p.error)===null||i===void 0?void 0:i.bind(p),e[s+2]=(r=p.complete)===null||r===void 0?void 0:r.bind(p)}let l,d,f;if(t instanceof Nt)d=na(t.firestore,mo),f=Lp(t._key.path),l={next:p=>{e[s]&&e[s](sP(d,t,p))},error:e[s+1],complete:e[s+2]};else{let p=na(t,cu);d=na(p.firestore,mo),f=p._query;let y=new fu(d);l={next:A=>{e[s]&&e[s](new kp(d,y,p,A))},error:e[s+1],complete:e[s+2]},nP(t._query)}return function(y,A,O,V){let R=new Ep(V),z=new gp(A,R,O);return y.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return D1(yield B0(y),z)})),()=>{R.$a(),y.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return R1(yield B0(y),z)}))}}(zw(d),f,c,l)}function oP(t,e){return function(i,r){let o=new Rn;return i.asyncQueue.enqueueAndForget(()=>b(this,null,function*(){return L1(yield K1(i),r,o)})),o.promise}(zw(t),e)}function sP(t,e,n){let i=n.docs.get(e._key),r=new fu(t);return new hu(t,r,e._key,i,new Hi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(r){po=r})(ci),ai(new Mt("firestore",(i,{instanceIdentifier:r,options:o})=>{let s=i.getProvider("app").getImmediate(),c=new mo(new im(i.getProvider("auth-internal")),new am(i.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(d.options.projectId,f)}(s,r),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),Ye(g0,"4.6.2",e),Ye(g0,"4.6.2","esm2017")})();var wu=function(){return wu=Object.assign||function(e){for(var n,i=1,r=arguments.length;i<r;i++){n=arguments[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},wu.apply(this,arguments)};var uP={includeMetadataChanges:!1};function Xw(t,e){return e===void 0&&(e=uP),new It(function(n){var i=Yp(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:i}})}function Jw(t,e){var n;e===void 0&&(e={});var i=t.data(e);return!t.exists()||typeof i!="object"||i===null||!e.idField?i:wu(wu({},i),(n={},n[e.idField]=t.id,n))}function Zw(t){return Xw(t,{includeMetadataChanges:!0}).pipe(te(function(e){return e.docs}))}function eI(t,e){return e===void 0&&(e={}),Zw(t).pipe(te(function(n){return n.map(function(i){return Jw(i,e)})}))}var Nn=class{constructor(e){return e}},tI="firestore",Qp=class{constructor(){return Us(tI)}};var Xp=new G("angularfire2.firestore-instances");function dP(t,e){let n=cl(tI,t,e);return n&&new Nn(n)}function hP(t){return(e,n)=>{let i=e.runOutsideAngular(()=>t(n));return new Nn(i)}}var fP={provide:Qp,deps:[[new gt,Xp]]},mP={provide:Nn,useFactory:dP,deps:[[new gt,Xp],Tn]};function nI(t,...e){return Ye("angularfire",Ui.full,"fst"),Tt([mP,fP,{provide:Xp,useFactory:hP(t),multi:!0,deps:[J,ze,qr,ji,[new gt,Ks],[new gt,$r],...e]}])}var iI=Zt(eI,!0);var rI=Zt(Bw,!0);function gP(t,e){if(t&1&&(D(0,"label",16),j(1),k()),t&2){let n=ke();$(),Ue(n.errorText)}}var oI=(()=>{let e=class e{constructor(i,r){this.auth=i,this.firestore=r,this.userMail="",this.userPass="",this.errorLogin=!1,this.errorText="",this.router=M(yt),this.authService=M(nn)}logIn(){return b(this,null,function*(){this.errorLogin=!1;let i={email:this.userMail||"",password:this.userPass||""};this.authService.logIn(i).then(r=>{this.router.navigateByUrl("/")}).catch(r=>{switch(this.errorLogin=!0,r.code){case"auth/invalid-email":this.errorText="El email es invalido.";break;case"auth/missing-password":this.errorText="La contrase\xF1a es invalida.";break;case"auth/invalid-credential":this.errorText="Credenciales incorrectas.";break}})})}inicioRapido(){this.userMail="admin@gmail.com",this.userPass="admin@gmail.com",this.logIn()}};e.\u0275fac=function(r){return new(r||e)(P(xn),P(Nn))},e.\u0275cmp=ae({type:e,selectors:[["app-login"]],standalone:!0,features:[le],decls:25,vars:3,consts:[["id","divTotal",1,"background-image"],[1,"container"],[1,"row","justify-content-center","align-items-center","vh-100"],[1,"col-md-4",2,"background-color","rgb(42, 45, 70)","height","370px","width","700px"],[2,"font-weight","bold"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["id","inputLogin","type","email","placeholder","name@example.com","name","userMail",1,"form-control",3,"ngModelChange","ngModel"],[1,"mb-3",2,"padding-bottom","0px"],["id","inputLogin","type","password","name","userPass",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","align-items-center"],["routerLink","../register"],["class","form-label ms-2","style","color: red; padding-right: 10px; padding-top: 5px;",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"btn","btn-primary",2,"width","30vh",3,"click"],[1,"btn","btn-primary",2,"width","15vh","margin","15px",3,"click"],[1,"form-label","ms-2",2,"color","red","padding-right","10px","padding-top","5px"]],template:function(r,o){r&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),j(5,"Iniciar Sesi\xF3n"),k(),D(6,"form")(7,"div",5)(8,"label",6),j(9,"Email"),k(),D(10,"input",7),br("ngModelChange",function(c){return vr(o.userMail,c)||(o.userMail=c),c}),k()(),D(11,"div",8)(12,"label",6),j(13,"Contrase\xF1a"),k(),D(14,"input",9),br("ngModelChange",function(c){return vr(o.userPass,c)||(o.userPass=c),c}),k(),D(15,"div",10)(16,"a",11),j(17,"Registrarse"),k(),Ae(18,gP,2,1,"label",12),k()(),D(19,"div",13)(20,"button",14),ne("click",function(){return o.logIn()}),j(21,"LogIn"),k()(),D(22,"div",13)(23,"button",15),ne("click",function(){return o.inicioRapido()}),j(24,"Inicio R\xE1pido"),k()()()()()()()),r&2&&($(10),_r("ngModel",o.userMail),$(4),_r("ngModel",o.userPass),$(4),de("ngIf",o.errorLogin==!0))},dependencies:[ti,Pe,ct,Lr,Vr,ri,Nr,Fr,Os,Ps],styles:['#divTotal[_ngcontent-%COMP%]{background-color:#0e101a;height:100vh;color:#fff}#inputLogin[_ngcontent-%COMP%]{background-color:#717171;border-color:#717171;color:#fff;font-family:Gill Sans,sans-serif}.background-image[_ngcontent-%COMP%]{position:relative;z-index:0}.background-image[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(https://i.blogs.es/4d650a/gogga/1366_2000.jpeg);background-size:cover;background-position:center;opacity:.3;z-index:-1}']});let t=e;return t})();function _P(t,e){if(t&1&&(D(0,"label",14),j(1),k()),t&2){let n=ke();$(),Ue(n.errorText)}}var sI=(()=>{let e=class e{constructor(){this.userMail="",this.userPass="",this.authService=M(nn),this.router=M(yt),this.errorRegister=!1,this.errorText=""}register(){this.errorRegister=!1;let i={email:this.userMail||"",password:this.userPass||""};this.authService.register(i).then(r=>{this.router.navigateByUrl("/")}).catch(r=>{switch(this.errorRegister=!0,console.log(r.code),r.code){case"auth/invalid-email":this.errorText="El email es invalido.";break;case"auth/missing-password":this.errorText="Se requiere contrase\xF1a.";break;case"auth/weak-password":this.errorText="Contrase\xF1a debil.";break;case"auth/email-already-in-use":this.errorText="El email esta en uso.";break}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-register-auth"]],standalone:!0,features:[le],decls:22,vars:3,consts:[["id","divTotal",1,"background-image"],[1,"container"],[1,"row","justify-content-center","align-items-center","vh-100"],[1,"col-md-4",2,"background-color","rgb(42, 45, 70)","height","33vh","width","60vh"],[2,"font-weight","bold"],[1,"mb-3"],["for","exampleFormControlInput1",1,"form-label"],["id","inputLogin","type","email","placeholder","name@example.com","name","userMail",1,"form-control",3,"ngModelChange","ngModel"],["id","inputLogin","type","password","name","userPass",1,"form-control",3,"ngModelChange","ngModel"],[1,"d-flex","justify-content-between","align-items-center"],["routerLink","../login",2,"padding-top","5px"],["class","","style","color: red; padding-right: 10px; padding-top: 5px;",4,"ngIf"],[1,"d-flex","justify-content-center"],[1,"btn","btn-primary",2,"width","30vh",3,"click"],[1,"",2,"color","red","padding-right","10px","padding-top","5px"]],template:function(r,o){r&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),j(5,"Registrarse"),k(),D(6,"form")(7,"div",5)(8,"label",6),j(9,"Email"),k(),D(10,"input",7),br("ngModelChange",function(c){return vr(o.userMail,c)||(o.userMail=c),c}),k()(),D(11,"div",5)(12,"label",6),j(13,"Contrase\xF1a"),k(),D(14,"input",8),br("ngModelChange",function(c){return vr(o.userPass,c)||(o.userPass=c),c}),k(),D(15,"div",9)(16,"a",10),j(17,"Ya esta registrado?"),k(),Ae(18,_P,2,1,"label",11),k()(),D(19,"div",12)(20,"button",13),ne("click",function(){return o.register()}),j(21,"Registrarse"),k()()()()()()()),r&2&&($(10),_r("ngModel",o.userMail),$(4),_r("ngModel",o.userPass),$(4),de("ngIf",o.errorRegister==!0))},dependencies:[Lr,Vr,ri,Nr,Fr,Os,Ps,Pe,ct,ti],styles:['#divTotal[_ngcontent-%COMP%]{background-color:#0e101a;height:100vh;color:#fff}#inputLogin[_ngcontent-%COMP%]{background-color:#717171;border-color:#717171;color:#fff;font-family:Gill Sans,sans-serif}.background-image[_ngcontent-%COMP%]{position:relative;z-index:0}.background-image[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(https://i.blogs.es/4d650a/gogga/1366_2000.jpeg);background-size:cover;background-position:center;opacity:.3;z-index:-1}a[_ngcontent-%COMP%]{color:rgba(var(--bs-link-color-rgb),var(--bs-link-opacity, 1));text-decoration:underline}']});let t=e;return t})();function _a(t,e=0){return vP(t)?Number(t):e}function vP(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function vo(t){return Array.isArray(t)?t:[t]}function je(t){return t==null?"":typeof t=="string"?t:`${t}px`}function Fn(t){return t instanceof Ee?t.nativeElement:t}var Zp;try{Zp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Zp=!1}var Oe=(()=>{let e=class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?rv(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Zp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(r){return new(r||e)(x(Lt))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var va;function bP(){if(va==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>va=!0}))}finally{va=va||!1}return va}function bo(t){return bP()?t:!!t.capture}var nr;function aI(){if(nr==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return nr=!1,nr;if("scrollBehavior"in document.documentElement.style)nr=!0;else{let t=Element.prototype.scrollTo;t?nr=!/\{\s*\[native code\]\s*\}/.test(t.toString()):nr=!1}}return nr}var Jp;function yP(){if(Jp==null){let t=typeof document<"u"?document.head:null;Jp=!!(t&&(t.createShadowRoot||t.attachShadow))}return Jp}function cI(t){if(yP()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function ba(){let t=typeof document<"u"&&document?document.activeElement:null;for(;t&&t.shadowRoot;){let e=t.shadowRoot.activeElement;if(e===t)break;t=e}return t}function $t(t){return t.composedPath?t.composedPath()[0]:t.target}function ya(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var wP=new G("cdk-dir-doc",{providedIn:"root",factory:IP});function IP(){return M(ie)}var EP=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function TP(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?EP.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var wa=(()=>{let e=class e{constructor(i){if(this.value="ltr",this.change=new Ne,i){let r=i.body?i.body.dir:null,o=i.documentElement?i.documentElement.dir:null;this.value=TP(r||o||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(r){return new(r||e)(x(wP,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var vi=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({});let t=e;return t})();var AP=20,uI=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this._platform=r,this._scrolled=new be,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){let r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=AP){return this._platform.isBrowser?new It(r=>{this._globalSubscription||this._addGlobalListener();let o=i>0?this._scrolled.pipe(ud(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):W()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){let o=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(He(s=>!s||o.indexOf(s)>-1))}getAncestorScrollContainers(i){let r=[];return this.scrollContainers.forEach((o,s)=>{this._scrollableContainsElement(s,i)&&r.push(s)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let o=Fn(r),s=i.getElementRef().nativeElement;do if(o==s)return!0;while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let i=this._getWindow();return M_(i.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(r){return new(r||e)(x(J),x(Oe),x(ie,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var SP=20,eg=(()=>{let e=class e{constructor(i,r,o){this._platform=i,this._change=new be,this._changeListener=s=>{this._change.next(s)},this._document=o,r.runOutsideAngular(()=>{if(i.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){let i=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+o,right:i.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let i=this._document,r=this._getWindow(),o=i.documentElement,s=o.getBoundingClientRect(),c=-s.top||i.body.scrollTop||r.scrollY||o.scrollTop||0,l=-s.left||i.body.scrollLeft||r.scrollX||o.scrollLeft||0;return{top:c,left:l}}change(i=SP){return i>0?this._change.pipe(ud(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(r){return new(r||e)(x(Oe),x(J),x(ie,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var lI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({});let t=e;return t})(),tg=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({imports:[vi,lI,vi,lI]});let t=e;return t})();var Ia=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},wo=class extends Ia{constructor(e,n,i,r,o){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}},Io=class extends Ia{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}},ng=class extends Ia{constructor(e){super(),this.element=e instanceof Ee?e.nativeElement:e}},Eo=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof wo)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Io)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof ng)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Iu=class extends Eo{constructor(e,n,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}attachComponentPortal(e){let i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||ze.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);r!==-1&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Ea=(()=>{let e=class e extends Eo{constructor(i,r,o){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new Ne,this.attachDomPortal=s=>{this._document;let c=s.element;c.parentNode;let l=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(l,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=o}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);let r=i.viewContainerRef!=null?i.viewContainerRef:this._viewContainerRef,s=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),c=r.createComponent(s,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=i,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(i){i.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){let i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}};e.\u0275fac=function(r){return new(r||e)(P(Ja),P(pr),P(ie))},e.\u0275dir=ye({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[se.None,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[$e]});let t=e;return t})();var ir=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({});let t=e;return t})();function Eu(t,...e){return e.length?e.some(n=>t[n]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var dI=aI(),ig=class{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=je(-this._previousScrollPosition.left),e.style.top=je(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,n=this._document.body,i=e.style,r=n.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),dI&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dI&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}};var rg=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(He(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Tu=class{enable(){}disable(){}attach(){}};function og(t,e){return e.some(n=>{let i=t.bottom<n.top,r=t.top>n.bottom,o=t.right<n.left,s=t.left>n.right;return i||r||o||s})}function hI(t,e){return e.some(n=>{let i=t.top<n.top,r=t.bottom>n.bottom,o=t.left<n.left,s=t.right>n.right;return i||r||o||s})}var sg=class{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();og(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},DP=(()=>{let e=class e{constructor(i,r,o,s){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new Tu,this.close=c=>new rg(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new ig(this._viewportRuler,this._document),this.reposition=c=>new sg(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}};e.\u0275fac=function(r){return new(r||e)(x(uI),x(eg),x(J),x(ie))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ta=class{constructor(e){if(this.scrollStrategy=new Tu,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let n=Object.keys(e);for(let i of n)e[i]!==void 0&&(this[i]=e[i])}}};var ag=class{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}};var _I=(()=>{let e=class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){let r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(r){return new(r||e)(x(ie))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),RP=(()=>{let e=class e extends _I{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=o=>{let s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){let l=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(o)):l.next(o);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(r){return new(r||e)(x(ie),x(J,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kP=(()=>{let e=class e extends _I{constructor(i,r,o){super(i),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=$t(s)},this._clickListener=s=>{let c=$t(s),l=s.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let d=this._attachedOverlays.slice();for(let f=d.length-1;f>-1;f--){let p=d[f];if(p._outsidePointerEvents.observers.length<1||!p.hasAttached())continue;if(p.overlayElement.contains(c)||p.overlayElement.contains(l))break;let y=p._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>y.next(s)):y.next(s)}}}add(i){if(super.add(i),!this._isAttached){let r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(r){return new(r||e)(x(ie),x(Oe),x(J,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),To=(()=>{let e=class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let i="cdk-overlay-container";if(this._platform.isBrowser||ya()){let o=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let s=0;s<o.length;s++)o[s].remove()}let r=this._document.createElement("div");r.classList.add(i),ya()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}};e.\u0275fac=function(r){return new(r||e)(x(ie),x(Oe))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vn=class{constructor(e,n,i,r,o,s,c,l,d,f=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=c,this._location=l,this._outsideClickDispatcher=d,this._animationsDisabled=f,this._backdropElement=null,this._backdropClick=new be,this._attachments=new be,this._detachments=new be,this._locationChanges=Ei.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new be,this._outsidePointerEvents=new be,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(at(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=F(F({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ce(F({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=je(this._config.width),e.height=je(this._config.height),e.minWidth=je(this._config.minWidth),e.minHeight=je(this._config.minHeight),e.maxWidth=je(this._config.maxWidth),e.maxHeight=je(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){let r=vo(n||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{let e=this._ngZone.onStable.pipe(_n(Ka(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},fI="cdk-overlay-connected-position-bounding-box",PP=/([A-Za-z%]+)$/,cg=class{get positions(){return this._preferredPositions}constructor(e,n,i,r,o){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new be,this._resizeSubscription=Ei.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(fI),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[],s;for(let c of this._preferredPositions){let l=this._getOriginPoint(e,r,c),d=this._getOverlayPoint(l,n,c),f=this._getOverlayFit(d,n,i,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(f,d,i)){o.push({position:c,origin:l,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!s||s.overlayFit.visibleArea<f.visibleArea)&&(s={overlayFit:f,overlayPoint:d,originPoint:l,position:c,overlayRect:n})}if(o.length){let c=null,l=-1;for(let d of o){let f=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);f>l&&(l=f,c=d)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&rr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(fI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r;if(i.originX=="center")r=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;r=i.originX=="start"?s:c}n.left<0&&(r-=n.left);let o;return i.originY=="center"?o=e.top+e.height/2:o=i.originY=="top"?e.top:e.bottom,n.top<0&&(o-=n.top),{x:r,y:o}}_getOverlayPoint(e,n,i){let r;i.overlayX=="center"?r=-n.width/2:i.overlayX==="start"?r=this._isRtl()?-n.width:0:r=this._isRtl()?0:-n.width;let o;return i.overlayY=="center"?o=-n.height/2:o=i.overlayY=="top"?0:-n.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,n,i,r){let o=pI(n),{x:s,y:c}=e,l=this._getOffset(r,"x"),d=this._getOffset(r,"y");l&&(s+=l),d&&(c+=d);let f=0-s,p=s+o.width-i.width,y=0-c,A=c+o.height-i.height,O=this._subtractOverflows(o.width,f,p),V=this._subtractOverflows(o.height,y,A),R=O*V;return{visibleArea:R,isCompletelyWithinViewport:o.width*o.height===R,fitsInViewportVertically:V===o.height,fitsInViewportHorizontally:O==o.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){let r=i.bottom-n.y,o=i.right-n.x,s=mI(this._overlayRef.getConfig().minHeight),c=mI(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||s!=null&&s<=r,d=e.fitsInViewportHorizontally||c!=null&&c<=o;return l&&d}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let r=pI(n),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),c=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),d=Math.max(o.left-i.left-e.x,0),f=0,p=0;return r.width<=o.width?f=d||-s:f=e.x<this._viewportMargin?o.left-i.left-e.x:0,r.height<=o.height?p=l||-c:p=e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:f,y:p},{x:e.x+f,y:e.y+p}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!OP(this._lastScrollVisibility,i)){let r=new ag(e,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,r=e.overlayY;e.overlayX==="center"?i="center":this._isRtl()?i=e.overlayX==="start"?"right":"left":i=e.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){let i=this._viewportRect,r=this._isRtl(),o,s,c;if(n.overlayY==="top")s=e.y,o=i.height-s+this._viewportMargin;else if(n.overlayY==="bottom")c=i.height-e.y+this._viewportMargin*2,o=i.height-c+this._viewportMargin;else{let A=Math.min(i.bottom-e.y+i.top,e.y),O=this._lastBoundingBoxSize.height;o=A*2,s=e.y-A,o>O&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-O/2)}let l=n.overlayX==="start"&&!r||n.overlayX==="end"&&r,d=n.overlayX==="end"&&!r||n.overlayX==="start"&&r,f,p,y;if(d)y=i.width-e.x+this._viewportMargin*2,f=e.x-this._viewportMargin;else if(l)p=e.x,f=i.right-e.x;else{let A=Math.min(i.right-e.x+i.left,e.x),O=this._lastBoundingBoxSize.width;f=A*2,p=e.x-A,f>O&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-O/2)}return{top:s,left:p,bottom:c,right:y,width:f,height:o}}_setBoundingBoxStyles(e,n){let i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=je(i.height),r.top=je(i.top),r.bottom=je(i.bottom),r.width=je(i.width),r.left=je(i.left),r.right=je(i.right),n.overlayX==="center"?r.alignItems="center":r.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?r.justifyContent="center":r.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(r.maxHeight=je(o)),s&&(r.maxWidth=je(s))}this._lastBoundingBoxSize=i,rr(this._boundingBox.style,r)}_resetBoundingBoxStyles(){rr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){rr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){let i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){let f=this._viewportRuler.getViewportScrollPosition();rr(i,this._getExactOverlayY(n,e,f)),rr(i,this._getExactOverlayX(n,e,f))}else i.position="static";let c="",l=this._getOffset(n,"x"),d=this._getOffset(n,"y");l&&(c+=`translateX(${l}px) `),d&&(c+=`translateY(${d}px)`),i.transform=c.trim(),s.maxHeight&&(r?i.maxHeight=je(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=je(s.maxWidth):o&&(i.maxWidth="")),rr(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;r.bottom=`${s-(o.y+this._overlayRect.height)}px`}else r.top=je(o.y);return r}_getExactOverlayX(e,n,i){let r={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let c=this._document.documentElement.clientWidth;r.right=`${c-(o.x+this._overlayRect.width)}px`}else r.left=je(o.x);return r}_getScrollVisibility(){let e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hI(e,i),isOriginOutsideView:og(e,i),isOverlayClipped:hI(n,i),isOverlayOutsideView:og(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return n==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&vo(e).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ee)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}};function rr(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function mI(t){if(typeof t!="number"&&t!=null){let[e,n]=t.split(PP);return!n||n==="px"?parseFloat(e):null}return t||null}function pI(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}function OP(t,e){return t===e?!0:t.isOriginClipped===e.isOriginClipped&&t.isOriginOutsideView===e.isOriginOutsideView&&t.isOverlayClipped===e.isOverlayClipped&&t.isOverlayOutsideView===e.isOverlayOutsideView}var gI="cdk-global-overlay-wrapper",lg=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(gI),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:c}=i,l=(r==="100%"||r==="100vw")&&(!s||s==="100%"||s==="100vw"),d=(o==="100%"||o==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,p=this._xOffset,y=this._overlayRef.getConfig().direction==="rtl",A="",O="",V="";l?V="flex-start":f==="center"?(V="center",y?O=p:A=p):y?f==="left"||f==="end"?(V="flex-end",A=p):(f==="right"||f==="start")&&(V="flex-start",O=p):f==="left"||f==="start"?(V="flex-start",A=p):(f==="right"||f==="end")&&(V="flex-end",O=p),e.position=this._cssPosition,e.marginLeft=l?"0":A,e.marginTop=d?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":O,n.justifyContent=V,n.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(gI),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},MP=(()=>{let e=class e{constructor(i,r,o,s){this._viewportRuler=i,this._document=r,this._platform=o,this._overlayContainer=s}global(){return new lg}flexibleConnectedTo(i){return new cg(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(r){return new(r||e)(x(eg),x(ie),x(Oe),x(To))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NP=0,qt=(()=>{let e=class e{constructor(i,r,o,s,c,l,d,f,p,y,A,O){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=l,this._ngZone=d,this._document=f,this._directionality=p,this._location=y,this._outsideClickDispatcher=A,this._animationsModuleType=O}create(i){let r=this._createHostElement(),o=this._createPaneElement(r),s=this._createPortalOutlet(o),c=new Ta(i);return c.direction=c.direction||this._directionality.value,new Vn(s,r,o,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations")}position(){return this._positionBuilder}_createPaneElement(i){let r=this._document.createElement("div");return r.id=`cdk-overlay-${NP++}`,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){let i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(wr)),new Iu(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(r){return new(r||e)(x(DP),x(To),x(Ja),x(MP),x(RP),x(ze),x(J),x(ie),x(wa),x(Xn),x(kP),x(_t,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FP=new G("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let t=M(qt);return()=>t.scrollStrategies.reposition()}});function VP(t){return()=>t.scrollStrategies.reposition()}var LP={provide:FP,deps:[qt],useFactory:VP},Cu=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({providers:[qt,LP],imports:[vi,ir,tg,tg]});let t=e;return t})();var UP=(()=>{let e=class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({providers:[UP]});let t=e;return t})();var yI=new Set,or,jP=(()=>{let e=class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):zP}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&BP(i,this._nonce),this._matchMedia(i)}};e.\u0275fac=function(r){return new(r||e)(x(Oe),x(Jo,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BP(t,e){if(!yI.has(t))try{or||(or=document.createElement("style"),e&&or.setAttribute("nonce",e),or.setAttribute("type","text/css"),document.head.appendChild(or)),or.sheet&&(or.sheet.insertRule(`@media ${t} {body{ }}`,0),yI.add(t))}catch(n){console.error(n)}}function zP(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var II=(()=>{let e=class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new be}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return wI(vo(i)).some(o=>this._registerQuery(o).mql.matches)}observe(i){let o=wI(vo(i)).map(c=>this._registerQuery(c).observable),s=Qo(o);return s=Ha(s.pipe(at(1)),s.pipe(Qa(1),dd(0))),s.pipe(te(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:d,query:f})=>{l.matches=l.matches||d,l.breakpoints[f]=d}),l}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let r=this._mediaMatcher.matchMedia(i),s={observable:new It(c=>{let l=d=>this._zone.run(()=>c.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(Gt(r),te(({matches:c})=>({query:i,matches:c})),_n(this._destroySubject)),mql:r};return this._queries.set(i,s),s}};e.\u0275fac=function(r){return new(r||e)(x(jP),x(J))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wI(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}var Ca=(()=>{let e=class e{constructor(i){this._platform=i}isDisabled(i){return i.hasAttribute("disabled")}isVisible(i){return qP(i)&&getComputedStyle(i).visibility==="visible"}isTabbable(i){if(!this._platform.isBrowser)return!1;let r=$P(JP(i));if(r&&(EI(r)===-1||!this.isVisible(r)))return!1;let o=i.nodeName.toLowerCase(),s=EI(i);return i.hasAttribute("contenteditable")?s!==-1:o==="iframe"||o==="object"||this._platform.WEBKIT&&this._platform.IOS&&!QP(i)?!1:o==="audio"?i.hasAttribute("controls")?s!==-1:!1:o==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||i.hasAttribute("controls"):i.tabIndex>=0}isFocusable(i,r){return XP(i)&&!this.isDisabled(i)&&(r?.ignoreVisibility||this.isVisible(i))}};e.\u0275fac=function(r){return new(r||e)(x(Oe))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $P(t){try{return t.frameElement}catch{return null}}function qP(t){return!!(t.offsetWidth||t.offsetHeight||typeof t.getClientRects=="function"&&t.getClientRects().length)}function GP(t){let e=t.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function WP(t){return KP(t)&&t.type=="hidden"}function HP(t){return YP(t)&&t.hasAttribute("href")}function KP(t){return t.nodeName.toLowerCase()=="input"}function YP(t){return t.nodeName.toLowerCase()=="a"}function AI(t){if(!t.hasAttribute("tabindex")||t.tabIndex===void 0)return!1;let e=t.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function EI(t){if(!AI(t))return null;let e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function QP(t){let e=t.nodeName.toLowerCase(),n=e==="input"&&t.type;return n==="text"||n==="password"||e==="select"||e==="textarea"}function XP(t){return WP(t)?!1:GP(t)||HP(t)||t.hasAttribute("contenteditable")||AI(t)}function JP(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}var dg=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,n,i,r,o=!1){this._element=e,this._checker=n,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){let e=this._startAnchor,n=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let n=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let i=this._getFirstTabbableElement(n);return i?.focus(e),!!i}return n.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let n=this._getRegionBoundary("start");return n&&n.focus(e),!!n}focusLastTabbableElement(e){let n=this._getRegionBoundary("end");return n&&n.focus(e),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=0;i<n.length;i++){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let n=e.children;for(let i=n.length-1;i>=0;i--){let r=n[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[i]):null;if(r)return r}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,n){e?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(at(1)).subscribe(e)}},xu=(()=>{let e=class e{constructor(i,r,o){this._checker=i,this._ngZone=r,this._document=o}create(i,r=!1){return new dg(i,this._checker,this._ngZone,this._document,r)}};e.\u0275fac=function(r){return new(r||e)(x(Ca),x(J),x(ie))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hg(t){return t.buttons===0||t.detail===0}function fg(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var ZP=new G("cdk-input-modality-detector-options"),eO={ignoreKeys:[18,17,224,91,16]},SI=650,Co=bo({passive:!0,capture:!0}),tO=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(i,r,o,s){this._platform=i,this._mostRecentTarget=null,this._modality=new pt(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=$t(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<SI||(this._modality.next(hg(c)?"keyboard":"mouse"),this._mostRecentTarget=$t(c))},this._onTouchstart=c=>{if(fg(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=$t(c)},this._options=F(F({},eO),s),this.modalityDetected=this._modality.pipe(Qa(1)),this.modalityChanged=this.modalityDetected.pipe(Ya()),i.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,Co),o.addEventListener("mousedown",this._onMousedown,Co),o.addEventListener("touchstart",this._onTouchstart,Co)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Co),document.removeEventListener("mousedown",this._onMousedown,Co),document.removeEventListener("touchstart",this._onTouchstart,Co))}};e.\u0275fac=function(r){return new(r||e)(x(Oe),x(J),x(ie),x(ZP,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Su=function(t){return t[t.IMMEDIATE=0]="IMMEDIATE",t[t.EVENTUAL=1]="EVENTUAL",t}(Su||{}),nO=new G("cdk-focus-monitor-default-options"),Au=bo({passive:!0,capture:!0}),Ao=(()=>{let e=class e{constructor(i,r,o,s,c){this._ngZone=i,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new be,this._rootNodeFocusAndBlurListener=l=>{let d=$t(l);for(let f=d;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=s,this._detectionMode=c?.detectionMode||Su.IMMEDIATE}monitor(i,r=!1){let o=Fn(i);if(!this._platform.isBrowser||o.nodeType!==1)return W();let s=cI(o)||this._getDocument(),c=this._elementInfo.get(o);if(c)return r&&(c.checkChildren=!0),c.subject;let l={checkChildren:r,subject:new be,rootNode:s};return this._elementInfo.set(o,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(i){let r=Fn(i),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(i,r,o){let s=Fn(i),c=this._getDocument().activeElement;s===c?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),typeof s.focus=="function"&&s.focus(o))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return this._detectionMode===Su.EVENTUAL||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused",r==="touch"),i.classList.toggle("cdk-keyboard-focused",r==="keyboard"),i.classList.toggle("cdk-mouse-focused",r==="mouse"),i.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=i,this._originFromTouchInteraction=i==="touch"&&r,this._detectionMode===Su.IMMEDIATE){clearTimeout(this._originTimeoutId);let o=this._originFromTouchInteraction?SI:1;this._originTimeoutId=setTimeout(()=>this._origin=null,o)}})}_onFocus(i,r){let o=this._elementInfo.get(r),s=$t(i);!o||!o.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),o)}_onBlur(i,r){let o=this._elementInfo.get(r);!o||o.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;let r=i.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Au),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Au)}),this._rootNodeFocusListenerCount.set(r,o+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_n(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(i){let r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Au),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Au),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,o){this._setClasses(i,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){let r=[];return this._elementInfo.forEach((o,s)=>{(s===i||o.checkChildren&&s.contains(i))&&r.push([s,o])}),r}_isLastInteractionFromInputLabel(i){let{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if(o!=="mouse"||!r||r===i||i.nodeName!=="INPUT"&&i.nodeName!=="TEXTAREA"||i.disabled)return!1;let s=i.labels;if(s){for(let c=0;c<s.length;c++)if(s[c].contains(r))return!0}return!1}};e.\u0275fac=function(r){return new(r||e)(x(J),x(Oe),x(tO),x(ie,8),x(nO,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sr=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(sr||{}),TI="cdk-high-contrast-black-on-white",CI="cdk-high-contrast-white-on-black",ug="cdk-high-contrast-active",mg=(()=>{let e=class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=M(II).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return sr.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(i):null,s=(o&&o.backgroundColor||"").replace(/ /g,"");switch(i.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return sr.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return sr.BLACK_ON_WHITE}return sr.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(ug,TI,CI),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===sr.BLACK_ON_WHITE?i.add(ug,TI):r===sr.WHITE_ON_BLACK&&i.add(ug,CI)}}};e.\u0275fac=function(r){return new(r||e)(x(Oe),x(ie))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xI=(()=>{let e=class e{constructor(i){i._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(r){return new(r||e)(x(mg))},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({imports:[bI]});let t=e;return t})();function iO(t,e){}var ar=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}};var vg=(()=>{let e=class e extends Eo{constructor(i,r,o,s,c,l,d,f){super(),this._elementRef=i,this._focusTrapFactory=r,this._config=s,this._interactivityChecker=c,this._ngZone=l,this._overlayRef=d,this._focusMonitor=f,this._platform=M(Oe),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=M(Yt),this.attachDomPortal=p=>{this._portalOutlet.hasAttached();let y=this._portalOutlet.attachDomPortal(p);return this._contentAttached(),y},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(i){this._ariaLabelledByQueue.push(i),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(i){let r=this._ariaLabelledByQueue.indexOf(i);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(i);return this._contentAttached(),r}attachTemplatePortal(i){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(i);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(i,r){this._interactivityChecker.isFocusable(i)||(i.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{i.removeEventListener("blur",o),i.removeEventListener("mousedown",o),i.removeAttribute("tabindex")};i.addEventListener("blur",o),i.addEventListener("mousedown",o)})),i.focus(r)}_focusByCssSelector(i,r){let o=this._elementRef.nativeElement.querySelector(i);o&&this._forceFocus(o,r)}_trapFocus(){let i=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||i.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElementWhenReady().then(r=>{r||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus);break}}_restoreFocus(){let i=this._config.restoreFocus,r=null;if(typeof i=="string"?r=this._document.querySelector(i):typeof i=="boolean"?r=i?this._elementFocusedBeforeDialogWasOpened:null:i&&(r=i),this._config.restoreFocus&&r&&typeof r.focus=="function"){let o=ba(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){let i=this._elementRef.nativeElement,r=ba();return i===r||i.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ba()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}};e.\u0275fac=function(r){return new(r||e)(P(Ee),P(xu),P(ie,8),P(ar),P(Ca),P(J),P(Vn),P(Ao))},e.\u0275cmp=ae({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(r&1&&Qn(Ea,7),r&2){let s;Wt(s=Ht())&&(o._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){r&2&&Je("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[$e,le],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){r&1&&Ae(0,iO,0,0,"ng-template",0)},dependencies:[Ea],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2});let t=e;return t})(),Aa=class{constructor(e,n){this.overlayRef=e,this.config=n,this.closed=new be,this.disableClose=n.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(i=>{i.keyCode===27&&!this.disableClose&&!Eu(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=e.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(e,n){if(this.containerInstance){let i=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",n=""){return this.overlayRef.updateSize({width:e,height:n}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}},rO=new G("DialogScrollStrategy",{providedIn:"root",factory:()=>{let t=M(qt);return()=>t.scrollStrategies.block()}}),oO=new G("DialogData"),sO=new G("DefaultDialogConfig");var aO=0,bg=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(i,r,o,s,c,l){this._overlay=i,this._injector=r,this._defaultOptions=o,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new be,this._afterOpenedAtThisLevel=new be,this._ariaHiddenElements=new Map,this.afterAllClosed=Ti(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gt(void 0))),this._scrollStrategy=l}open(i,r){let o=this._defaultOptions||new ar;r=F(F({},o),r),r.id=r.id||`cdk-dialog-${aO++}`,r.id&&this.getDialogById(r.id);let s=this._getOverlayConfig(r),c=this._overlay.create(s),l=new Aa(c,r),d=this._attachContainer(c,l,r);return l.containerInstance=d,this._attachDialogContent(i,l,d,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(l),l.closed.subscribe(()=>this._removeOpenDialog(l,!0)),this.afterOpened.next(l),l}closeAll(){gg(this.openDialogs,i=>i.close())}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){gg(this._openDialogsAtThisLevel,i=>{i.config.closeOnDestroy===!1&&this._removeOpenDialog(i,!1)}),gg(this._openDialogsAtThisLevel,i=>i.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(i){let r=new Ta({positionStrategy:i.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:i.scrollStrategy||this._scrollStrategy(),panelClass:i.panelClass,hasBackdrop:i.hasBackdrop,direction:i.direction,minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,width:i.width,height:i.height,disposeOnNavigation:i.closeOnNavigation});return i.backdropClass&&(r.backdropClass=i.backdropClass),r}_attachContainer(i,r,o){let s=o.injector||o.viewContainerRef?.injector,c=[{provide:ar,useValue:o},{provide:Aa,useValue:r},{provide:Vn,useValue:i}],l;o.container?typeof o.container=="function"?l=o.container:(l=o.container.type,c.push(...o.container.providers(o))):l=vg;let d=new wo(l,o.viewContainerRef,ze.create({parent:s||this._injector,providers:c}),o.componentFactoryResolver);return i.attach(d).instance}_attachDialogContent(i,r,o,s){if(i instanceof ts){let c=this._createInjector(s,r,o,void 0),l={$implicit:s.data,dialogRef:r};s.templateContext&&(l=F(F({},l),typeof s.templateContext=="function"?s.templateContext():s.templateContext)),o.attachTemplatePortal(new Io(i,null,l,c))}else{let c=this._createInjector(s,r,o,this._injector),l=o.attachComponentPortal(new wo(i,s.viewContainerRef,c,s.componentFactoryResolver));r.componentRef=l,r.componentInstance=l.instance}}_createInjector(i,r,o,s){let c=i.injector||i.viewContainerRef?.injector,l=[{provide:oO,useValue:i.data},{provide:Aa,useValue:r}];return i.providers&&(typeof i.providers=="function"?l.push(...i.providers(r,i,o)):l.push(...i.providers)),i.direction&&(!c||!c.get(wa,null,{optional:!0}))&&l.push({provide:wa,useValue:{value:i.direction,change:W()}}),ze.create({parent:c||s,providers:l})}_removeOpenDialog(i,r){let o=this.openDialogs.indexOf(i);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){let i=this._overlayContainer.getContainerElement();if(i.parentElement){let r=i.parentElement.children;for(let o=r.length-1;o>-1;o--){let s=r[o];s!==i&&s.nodeName!=="SCRIPT"&&s.nodeName!=="STYLE"&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}};e.\u0275fac=function(r){return new(r||e)(x(qt),x(ze),x(sO,8),x(e,12),x(To),x(rO))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gg(t,e){let n=t.length;for(;n--;)e(t[n])}var DI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({providers:[bg],imports:[Cu,ir,xI,ir]});let t=e;return t})();function cO(){return!0}var lO=new G("mat-sanity-checks",{providedIn:"root",factory:cO}),dn=(()=>{let e=class e{constructor(i,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return ya()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}};e.\u0275fac=function(r){return new(r||e)(x(mg),x(lO,8),x(ie))},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({imports:[vi,vi]});let t=e;return t})();var Ft=function(t){return t[t.FADING_IN=0]="FADING_IN",t[t.VISIBLE=1]="VISIBLE",t[t.FADING_OUT=2]="FADING_OUT",t[t.HIDDEN=3]="HIDDEN",t}(Ft||{}),Ig=class{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Ft.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},RI=bo({passive:!0,capture:!0}),Eg=class{constructor(){this._events=new Map,this._delegateEventHandler=e=>{let n=$t(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,n,i,r){let o=this._events.get(n);if(o){let s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,RI)})}removeHandler(e,n,i){let r=this._events.get(e);if(!r)return;let o=r.get(n);o&&(o.delete(i),o.size===0&&r.delete(n),r.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,RI)))}},kI={enterDuration:225,exitDuration:150},uO=800,PI=bo({passive:!0,capture:!0}),OI=["mousedown","touchstart"],MI=["mouseup","mouseleave","touchend","touchcancel"],Sa=class Sa{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Fn(i))}fadeInRipple(e,n,i={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=F(F({},kI),i.animation);i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);let s=i.radius||dO(e,n,r),c=e-r.left,l=n-r.top,d=o.enterDuration,f=document.createElement("div");f.classList.add("mat-ripple-element"),f.style.left=`${c-s}px`,f.style.top=`${l-s}px`,f.style.height=`${s*2}px`,f.style.width=`${s*2}px`,i.color!=null&&(f.style.backgroundColor=i.color),f.style.transitionDuration=`${d}ms`,this._containerElement.appendChild(f);let p=window.getComputedStyle(f),y=p.transitionProperty,A=p.transitionDuration,O=y==="none"||A==="0s"||A==="0s, 0s"||r.width===0&&r.height===0,V=new Ig(this,f,i,O);f.style.transform="scale3d(1, 1, 1)",V.state=Ft.FADING_IN,i.persistent||(this._mostRecentTransientRipple=V);let R=null;return!O&&(d||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let z=()=>this._finishRippleTransition(V),Y=()=>this._destroyRipple(V);f.addEventListener("transitionend",z),f.addEventListener("transitioncancel",Y),R={onTransitionEnd:z,onTransitionCancel:Y}}),this._activeRipples.set(V,R),(O||!d)&&this._finishRippleTransition(V),V}fadeOutRipple(e){if(e.state===Ft.FADING_OUT||e.state===Ft.HIDDEN)return;let n=e.element,i=F(F({},kI),e.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=Ft.FADING_OUT,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let n=Fn(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,OI.forEach(i=>{Sa._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{MI.forEach(n=>{this._triggerElement.addEventListener(n,this,PI)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===Ft.FADING_IN?this._startFadeOutTransition(e):e.state===Ft.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=Ft.VISIBLE,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=Ft.HIDDEN,n!==null&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){let n=hg(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+uO;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!fg(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let n=e.state===Ft.VISIBLE||e.config.terminateOnPointerUp&&e.state===Ft.FADING_IN;!e.config.persistent&&n&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(OI.forEach(n=>Sa._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&(MI.forEach(n=>e.removeEventListener(n,this,PI)),this._pointerUpEventsRegistered=!1))}};Sa._eventManager=new Eg;var Tg=Sa;function dO(t,e,n){let i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}var LI=new G("mat-ripple-global-options"),hO=(()=>{let e=class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,o,s,c){this._elementRef=i,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Tg(this,r,i,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:F(F(F({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,o){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,r,F(F({},this.rippleConfig),o)):this._rippleRenderer.fadeInRipple(0,0,F(F({},this.rippleConfig),i))}};e.\u0275fac=function(r){return new(r||e)(P(Ee),P(J),P(Oe),P(LI,8),P(_t,8))},e.\u0275dir=ye({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){r&2&&vt("mat-ripple-unbounded",o.unbounded)},inputs:{color:[se.None,"matRippleColor","color"],unbounded:[se.None,"matRippleUnbounded","unbounded"],centered:[se.None,"matRippleCentered","centered"],radius:[se.None,"matRippleRadius","radius"],animation:[se.None,"matRippleAnimation","animation"],disabled:[se.None,"matRippleDisabled","disabled"],trigger:[se.None,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0});let t=e;return t})(),UI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({imports:[dn,dn]});let t=e;return t})();var NI={capture:!0},FI=["focus","click","mouseenter","touchstart"],yg="mat-ripple-loader-uninitialized",wg="mat-ripple-loader-class-name",VI="mat-ripple-loader-centered",Du="mat-ripple-loader-disabled",jI=(()=>{let e=class e{constructor(){this._document=M(ie,{optional:!0}),this._animationMode=M(_t,{optional:!0}),this._globalRippleOptions=M(LI,{optional:!0}),this._platform=M(Oe),this._ngZone=M(J),this._hosts=new Map,this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;let o=i.target.closest(`[${yg}]`);o&&this._createRipple(o)},this._ngZone.runOutsideAngular(()=>{for(let i of FI)this._document?.addEventListener(i,this._onInteraction,NI)})}ngOnDestroy(){let i=this._hosts.keys();for(let r of i)this.destroyRipple(r);for(let r of FI)this._document?.removeEventListener(r,this._onInteraction,NI)}configureRipple(i,r){i.setAttribute(yg,""),(r.className||!i.hasAttribute(wg))&&i.setAttribute(wg,r.className||""),r.centered&&i.setAttribute(VI,""),r.disabled&&i.setAttribute(Du,"")}getRipple(i){return this._hosts.get(i)||this._createRipple(i)}setDisabled(i,r){let o=this._hosts.get(i);if(o){o.disabled=r;return}r?i.setAttribute(Du,""):i.removeAttribute(Du)}_createRipple(i){if(!this._document)return;let r=this._hosts.get(i);if(r)return r;i.querySelector(".mat-ripple")?.remove();let o=this._document.createElement("span");o.classList.add("mat-ripple",i.getAttribute(wg)),i.append(o);let s=new hO(new Ee(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(VI),s.disabled=i.hasAttribute(Du),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(yg),this._hosts.set(i,r)}destroyRipple(i){let r=this._hosts.get(i);r&&(r.ngOnDestroy(),this._hosts.delete(i))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fO(t,e){}var xa=class{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}},Cg="mdc-dialog--open",BI="mdc-dialog--opening",zI="mdc-dialog--closing",mO=150,pO=75,gO=(()=>{let e=class e extends vg{constructor(i,r,o,s,c,l,d,f,p){super(i,r,o,s,c,l,d,p),this._animationMode=f,this._animationStateChanged=new Ne,this._animationsEnabled=this._animationMode!=="NoopAnimations",this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?qI(this._config.enterAnimationDuration)??mO:0,this._exitAnimationDuration=this._animationsEnabled?qI(this._config.exitAnimationDuration)??pO:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty($I,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(BI,Cg)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Cg),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Cg),this._animationsEnabled?(this._hostElement.style.setProperty($I,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(zI)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(i){this._actionSectionCount+=i,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(BI,zI)}_waitForAnimationToComplete(i,r){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,i)}_requestAnimationFrame(i){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(i):i()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(i){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(i){let r=super.attachComponentPortal(i);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}};e.\u0275fac=function(r){return new(r||e)(P(Ee),P(xu),P(ie,8),P(xa),P(Ca),P(J),P(Vn),P(_t,8),P(Ao))},e.\u0275cmp=ae({type:e,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){r&2&&(rc("id",o._config.id),Je("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),vt("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[$e,le],decls:3,vars:0,consts:[[1,"mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){r&1&&(D(0,"div",0)(1,"div",1),Ae(2,fO,0,0,"ng-template",2),k()())},dependencies:[Ea],styles:['.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-dialog,.mdc-dialog__scrim{position:fixed;top:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;width:100%;height:100%}.mdc-dialog{display:none;z-index:var(--mdc-dialog-z-index, 7)}.mdc-dialog .mdc-dialog__content{padding:20px 24px 20px 24px}.mdc-dialog .mdc-dialog__surface{min-width:280px}@media(max-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:calc(100vw - 32px)}}@media(min-width: 592px){.mdc-dialog .mdc-dialog__surface{max-width:560px}}.mdc-dialog .mdc-dialog__surface{max-height:calc(100% - 32px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-width:none}@media(max-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px;width:560px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 112px)}}@media(max-width: 720px)and (min-width: 672px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:560px}}@media(max-width: 720px)and (max-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:calc(100vh - 160px)}}@media(max-width: 720px)and (min-height: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{max-height:560px}}@media(max-width: 720px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}@media(max-width: 720px)and (max-height: 400px),(max-width: 600px),(min-width: 720px)and (max-height: 400px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{height:100%;max-height:100vh;max-width:100vw;width:100vw;border-radius:0}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{order:-1;left:-12px}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__header{padding:0 16px 9px;justify-content:flex-start}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__title{margin-left:calc(16px - 2 * 12px)}}@media(min-width: 960px){.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface{width:calc(100vw - 400px)}.mdc-dialog.mdc-dialog--fullscreen .mdc-dialog__surface .mdc-dialog__close{right:-12px}}.mdc-dialog.mdc-dialog__scrim--hidden .mdc-dialog__scrim{opacity:0}.mdc-dialog__scrim{opacity:0;z-index:-1}.mdc-dialog__container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;pointer-events:none}.mdc-dialog__surface{position:relative;display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;max-width:100%;max-height:100%;pointer-events:auto;overflow-y:auto;outline:0;transform:scale(0.8)}.mdc-dialog__surface .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}[dir=rtl] .mdc-dialog__surface,.mdc-dialog__surface[dir=rtl]{text-align:right}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-dialog__surface{outline:2px solid windowText}}.mdc-dialog__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-dialog__surface::before{border-color:CanvasText}}@media screen and (-ms-high-contrast: active),screen and (-ms-high-contrast: none){.mdc-dialog__surface::before{content:none}}.mdc-dialog__title{display:block;margin-top:0;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:0 24px 9px}.mdc-dialog__title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mdc-dialog__title,.mdc-dialog__title[dir=rtl]{text-align:right}.mdc-dialog--scrollable .mdc-dialog__title{margin-bottom:1px;padding-bottom:15px}.mdc-dialog--fullscreen .mdc-dialog__header{align-items:baseline;border-bottom:1px solid rgba(0,0,0,0);display:inline-flex;justify-content:space-between;padding:0 24px 9px;z-index:1}@media screen and (forced-colors: active){.mdc-dialog--fullscreen .mdc-dialog__header{border-bottom-color:CanvasText}}.mdc-dialog--fullscreen .mdc-dialog__header .mdc-dialog__close{right:-12px}.mdc-dialog--fullscreen .mdc-dialog__title{margin-bottom:0;padding:0;border-bottom:0}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__title{border-bottom:0;margin-bottom:0}.mdc-dialog--fullscreen .mdc-dialog__close{top:5px}.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog--fullscreen.mdc-dialog--scrollable .mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--fullscreen--titleless .mdc-dialog__close{margin-top:4px}.mdc-dialog--fullscreen--titleless.mdc-dialog--scrollable .mdc-dialog__close{margin-top:0}.mdc-dialog__content{flex-grow:1;box-sizing:border-box;margin:0;overflow:auto}.mdc-dialog__content>:first-child{margin-top:0}.mdc-dialog__content>:last-child{margin-bottom:0}.mdc-dialog__title+.mdc-dialog__content,.mdc-dialog__header+.mdc-dialog__content{padding-top:0}.mdc-dialog--scrollable .mdc-dialog__title+.mdc-dialog__content{padding-top:8px;padding-bottom:8px}.mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:6px 0 0}.mdc-dialog--scrollable .mdc-dialog__content .mdc-deprecated-list:first-child:last-child{padding:0}.mdc-dialog__actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0)}@media screen and (forced-colors: active){.mdc-dialog__actions{border-top-color:CanvasText}}.mdc-dialog--stacked .mdc-dialog__actions{flex-direction:column;align-items:flex-end}.mdc-dialog__button{margin-left:8px;margin-right:0;max-width:100%;text-align:right}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{margin-left:0;margin-right:8px}.mdc-dialog__button:first-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button:first-child,.mdc-dialog__button:first-child[dir=rtl]{margin-left:0;margin-right:0}[dir=rtl] .mdc-dialog__button,.mdc-dialog__button[dir=rtl]{text-align:left}.mdc-dialog--stacked .mdc-dialog__button:not(:first-child){margin-top:12px}.mdc-dialog--open,.mdc-dialog--opening,.mdc-dialog--closing{display:flex}.mdc-dialog--opening .mdc-dialog__scrim{transition:opacity 150ms linear}.mdc-dialog--opening .mdc-dialog__container{transition:opacity 75ms linear,transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-dialog--closing .mdc-dialog__scrim,.mdc-dialog--closing .mdc-dialog__container{transition:opacity 75ms linear}.mdc-dialog--closing .mdc-dialog__container{transform:none}.mdc-dialog--closing .mdc-dialog__surface{transform:none}.mdc-dialog--open .mdc-dialog__scrim{opacity:1}.mdc-dialog--open .mdc-dialog__container{opacity:1}.mdc-dialog--open .mdc-dialog__surface{transform:none}.mdc-dialog--open.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim{opacity:1}.mdc-dialog--open.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{transition:opacity 75ms linear}.mdc-dialog--open.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim{transition:opacity 150ms linear}.mdc-dialog__surface-scrim{display:none;opacity:0;position:absolute;width:100%;height:100%;z-index:1}.mdc-dialog__surface-scrim--shown .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--showing .mdc-dialog__surface-scrim,.mdc-dialog__surface-scrim--hiding .mdc-dialog__surface-scrim{display:block}.mdc-dialog-scroll-lock{overflow:hidden}.mdc-dialog--no-content-padding .mdc-dialog__content{padding:0}.mdc-dialog--sheet .mdc-dialog__container .mdc-dialog__close{right:12px;top:9px;position:absolute;z-index:1}.mdc-dialog__scrim--removed{pointer-events:none}.mdc-dialog__scrim--removed .mdc-dialog__scrim,.mdc-dialog__scrim--removed .mdc-dialog__surface-scrim{display:none}.mat-mdc-dialog-content{max-height:65vh}.mat-mdc-dialog-container{position:static;display:block}.mat-mdc-dialog-container,.mat-mdc-dialog-container .mdc-dialog__container,.mat-mdc-dialog-container .mdc-dialog__surface{max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mat-mdc-dialog-container .mdc-dialog__surface{width:100%;height:100%}.mat-mdc-dialog-component-host{display:contents}.mat-mdc-dialog-container{--mdc-dialog-container-elevation: var(--mdc-dialog-container-elevation-shadow);outline:0}.mat-mdc-dialog-container .mdc-dialog__surface{background-color:var(--mdc-dialog-container-color, white)}.mat-mdc-dialog-container .mdc-dialog__surface{box-shadow:var(--mdc-dialog-container-elevation, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12))}.mat-mdc-dialog-container .mdc-dialog__surface{border-radius:var(--mdc-dialog-container-shape, 4px)}.mat-mdc-dialog-container .mdc-dialog__title{font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87))}.mat-mdc-dialog-container .mdc-dialog__content{font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mdc-dialog__content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6))}.mat-mdc-dialog-container .mdc-dialog__container{transition:opacity linear var(--mat-dialog-transition-duration, 0ms)}.mat-mdc-dialog-container .mdc-dialog__surface{transition:transform var(--mat-dialog-transition-duration, 0ms) 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__container,.mat-mdc-dialog-container._mat-animation-noopable .mdc-dialog__surface{transition:none}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-title{padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-content{display:block}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2});let t=e;return t})(),$I="--mat-dialog-transition-duration";function qI(t){return t==null?null:typeof t=="number"?t:t.endsWith("ms")?_a(t.substring(0,t.length-2)):t.endsWith("s")?_a(t.substring(0,t.length-1))*1e3:t==="0"?0:null}var Ru=function(t){return t[t.OPEN=0]="OPEN",t[t.CLOSING=1]="CLOSING",t[t.CLOSED=2]="CLOSED",t}(Ru||{}),Ln=class{constructor(e,n,i){this._ref=e,this._containerInstance=i,this._afterOpened=new be,this._beforeClosed=new be,this._state=Ru.OPEN,this.disableClose=n.disableClose,this.id=e.id,e.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe(He(r=>r.state==="opened"),at(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(He(r=>r.state==="closed"),at(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ka(this.backdropClick(),this.keydownEvents().pipe(He(r=>r.keyCode===27&&!this.disableClose&&!Eu(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),GI(this,r.type==="keydown"?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(He(n=>n.state==="closing"),at(1)).subscribe(n=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),n.totalTime+100)}),this._state=Ru.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let n=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?n.left(e.left):n.right(e.right):n.centerHorizontally(),e&&(e.top||e.bottom)?e.top?n.top(e.top):n.bottom(e.bottom):n.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",n=""){return this._ref.updateSize(e,n),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=Ru.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function GI(t,e,n){return t._closeInteractionType=e,t.close(n)}var Ag=new G("MatMdcDialogData"),Sg=new G("mat-mdc-dialog-default-options"),_O=new G("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let t=M(qt);return()=>t.scrollStrategies.block()}});var vO=0,hn=(()=>{let e=class e{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let i=this._parentDialog;return i?i._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(i,r,o,s,c,l,d,f){this._overlay=i,this._defaultOptions=s,this._scrollStrategy=c,this._parentDialog=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new be,this._afterOpenedAtThisLevel=new be,this.dialogConfigClass=xa,this.afterAllClosed=Ti(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Gt(void 0))),this._dialog=r.get(bg),this._dialogRefConstructor=Ln,this._dialogContainerType=gO,this._dialogDataToken=Ag}open(i,r){let o;r=F(F({},this._defaultOptions||new xa),r),r.id=r.id||`mat-mdc-dialog-${vO++}`,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();let s=this._dialog.open(i,Ce(F({},r),{positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:ar,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(c,l,d)=>(o=new this._dialogRefConstructor(c,r,d),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:d},{provide:this._dialogDataToken,useValue:l.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=s.componentRef,o.componentInstance=s.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let c=this.openDialogs.indexOf(o);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(i){return this.openDialogs.find(r=>r.id===i)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(i){let r=i.length;for(;r--;)i[r].close()}};e.\u0275fac=function(r){return new(r||e)(x(qt),x(ze),x(Xn,8),x(Sg,8),x(_O),x(e,12),x(To),x(_t,8))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),bO=0,WI=(()=>{let e=class e{constructor(i,r,o){this.dialogRef=i,this._elementRef=r,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=XI(this._elementRef,this._dialog.openDialogs))}ngOnChanges(i){let r=i._matDialogClose||i._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(i){GI(this.dialogRef,i.screenX===0&&i.screenY===0?"keyboard":"mouse",this.dialogResult)}};e.\u0275fac=function(r){return new(r||e)(P(Ln,8),P(Ee),P(hn))},e.\u0275dir=ye({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,o){r&1&&ne("click",function(c){return o._onButtonClick(c)}),r&2&&Je("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[se.None,"aria-label","ariaLabel"],type:"type",dialogResult:[se.None,"mat-dialog-close","dialogResult"],_matDialogClose:[se.None,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[Ct]});let t=e;return t})(),HI=(()=>{let e=class e{constructor(i,r,o){this._dialogRef=i,this._elementRef=r,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=XI(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}};e.\u0275fac=function(r){return new(r||e)(P(Ln,8),P(Ee),P(hn))},e.\u0275dir=ye({type:e,standalone:!0});let t=e;return t})(),KI=(()=>{let e=class e extends HI{constructor(){super(...arguments),this.id=`mat-mdc-dialog-title-${bO++}`}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=bn(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,o){r&2&&rc("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[$e]});let t=e;return t})(),YI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=ye({type:e,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0});let t=e;return t})(),QI=(()=>{let e=class e extends HI{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=bn(e)))(o||e)}})(),e.\u0275dir=ye({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,o){r&2&&vt("mat-mdc-dialog-actions-align-start",o.align==="start")("mat-mdc-dialog-actions-align-center",o.align==="center")("mat-mdc-dialog-actions-align-end",o.align==="end")},inputs:{align:"align"},standalone:!0,features:[$e]});let t=e;return t})();function XI(t,e){let n=t.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-mdc-dialog-container");)n=n.parentElement;return n?e.find(i=>i.id===n.id):null}var So=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({providers:[hn],imports:[DI,Cu,ir,dn,dn]});let t=e;return t})();var yO=["mat-button",""],wO=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],IO=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"];var EO=new G("MAT_BUTTON_CONFIG");var TO=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],CO=(()=>{let e=class e{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=i,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=i,this._updateRippleDisabled()}constructor(i,r,o,s){this._elementRef=i,this._platform=r,this._ngZone=o,this._animationMode=s,this._focusMonitor=M(Ao),this._rippleLoader=M(jI),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;let c=M(EO,{optional:!0}),l=i.nativeElement,d=l.classList;this.disabledInteractive=c?.disabledInteractive??!1,this._rippleLoader?.configureRipple(l,{className:"mat-mdc-button-ripple"});for(let{attribute:f,mdcClasses:p}of TO)l.hasAttribute(f)&&d.add(...p)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}};e.\u0275fac=function(r){es()},e.\u0275dir=ye({type:e,inputs:{color:"color",disableRipple:[se.HasDecoratorInputTransform,"disableRipple","disableRipple",bt],disabled:[se.HasDecoratorInputTransform,"disabled","disabled",bt],ariaDisabled:[se.HasDecoratorInputTransform,"aria-disabled","ariaDisabled",bt],disabledInteractive:[se.HasDecoratorInputTransform,"disabledInteractive","disabledInteractive",bt]},features:[Ut]});let t=e;return t})();var JI=(()=>{let e=class e extends CO{constructor(i,r,o,s){super(i,r,o,s)}};e.\u0275fac=function(r){return new(r||e)(P(Ee),P(Oe),P(J),P(_t,8))},e.\u0275cmp=ae({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){r&2&&(Je("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),ec(o.color?"mat-"+o.color:""),vt("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable",o._animationMode==="NoopAnimations")("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[$e,le],attrs:yO,ngContentSelectors:IO,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){r&1&&(oc(wO),ce(0,"span",0),gr(1),D(2,"span",1),gr(3,1),k(),gr(4,2),ce(5,"span",2)(6,"span",3)),r&2&&vt("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px);display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);font-weight:var(--mdc-text-button-label-text-weight);text-transform:var(--mdc-text-button-label-text-transform);height:var(--mdc-text-button-container-height);border-radius:var(--mdc-text-button-container-shape);padding:0 var(--mat-text-button-horizontal-padding, 8px)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);font-weight:var(--mdc-filled-button-label-text-weight);text-transform:var(--mdc-filled-button-label-text-transform);height:var(--mdc-filled-button-container-height);border-radius:var(--mdc-filled-button-container-shape);padding:0 var(--mat-filled-button-horizontal-padding, 16px)}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color)}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);font-weight:var(--mdc-protected-button-label-text-weight);text-transform:var(--mdc-protected-button-label-text-transform);height:var(--mdc-protected-button-container-height);border-radius:var(--mdc-protected-button-container-shape);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow)}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color)}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);font-weight:var(--mdc-outlined-button-label-text-weight);text-transform:var(--mdc-outlined-button-label-text-transform);height:var(--mdc-outlined-button-container-height);border-radius:var(--mdc-outlined-button-container-shape);padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width);padding:0 var(--mat-outlined-button-horizontal-padding, 15px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color)}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape)}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width))}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-button-base{text-decoration:none}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0});let t=e;return t})();var xo=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({imports:[dn,UI,dn]});let t=e;return t})();var ZI=(()=>{let e=class e{constructor(i,r,o){this.data=i,this.router=r}onMenuClick(){this.router.navigateByUrl("/")}onRetryClick(){this.data.retryAction&&this.data.retryAction()}};e.\u0275fac=function(r){return new(r||e)(P(Ag),P(yt),P(Ln))},e.\u0275cmp=ae({type:e,selectors:[["app-dialog"]],standalone:!0,features:[le],decls:13,vars:4,consts:[["mat-dialog-title","",1,"d-flex","justify-content-center"],[1,"d-flex","justify-content-center"],[2,"height","200x","width","100px",3,"src"],["mat-button","","mat-dialog-close","",3,"click"]],template:function(r,o){r&1&&(D(0,"h2",0),j(1),k(),D(2,"mat-dialog-content")(3,"div")(4,"p"),j(5),k(),D(6,"div",1),ce(7,"img",2),k()()(),D(8,"mat-dialog-actions",1)(9,"button",3),ne("click",function(){return o.onMenuClick()}),j(10,"Men\xFA"),k(),D(11,"button",3),ne("click",function(){return o.onRetryClick()}),j(12),k()()),r&2&&($(),Ue(o.data.tittle),$(4),Ue(o.data.content),$(2),sc("src",o.data.img,yn),$(5),Ue(o.data.btn))},dependencies:[So,WI,KI,QI,YI,xo,JI]});let t=e;return t})();var fn=(()=>{let e=class e{constructor(i){this.matDialog=i,this.dialogOpen=!1}openDialog(i){this.matDialog.open(ZI,{data:i})}};e.\u0275fac=function(r){return new(r||e)(x(hn))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SO(t,e){if(t&1&&(D(0,"div",14)(1,"h2",15),j(2),k(),D(3,"p",16),j(4),k()()),t&2){let n=ke();$(2),Ue(n.juegoTitulo),$(2),Ue(n.descripcion)}}var eE=(()=>{let e=class e{constructor(){this.mostrarDescripcion=!1,this.descripcion="",this.juegoTitulo="",this.dialog=M(fn),this.authservice=M(nn),this.router=M(yt),this.userObs$=this.authservice.getUser(),this.userObs$.subscribe(i=>{this.userValue=i})}seleccionarImagen(i){this.juegoSeleccionado=i,this.jugar()}jugar(){if(this.userValue?.email!=null)switch(this.juegoSeleccionado){case 1:this.router.navigateByUrl("/preguntados");break;case 2:this.router.navigateByUrl("/mayormenor");break;case 3:this.router.navigateByUrl("/ahorcado");break;case 4:this.router.navigateByUrl("/resistenciazombie");break}else this.openDialog()}mostrarDesc(i){switch(i){case 1:this.juegoTitulo="Preguntados",this.descripcion="\xA1Demuestra tu conocimiento Pok\xE9mon! Adivina el nombre del Pok\xE9mon a partir de su imagen antes de que se acabe el tiempo. Cada acierto te lleva a la siguiente ronda. \xBFCu\xE1ntos puedes adivinar?";break;case 2:this.juegoTitulo="Mayor o Menor",this.descripcion="\xA1Pon a prueba tu intuici\xF3n en este emocionante juego de cartas! Adivina si la siguiente carta ser\xE1 mayor, menor o igual que la actual. Cada acierto te lleva m\xE1s lejos en el juego. \xBFHasta d\xF3nde puedes llegar con tus predicciones?";break;case 3:this.juegoTitulo="Ahorcado",this.descripcion="Adivina la palabra oculta letra por letra antes de que el dibujo del ahorcado se complete. Cada error te acerca al final del juego. \xBFCu\xE1ntas palabras puedes adivinar antes de quedar colgado? ";break;case 4:this.juegoTitulo="Resistencia Zombie",this.descripcion="\xA1Sobrevive al apocalipsis zombie! Dispara a los zombies que aparecen en la pantalla antes de que te alcancen. Cada acierto aumenta tu puntuaci\xF3n, pero cuidado, si fallas perder\xE1s una vida \xA1Atr\xE9vete a enfrentar la horda!";break}this.mostrarDescripcion=!0}ocultarDesc(){this.mostrarDescripcion=!1}openDialog(){this.dialog.openDialog({tittle:"ALTO AH\xCD!",content:"Debes iniciar sesi\xF3n para poder jugar.",img:"../../../assets/stop.png",retryAction:()=>this.navLogin(),btn:"Ir al login"})}navLogin(){this.router.navigateByUrl("/login")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-home"]],standalone:!0,features:[le],decls:24,vars:1,consts:[["id","divTotal",2,"top","100px"],[1,"container",2,"height","100vh"],[1,"row"],[1,"col-sm-12",2,"position","relative","top","120px"],[1,"text-center"],["src","../../../assets/icon.png","alt","Imagen","draggable","false",1,"floating-image"],["class","container text-center","style","margin-top: 20px; width: 850px;",4,"ngIf"],[1,"caja-juegos"],[1,"juegos"],["src","../../../assets/PokemonIcono.jpg","draggable","false",1,"imagenes-juegos",3,"click","mouseover","mouseleave"],[2,"color","white"],["src","../../../assets/mayormenor.webp","draggable","false",1,"imagenes-juegos",3,"click","mouseover","mouseleave"],["src","../../../assets/ahorcado/ahorcado.jpeg","draggable","false",1,"imagenes-juegos",3,"click","mouseover","mouseleave"],["src","../../../assets/resistenciazombie/resistenciazombie.webp","draggable","false",1,"imagenes-juegos",3,"click","mouseover","mouseleave"],[1,"container","text-center",2,"margin-top","20px","width","850px"],[2,"color","white","font-size","40px"],[2,"color","white","font-size","20px"]],template:function(r,o){r&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),ce(5,"img",5),Ae(6,SO,5,2,"div",6),D(7,"div",7)(8,"div",8)(9,"img",9),ne("click",function(){return o.seleccionarImagen(1)})("mouseover",function(){return o.mostrarDesc(1)})("mouseleave",function(){return o.ocultarDesc()}),k(),D(10,"h2",10),j(11,"Preguntados"),k()(),D(12,"div",8)(13,"img",11),ne("click",function(){return o.seleccionarImagen(2)})("mouseover",function(){return o.mostrarDesc(2)})("mouseleave",function(){return o.ocultarDesc()}),k(),D(14,"h2",10),j(15,"Mayor o Menor"),k()(),D(16,"div",8)(17,"img",12),ne("click",function(){return o.seleccionarImagen(3)})("mouseover",function(){return o.mostrarDesc(3)})("mouseleave",function(){return o.ocultarDesc()}),k(),D(18,"h2",10),j(19,"Ahorcado"),k()(),D(20,"div",8)(21,"img",13),ne("click",function(){return o.seleccionarImagen(4)})("mouseover",function(){return o.mostrarDesc(4)})("mouseleave",function(){return o.ocultarDesc()}),k(),D(22,"h2",10),j(23,"Resistencia Zombie"),k()()()()()()()()),r&2&&($(6),de("ngIf",o.mostrarDescripcion))},dependencies:[Pe,ct,Lr,So,xo],styles:["*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.floating-image[_ngcontent-%COMP%]{height:250px;width:950px;animation:_ngcontent-%COMP%_floatAnimation 10s ease-in-out infinite alternate}@keyframes _ngcontent-%COMP%_floatAnimation{0%{transform:translateY(0) rotate(0)}25%{transform:translateY(-3px) rotate(3deg)}50%{transform:translateY(3px) rotate(-3deg)}75%{transform:translateY(-3px) rotate(3deg)}to{transform:translateY(0) rotate(-3deg)}}#divTotal[_ngcontent-%COMP%]{background-color:linear-gradient(to right,rgb(14,16,28),rgb(39,43,67));background:linear-gradient(to right,#0e101c,#1f2233);height:100%}.caja-juegos[_ngcontent-%COMP%]{position:absolute;display:flex;gap:40px;width:100%;height:250px;padding:0 50px;box-sizing:border-box;overflow:visible;justify-content:center;top:50vh}.imagenes-juegos[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:10px}.juegos[_ngcontent-%COMP%]{width:250px;height:250px;transition:.5s;flex-shrink:0;filter:brightness(1.15)}.juegos[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.jugadorGano[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);background-color:green;z-index:4;padding:20px;border-radius:10px;text-align:center}"]});let t=e;return t})();var tE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-aboutus"]],standalone:!0,features:[le],decls:12,vars:0,consts:[[1,"quien-soy-container"],[1,"quien-soy-content"],[1,"foto"],["src","../../../assets/miphoto.jpg","alt","Foto de Lucas De Nardo",1,"foto-perfil"]],template:function(r,o){r&1&&(D(0,"div",0)(1,"div",1)(2,"div",2),ce(3,"img",3),k(),D(4,"h1"),j(5,"Qui\xE9n Soy"),k(),D(6,"p"),j(7," Soy Lucas De Nardo, estudiante de la Tecnicatura Universitaria en Programaci\xF3n en la Universidad Tecnol\xF3gica Nacional (UTN). Desde hace dos a\xF1os, me desempe\xF1o como desarrollador, adquiriendo experiencia y habilidades en el mundo del software. Adem\xE1s de mi pasi\xF3n por la programaci\xF3n, tambi\xE9n me dedico a la m\xFAsica bajo el nombre art\xEDstico de Kalu. "),k(),D(8,"h2"),j(9,"Sobre mi juego"),k(),D(10,"p"),j(11," Los jugadores deben enfrentarse a hordas de zombies que aparecen en la pantalla. A medida que el juego avanza, los zombies se aparecen cada vez m\xE1s r\xE1pido, aumentando el desaf\xEDo. El objetivo es eliminar tantos zombies como sea posible para ganar puntos. Los jugadores tienen tres vidas, lo que hace que sea indispensable cuidar de ellas. Este juego combina acci\xF3n r\xE1pida y decisiones t\xE1cticas, ofreciendo una experiencia divertida y adictiva. "),k()()())},styles:[".quien-soy-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:linear-gradient(to right,rgb(14,16,28),rgb(39,43,67));background:linear-gradient(to right,#0e101c,#1f2233)}.quien-soy-content[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 4px #0000001a;max-width:80vh;text-align:center}.foto[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1rem}.foto-perfil[_ngcontent-%COMP%]{width:18vh;height:18vh;border-radius:50%;object-fit:cover}h1[_ngcontent-%COMP%]{color:#d344d5;font-size:4vh}h2[_ngcontent-%COMP%]{color:#9d22c0;font-size:3.5vh}p[_ngcontent-%COMP%]{color:#333;line-height:1.6;font-size:1.92vh}"]});let t=e;return t})();var xO=(t,e)=>({"letra-elegida":t,oscurecer:e});function DO(t,e){if(t&1&&(D(0,"span"),j(1),k()),t&2){let n=e.$implicit;$(),kt("",n," ")}}function RO(t,e){if(t&1){let n=Yn();D(0,"img",12),ne("click",function(){let r=Hn(n).$implicit,o=ke();return Kn(o.seleccionarLetra(r))}),k()}if(t&2){let n=e.$implicit,i=ke();Si("pointer-events",i.deshabilitarLetras?"none":"auto"),is("src","../../../../assets/ahorcado/letas/",n,".png",yn),de("ngClass",X_(5,xO,i.estaSeleccionada(n),!i.estaSeleccionada(n)))}}var nE=(()=>{let e=class e{constructor(){this.abecedario=[],this.abecedarioAux=[],this.letraSeleccionada="",this.intentos=0,this.horca=1,this.palabraActual="",this.deshabilitarLetras=!1,this.palabrasSimples=["casa","gato","perro","mesa","silla","flor","agua","sol","luna","mar","viento","fuego","tierra","cielo","nube","arbol","piedra","lago","rio","nieve","monta\xF1a","valle","bosque","prado","jard\xEDn","campo","ciudad","puente","calle","camino","coche","tren","barco","avion","bici","libro","papel","pluma","bolsa","reloj","puerta","ventana","pared","techo","suelo","cama","almohada","manta","armario","espejo"],this.dialog=M(fn)}ngOnInit(){this.generarAbecedario(),this.elegirPalabra()}generarAbecedario(){for(let i=97;i<=122;i++)this.abecedario.push(String.fromCharCode(i)),i==110&&this.abecedario.push("\xF1");this.abecedarioAux=this.abecedario}seleccionarLetra(i){let r=!1,o=!0;if(this.letraSeleccionada=i,this.abecedarioAux.includes(i)){for(let s=0;s<this.palabraActual.length;s++)this.palabraActual[s]===i&&(this.palabraActualAux[s]=i,r=!0),this.palabraActualAux[s]=="_"&&(o=!1);r||(this.intentos++,this.horca++),this.intentos==6&&(this.abecedarioAux=this.abecedario,this.estaSeleccionada(i),this.openDialog(1)),o&&(this.abecedarioAux=this.abecedario,this.estaSeleccionada(i),this.openDialog(2))}this.abecedarioAux=this.abecedarioAux.filter(s=>s!==this.letraSeleccionada)}estaSeleccionada(i){return!this.abecedarioAux.includes(i)}elegirPalabra(){this.deshabilitarLetras=!1,this.intentos=0,this.horca=1,this.letraSeleccionada="",this.abecedarioAux=[...this.abecedario];let i=Math.floor(Math.random()*this.palabrasSimples.length);this.palabraActual=this.palabrasSimples[i],this.palabraActualAux=this.palabraActual.split("").map(()=>"_")}openDialog(i){switch(this.deshabilitarLetras=!0,i){case 1:this.dialog.openDialog({tittle:"PERDISTE",content:"No conseguiste ning\xFAn punto. No te rindas!",img:"../../../assets/derrota.png",retryAction:()=>this.elegirPalabra(),btn:"Jugar de Nuevo"});break;case 2:this.dialog.openDialog({tittle:"FELICITACIONES",content:"Lograste adivinar la palabra!",img:"../../../assets/victoria.png",retryAction:()=>this.elegirPalabra(),btn:"Jugar de Nuevo"});break}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-ahorcado"]],standalone:!0,features:[le],decls:18,vars:5,consts:[[1,"d-flex","justify-content-center","align-items-center","min-100vh"],[1,"container"],[1,"text-center","mt-5"],[1,"row","mt-5","align-items-center"],[1,"col-lg-6","col-12","text-center"],["draggable","false",1,"ahorcado-img",3,"src"],[1,"intentosContainer",2,"color","white"],[1,"text-center",2,"width","70vh"],[4,"ngFor","ngForOf"],[1,"p-3","containerBtn"],["class","oscurecer letra","draggable","false",3,"src","ngClass","pointerEvents","click",4,"ngFor","ngForOf"],[1,"text-center"],["draggable","false",1,"oscurecer","letra",3,"click","src","ngClass"]],template:function(r,o){r&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),j(4,"Juego del Ahorcado"),k()(),D(5,"div",3)(6,"div",4),ce(7,"img",5),D(8,"h3",6),j(9," Intentos: "),D(10,"small"),j(11),k()()(),D(12,"div",4)(13,"h1",7),Ae(14,DO,2,1,"span",8),k(),D(15,"div",9),Ae(16,RO,1,8,"img",10),ce(17,"div",11),k()()()()()),r&2&&($(7),is("src","../../../../assets/ahorcado/horca.",o.horca,".png",yn),$(4),kt("",o.intentos," / 6 "),$(3),de("ngForOf",o.palabraActualAux),$(2),de("ngForOf",o.abecedario))},dependencies:[Pe,mc,pc],styles:['*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.ahorcado-img[_ngcontent-%COMP%]{height:500px}button[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px;width:15vh;height:5vh;background-color:#009970;color:#fff;font-size:2.5vh}.score-label[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.score-value[_ngcontent-%COMP%]{font-weight:400}.score-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px;box-shadow:0 0 10px #0000001a;max-width:400px;margin:0 auto;padding:20px}.score[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:20px}.score-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;border-radius:5px;padding:10px 20px;font-size:16px;cursor:pointer}.score-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.min-100vh[_ngcontent-%COMP%]{min-height:100vh;background-image:url("./media/hojacuadriculada-XT2EHDF7.jpg")}.min-100vh[_ngcontent-%COMP%]:after{content:"";width:100%;height:100%;position:absolute;left:0;bottom:0;background-image:linear-gradient(to top,#000 0%,transparent);background-size:cover}.container[_ngcontent-%COMP%]{z-index:1}.containerBtn[_ngcontent-%COMP%]{border-radius:30px;background-color:#ffffff80;width:70vh}.intentosContainer[_ngcontent-%COMP%]{margin-top:30px;text-transform:uppercase;letter-spacing:10px}h1[_ngcontent-%COMP%]{font-size:100px;margin:0}.btnJugarNuevo[_ngcontent-%COMP%]{position:fixed;left:0;bottom:0;margin:34px;border-radius:40px;height:90px;width:90px;border:1px #009970}.imgJugarNuevo[_ngcontent-%COMP%]{height:50px;width:50px}.oscurecer[_ngcontent-%COMP%]:hover{border-radius:10px;background-color:#999;color:#fff}.letra[_ngcontent-%COMP%]{height:7vh;width:7vh}.letra-elegida[_ngcontent-%COMP%]{background-color:#000;border-radius:10px}']});let t=e;return t})();var iE=(()=>{let e=class e{constructor(i){this.http=i}getRandom(i,r){return Math.floor(Math.random()*(r-i+1))+i}getPokemon(){let i="https://pokeapi.co/api/v2/pokemon/"+this.getRandom(1,300).toString();return this.http.get(i).pipe(Gn(r=>(console.log(r),W(void 0))))}getOpciones(){return this.http.get("https://pokeapi.co/api/v2/pokemon?limit=300").pipe(te(r=>r.results))}};e.\u0275fac=function(r){return new(r||e)(x(Ad))},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PO(t,e){if(t&1&&ce(0,"img",17),t&2){let n=e.ngIf;sc("src",n.sprites.front_default,yn)}}var rE=(()=>{let e=class e{openDialog(i){switch(this.botonDeshabilitado=!0,i){case 1:this.puntaje>0?this.dialog.openDialog({tittle:"Juego Terminado",content:`Conseguiste acertar: ${this.puntaje}`,img:"../../../assets/derrota.png",retryAction:()=>this.play(),btn:"Jugar de Nuevo"}):this.dialog.openDialog({tittle:"PERDISTE",content:"Sigue intentando. No te rindas!",img:"../../../assets/derrota.png",retryAction:()=>this.play(),btn:"Jugar de Nuevo"});break;case 2:this.puntaje>0?this.dialog.openDialog({tittle:"EL TIEMPO SE AGOTO",content:`Conseguiste acertar: ${this.puntaje}`,img:"../../../assets/victoria.png",retryAction:()=>this.play(),btn:"Jugar de Nuevo"}):this.dialog.openDialog({tittle:"EL TIEMPO SE AGOTO",content:"No pudiste acertar, no te rindas!",img:"../../../assets/derrota.png",retryAction:()=>this.play(),btn:"Jugar de Nuevo"});break;case 3:this.dialog.openDialog({tittle:"ESTAS LISTO?",content:"Oprime comenzar para iniciar el juego",img:"../../../assets/estaslisto.png",retryAction:()=>this.play(),btn:"Comenzar"});break;case 4:this.dialog.openDialog({tittle:"FELICITACIONES!",content:"Adivinaste todos los pokemons!",img:"../../../assets/estaslisto.png",retryAction:()=>this.play(),btn:"Comenzar"});break}}constructor(i){this.pokemonService=i,this.puntaje=0,this.botonDeshabilitado=!1,this.dialog=M(fn),this.excludedPokemonNames=[],this.remainingTime=30,this.openDialog(3)}ngOnDestroy(){this.stopTimer()}play(){this.puntaje==300?(this.stopTimer(),this.excludedPokemonNames=[],this.openDialog(4),this.puntaje=0):(this.resetTimer(),this.startTimer(),this.pokemonObs$=this.pokemonService.getPokemon(),this.pokemonObs$.subscribe(i=>{this.pokemon=i,this.excludedPokemonNames?.push({name:i.name,url:""}),this.pokemonService.getOpciones().subscribe(r=>{this.pokemons=r,this.opcionesRandom()})}),this.botonDeshabilitado=!1)}opcionesRandom(){let o=this.pokemons.filter(c=>!this.excludedPokemonNames.some(l=>l.name.toLowerCase()===c.name.toLowerCase())).sort(()=>.5-Math.random()).slice(0,3);o.push({name:this.pokemon.name??"",url:""});let s=o.sort(()=>.5-Math.random());s.length>=4?(this.opcionUno=s[0].name,this.opcionDos=s[1].name,this.opcionTres=s[2].name,this.opcionCuatro=s[3].name):console.error("No hay suficientes opciones disponibles.")}verificarRespuesta(i){if(this.botonDeshabilitado!=!0)switch(i){case 1:this.opcionUno==this.pokemon?.name?(this.puntaje++,this.play()):(this.excludedPokemonNames=[],this.stopTimer(),this.openDialog(1),this.puntaje=0);break;case 2:this.opcionDos==this.pokemon?.name?(this.puntaje++,this.play()):(this.excludedPokemonNames=[],this.stopTimer(),this.openDialog(1),this.puntaje=0);break;case 3:this.opcionTres==this.pokemon?.name?(this.puntaje++,this.play()):(this.excludedPokemonNames=[],this.stopTimer(),this.openDialog(1),this.puntaje=0);break;case 4:this.opcionCuatro==this.pokemon?.name?(this.puntaje++,this.play()):(this.excludedPokemonNames=[],this.stopTimer(),this.openDialog(1),this.puntaje=0);break}}startTimer(){this.intervalId=setInterval(()=>{this.remainingTime--,this.remainingTime<=0&&(this.stopTimer(),this.openDialog(2),this.excludedPokemonNames=[])},1e3)}stopTimer(){clearInterval(this.intervalId)}resetTimer(){this.stopTimer(),this.remainingTime=10}reiniciar(){this.excludedPokemonNames=[],this.play()}};e.\u0275fac=function(r){return new(r||e)(P(iE))},e.\u0275cmp=ae({type:e,selectors:[["app-preguntados"]],standalone:!0,features:[le],decls:32,vars:10,consts:[[1,"mainContainer","min-100vh","background-image"],[1,"wrapper"],[1,"quiz-container"],[1,"quiz-head"],[1,"quiz-title"],[1,"quiz-score"],[2,"background-color","rgba(18, 238, 11, 0.51)"],[2,"position","relative"],[1,"quiz-body"],["id","question",1,"quiz-question"],[1,"pokemon-div"],["style","height: 250px;","draggable","false",3,"src",4,"ngIf"],[1,"quiz-options"],[3,"click"],["id","result"],[1,"quiz-foot"],["type","button",3,"click","disabled"],["draggable","false",2,"height","250px",3,"src"]],template:function(r,o){r&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),j(5,"Preguntados"),k(),D(6,"div",5)(7,"span"),j(8,"Puntaje: "),D(9,"span",6),j(10),k()(),D(11,"span",7),j(12),k()()(),D(13,"div",8)(14,"h2",9),j(15," \xBFQU\xC9 POKEMON ES? "),k(),D(16,"div",10),Ae(17,PO,1,1,"img",11),cc(18,"async"),k(),D(19,"ul",12)(20,"li",13),ne("click",function(){return o.verificarRespuesta(1)}),j(21),k(),D(22,"li",13),ne("click",function(){return o.verificarRespuesta(2)}),j(23),k(),D(24,"li",13),ne("click",function(){return o.verificarRespuesta(3)}),j(25),k(),D(26,"li",13),ne("click",function(){return o.verificarRespuesta(4)}),j(27),k()(),ce(28,"div",14),k(),D(29,"div",15)(30,"button",16),ne("click",function(){return o.reiniciar()}),j(31,"Reincio"),k()()()()()),r&2&&($(10),Ue(o.puntaje),$(2),kt("Tiempo: ",o.remainingTime,"s"),$(5),de("ngIf",lc(18,8,o.pokemonObs$)),$(4),kt(" ",o.opcionUno," "),$(2),kt(" ",o.opcionDos," "),$(2),kt(" ",o.opcionTres," "),$(2),kt(" ",o.opcionCuatro," "),$(3),de("disabled",o.botonDeshabilitado))},dependencies:[pv,Pe,ct,gc],styles:['@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLDz8Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLDz8Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiEyp8kv8JHgFVrJJnecmNE.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiEyp8kv8JHgFVrJJfecg.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLGT9Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLGT9Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLCz7Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLCz7Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLDD4Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:800;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLDD4Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:Poppins;font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLBT5Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02AF,U+0304,U+0308,U+0329,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:900;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v21/pxiByp8kv8JHgFVrLBT5Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.min-100vh[_ngcontent-%COMP%]{min-height:100vh;background-repeat:no-repeat;background-size:cover;padding:0;margin:0;box-sizing:border-box;display:flex;text-align:center;justify-content:center;align-items:center}.min-100vh[_ngcontent-%COMP%]:after{content:"";width:100%;height:100%;position:absolute;left:0;bottom:0;background-image:linear-gradient(to top,#000 0%,transparent);background-size:cover}.wrapper[_ngcontent-%COMP%]{padding:1.5rem 4rem 3rem;width:800px;border-top-left-radius:1.5rem;border-bottom-right-radius:1.5rem;position:relative;box-shadow:0 4px 6px red,0 1px 3px #4000ff1a;background:linear-gradient(to right,#0e101c,#1f2233);z-index:1;margin-top:30px}.quiz-title[_ngcontent-%COMP%]{text-align:center;font-size:4rem;margin-bottom:1rem;color:#fff}.quiz-score[_ngcontent-%COMP%]{text-align:center;font-weight:600;font-size:1.2rem;margin-bottom:1rem;font-weight:700;width:300px;height:50px;margin:.5rem auto 1rem;color:#035252;display:flex;justify-content:space-around}.quiz-score[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f3f3f3;border-radius:5px;padding:10px}.quiz-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:60vh}.quiz-question[_ngcontent-%COMP%]{font-size:1.8rem;text-align:center;line-height:2;color:#fff}.quiz-options[_ngcontent-%COMP%]{list-style:none;width:100%;padding:0;margin:0;display:flex;flex-direction:column;justify-content:center;align-items:center}.quiz-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-radius:.5rem;font-weight:600;margin-top:.7rem;padding:.4rem 1.2rem;cursor:pointer;border:3px solid rgb(218,58,40);background-color:#ebc013;color:var(--light-color);box-shadow:0 4px #da3a28a7;transition:var(--transition);width:80%}.quiz-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#d4dad0;color:#000;border-color:#d4dad0;box-shadow:0 4px #bbb}.quiz-options[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:active{transform:scale(.97)}.quiz-foot[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border:none;border-radius:.5rem;outline:0;font-family:Poppins,sans-serif;font-size:1.2rem;font-weight:600;padding:.5rem 1rem;margin:0 auto;text-transform:uppercase;cursor:pointer;display:block;background-color:#ebc013;color:var(--dark-color);letter-spacing:2px;transition:var(--transition);box-shadow:0 4px #da3a28a7}.quiz-foot[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e6e6e6;box-shadow:0 4px #a7a7a7;color:#000}.quiz-foot[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.95)}#result[_ngcontent-%COMP%]{padding:.7rem 0;text-align:center;font-weight:600;font-size:1.3rem}.jugadorGano[_ngcontent-%COMP%]{position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);background-color:green;z-index:4;padding:20px;border-radius:10px;text-align:center}.background-image[_ngcontent-%COMP%]{position:relative;z-index:0}.background-image[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background-image:url("./media/PokemonFondo-K5FJF4WX.jpg");background-size:cover;background-position:center;opacity:.8;z-index:-1}.pokemon-div[_ngcontent-%COMP%]{height:250px;background:linear-gradient(to right,#aa2929,#d6c50e);border-radius:25px}']});let t=e;return t})();var oE=(()=>{let e=class e{constructor(){this.mazo=[],this.indiceActual=-1,this.puntaje=0,this.intentos=3,this.botonDeshabilitado=!1,this.dialog=M(fn)}ngOnInit(){this.crearMazo(),this.iniciarJuego()}crearMazo(){let i=["basto","copa","espada","oro"];for(let r=0;r<12;r++)for(let o of i){let s={numero:r+1,palo:o,url:`../../../../assets/cartas/${o}.${r+1}.png`};this.mazo.push(s)}}iniciarJuego(){this.cartaActual=this.obtenerCartaAleatoria(),this.cartaSiguiente=this.obtenerCartaAleatoria(),this.resultado=""}obtenerCartaAleatoria(){let i=Math.floor(Math.random()*this.mazo.length);for(;this.indiceActual==i;)i=Math.floor(Math.random()*this.mazo.length);return this.indiceActual=i,this.mazo[i]}verificarAdivinanza(i){console.log(this.cartaActual),console.log(this.cartaSiguiente),i==="MAYOR"&&this.cartaActual&&this.cartaSiguiente.numero>this.cartaActual.numero||i==="MENOR"&&this.cartaActual&&this.cartaSiguiente.numero<this.cartaActual.numero||i==="IGUAL"&&this.cartaActual&&this.cartaSiguiente.numero===this.cartaActual.numero?(this.resultado="Correcto",this.puntaje++):(this.resultado="Incorrecto",this.intentos--),this.intentos==0?this.puntaje>0?this.openDialog(2):this.openDialog(1):this.mezclar()}play(){this.puntaje=0,this.intentos=3,this.mezclar(),this.botonDeshabilitado=!1}mezclar(){this.cartaActual=this.cartaSiguiente,this.cartaSiguiente=this.obtenerCartaAleatoria()}openDialog(i){switch(this.botonDeshabilitado=!0,i){case 1:this.dialog.openDialog({tittle:"PERDISTE",content:"No conseguiste ning\xFAn punto. No te rindas!",img:"../../../assets/derrota.png",retryAction:()=>this.play(),btn:"Jugar de Nuevo"});break;case 2:this.dialog.openDialog({tittle:"FELICITACIONES",content:`Conseguiste: ${this.puntaje} puntos.`,img:"../../../assets/victoria.png",retryAction:()=>this.play(),btn:"Jugar de Nuevo"});break}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-mayormenor"]],standalone:!0,features:[le],decls:21,vars:8,consts:[[1,"min-100vh","d-flex","justify-content-center","align-items-center"],[1,"container","text-center"],[1,"container","text-center",2,"background-color","rgb(65, 148, 61)","width","600px","height","85px","border-radius","25px"],[1,"titulo"],[1,"deck","mt-5"],[1,"card"],[1,"card",2,"background-image","url(../../../../assets/cartas/tapa.png)"],[1,"container","text-center","score-container",2,"background-color","rgb(65, 148, 61)","width","900px","height","80px","border-radius","25px","margin-top","10px"],[2,"font-size","60px","color","white"],[1,"container","text-center","botones-container",2,"background-color","rgb(65, 148, 61)","width","600px","height","75px","border-radius","25px","margin-top","10px","color","white"],[1,"btn","btn-warning",2,"width","12vh",3,"click","disabled"]],template:function(r,o){r&1&&(D(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),j(4,"Mayor o Menor"),k()(),D(5,"div",4),ce(6,"div",5)(7,"div",6),k(),D(8,"div",7)(9,"h2",8),j(10),k()(),D(11,"div",9)(12,"h2"),j(13,"\xBFLa siguiente carta ser\xE1 mayor, menor o igual?"),k(),D(14,"div")(15,"button",10),ne("click",function(){return o.verificarAdivinanza("MAYOR")}),j(16," Mayor "),k(),D(17,"button",10),ne("click",function(){return o.verificarAdivinanza("IGUAL")}),j(18," Igual "),k(),D(19,"button",10),ne("click",function(){return o.verificarAdivinanza("MENOR")}),j(20," Menor "),k()()()()()),r&2&&($(6),Y_("background-image: url(",o.cartaActual==null?null:o.cartaActual.url,");"),$(4),Q_("Puntuacion: ",o.puntaje," - Intentos: ",o.intentos,""),$(5),de("disabled",o.botonDeshabilitado),$(2),de("disabled",o.botonDeshabilitado),$(2),de("disabled",o.botonDeshabilitado))},styles:['*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.min-100vh[_ngcontent-%COMP%]{min-height:100vh;background-image:url("./media/mayormenor-JQ3K36YC.webp");background-repeat:no-repeat;background-size:cover}.min-100vh[_ngcontent-%COMP%]:after{content:"";width:100%;height:100%;position:absolute;left:0;bottom:0;background-image:linear-gradient(to top,#000 0%,transparent);background-size:cover}.container[_ngcontent-%COMP%]{z-index:1;position:relative}.titulo[_ngcontent-%COMP%]{letter-spacing:10px;font-size:60px;color:#fff}.deck[_ngcontent-%COMP%]{display:flex;position:relative;justify-content:center;flex-wrap:wrap}.card[_ngcontent-%COMP%]{width:248px;height:380px;background:#fff;border-radius:20px;padding:18px 6px;margin:3px;font-size:70px;background-size:cover;background-position:center;background-repeat:no-repeat}.card[_ngcontent-%COMP%]:hover{box-shadow:2px 8px 10px #00000080;transform:translate(-1px,-6px);transition:transform .25s ease;will-change:transform;-webkit-user-select:none;user-select:none;cursor:pointer}.score-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:60px}.botones-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:30px}.botones-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-top:30px}.botones-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;background-color:#009970;color:#fff;border:3px solid #064131;border-radius:10px;width:12%;height:30%}.botones-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{transform:scale(.9)}']});let t=e;return t})();var OO=["determinateSpinner"];function MO(t,e){if(t&1&&(gd(),D(0,"svg",11),ce(1,"circle",12),k()),t&2){let n=ke();Je("viewBox",n._viewBox()),$(),Si("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeCircumference()/2,"px")("stroke-width",n._circleStrokeWidth(),"%"),Je("r",n._circleRadius())}}var NO=new G("mat-progress-spinner-default-options",{providedIn:"root",factory:FO});function FO(){return{diameter:sE}}var sE=100,VO=10,aE=(()=>{let e=class e{get color(){return this._color||this._defaultColor}set color(i){this._color=i}constructor(i,r,o){this._elementRef=i,this._defaultColor="primary",this._value=0,this._diameter=sE,this._noopAnimations=r==="NoopAnimations"&&!!o&&!o._forceAnimations,this.mode=i.nativeElement.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",o&&(o.color&&(this.color=this._defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth))}get value(){return this.mode==="determinate"?this._value:0}set value(i){this._value=Math.max(0,Math.min(100,i||0))}get diameter(){return this._diameter}set diameter(i){this._diameter=i||0}get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(i){this._strokeWidth=i||0}_circleRadius(){return(this.diameter-VO)/2}_viewBox(){let i=this._circleRadius()*2+this.strokeWidth;return`0 0 ${i} ${i}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}};e.\u0275fac=function(r){return new(r||e)(P(Ee),P(_t,8),P(NO))},e.\u0275cmp=ae({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,o){if(r&1&&Qn(OO,5),r&2){let s;Wt(s=Ht())&&(o._determinateCircle=s.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,o){r&2&&(Je("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",o.mode==="determinate"?o.value:null)("mode",o.mode),ec("mat-"+o.color),Si("width",o.diameter,"px")("height",o.diameter,"px")("--mdc-circular-progress-size",o.diameter+"px")("--mdc-circular-progress-active-indicator-width",o.diameter+"px"),vt("_mat-animation-noopable",o._noopAnimations)("mdc-circular-progress--indeterminate",o.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[se.HasDecoratorInputTransform,"value","value",rs],diameter:[se.HasDecoratorInputTransform,"diameter","diameter",rs],strokeWidth:[se.HasDecoratorInputTransform,"strokeWidth","strokeWidth",rs]},exportAs:["matProgressSpinner"],standalone:!0,features:[Ut,le],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,o){if(r&1&&(Ae(0,MO,2,8,"ng-template",null,0,uc),D(2,"div",2,1),gd(),D(4,"svg",3),ce(5,"circle",4),k()(),j_(),D(6,"div",5)(7,"div",6)(8,"div",7),ic(9,8),k(),D(10,"div",9),ic(11,8),k(),D(12,"div",10),ic(13,8),k()()()),r&2){let s=ac(1);$(4),Je("viewBox",o._viewBox()),$(),Si("stroke-dasharray",o._strokeCircumference(),"px")("stroke-dashoffset",o._strokeDashOffset(),"px")("stroke-width",o._circleStrokeWidth(),"%"),Je("r",o._circleRadius()),$(4),de("ngTemplateOutlet",s),$(2),de("ngTemplateOutlet",s),$(2),de("ngTemplateOutlet",s)}},dependencies:[nv],styles:["@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1568.2352941176ms linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--closed{opacity:0}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mdc-circular-progress-active-indicator-color)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner circle{stroke-width:var(--mdc-circular-progress-active-indicator-width)}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mat-mdc-progress-spinner .mdc-circular-progress--four-color .mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mat-mdc-progress-spinner .mdc-circular-progress{width:var(--mdc-circular-progress-size) !important;height:var(--mdc-circular-progress-size) !important}.mat-mdc-progress-spinner{display:block;overflow:hidden;line-height:0}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.cdk-high-contrast-active .mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}"],encapsulation:2,changeDetection:0});let t=e;return t})();var Do=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ge({type:e}),e.\u0275inj=pe({imports:[Pe,dn]});let t=e;return t})();function UO(t,e){if(t&1&&(D(0,"h1",6),j(1),k()),t&2){let n=ke(2);$(),Ue(n.counter)}}function jO(t,e){if(t&1&&(D(0,"div",1)(1,"h2",2),j(2,"El juego comienza en:"),k(),Ae(3,UO,2,1,"h1",3),D(4,"div",4),ce(5,"mat-spinner",5),k()()),t&2){let n=ke();$(3),de("ngIf",n.counter>0)}}var cE=(()=>{let e=class e{constructor(i){this.dialogRef=i,this.counter=3}ngOnInit(){this.startCountdown()}startCountdown(){this.interval=setInterval(()=>{this.counter>1?this.counter--:(this.counter=0,clearInterval(this.interval),this.dialogRef.close())},1e3)}};e.\u0275fac=function(r){return new(r||e)(P(Ln))},e.\u0275cmp=ae({type:e,selectors:[["app-spiner"]],standalone:!0,features:[le],decls:1,vars:1,consts:[["class","spinner-container","mat-dialog-content","",4,"ngIf"],["mat-dialog-content","",1,"spinner-container"],["mat-dialog-title","",1,"d-flex","text-center"],["class","text-center countdown",4,"ngIf"],[1,"d-flex","jaumeustify-content-center"],["diameter","100",2,"margin-top","20px"],[1,"text-center","countdown"]],template:function(r,o){r&1&&Ae(0,jO,6,1,"div",0),r&2&&de("ngIf",o.counter>0)},dependencies:[Pe,ct,Do,aE],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:30vh}.countdown[_ngcontent-%COMP%]{font-size:2rem;margin-top:1rem}"]});let t=e;return t})();function BO(t,e){if(t&1){let n=Yn();D(0,"button",9),ne("click",function(){Hn(n);let r=ke();return Kn(r.play())}),j(1,"Comenzar"),k()}if(t&2){let n=ke();de("disabled",n.botonDeshabilitado)}}var lE=(()=>{let e=class e{constructor(i){this.miDialog=i,this.zombies=[],this.vidas=3,this.puntos=0,this.timeSpawn=2e3,this.minSpawnTime=500,this.spawnReductionRate=100,this.botonDeshabilitado=!1,this.countdown=3,this.showSpinner=!1,this.dialog=M(fn)}ngAfterViewInit(){this.container=document.querySelector("#divTotal")}ngOnDestroy(){this.vidas=0,this.spawnIntervalId&&(clearInterval(this.spawnIntervalId),this.miDialog.closeAll())}capturarClick(i){i.target.classList.contains("zombie")&&(this.puntos++,i.target.remove(),this.adjustSpawnInterval())}spawnZombie(){if(console.log(this.vidas),this.vidas>0){let i=document.createElement("div");i.setAttribute("class","zombie"),i.setAttribute("draggable","false"),this.container.appendChild(i),this.zombies.push(i);let r=this.getRandom(240,480),o=r*.625,s=this.getRandom(0,160),c=480,l=240,d=45,p=49-d,y=(r-l)/(c-l),A=d+y*p;i.style.backgroundImage="url('../../../../assets/resistenciazombie/zombie.png')",i.style.backgroundSize="cover",i.style.backgroundRepeat="no-repeat",i.style.position="absolute",i.style.top=`${A}vh`,i.style.left=`${s}vh`,i.style.width=`${o}px`,i.style.height=`${r}px`,i.style.userSelect="none",i.style.border="none",i.style.padding="0",i.style.margin="0",i.style.boxSizing="border-box",setTimeout(()=>{i.parentNode&&(i.parentNode.removeChild(i),this.vidas--,this.vidas>0||(clearInterval(this.spawnIntervalId),this.openDialog(1),this.zombies.forEach(O=>{O.parentNode?.removeChild(O)})))},1e3)}}getRandom(i,r){return Math.floor(Math.random()*(r-i+1))+i}play(){this.botonDeshabilitado=!0,this.vidas=3,this.miDialog.open(cE,{width:"50vh",disableClose:!0}).afterClosed().subscribe(()=>{this.vidas>0&&(this.puntos=0,this.timeSpawn=2e3,this.spawnZombie(),this.spawnIntervalId=setInterval(this.spawnZombie.bind(this),this.timeSpawn))})}adjustSpawnInterval(){this.timeSpawn>this.minSpawnTime&&(this.timeSpawn-=this.spawnReductionRate,clearInterval(this.spawnIntervalId),this.spawnIntervalId=setInterval(this.spawnZombie.bind(this),this.timeSpawn))}openDialog(i){switch(this.botonDeshabilitado=!0,i){case 1:this.puntos>0?this.dialog.openDialog({tittle:"JUEGO TERMINADO",content:`Conseguiste matar: ${this.puntos} zombies.`,img:"../../../assets/victoria.png",retryAction:()=>this.play(),btn:"Jugar de Nuevo"}):this.dialog.openDialog({tittle:"PERDISTE",content:"Sigue intentando. No te rindas!",img:"../../../assets/derrota.png",retryAction:()=>this.play(),btn:"Jugar de Nuevo"});break;case 2:this.dialog.openDialog({tittle:"ESTAS LISTO?",content:"Oprime comenzar para iniciar el juego",img:"../../../assets/estaslisto.png",retryAction:()=>this.play(),btn:"Comenzar"});break}}};e.\u0275fac=function(r){return new(r||e)(P(hn))},e.\u0275cmp=ae({type:e,selectors:[["app-resistenciazombie"]],standalone:!0,features:[le],decls:11,vars:4,consts:[["id","divTotal",2,"top","100px",3,"click"],[1,"container-fluid","d-flex","align-items-center",2,"position","absolute","top","6vh","width","100%"],[2,"color","red","font-size","5vh","font-family","Rubik Wet Paint, sans-serif","padding","2vh"],[2,"color","black"],["draggable","false",1,"ms-auto",2,"user-select","none",3,"src"],[1,"container","d-flex","justify-content-center","align-items-center",2,"height","100vh"],[1,"row"],[1,"col-sm-12","text-center",2,"position","relative"],[3,"disabled","click",4,"ngIf"],[3,"click","disabled"]],template:function(r,o){r&1&&(D(0,"div",0),ne("click",function(c){return o.capturarClick(c)}),D(1,"div",1)(2,"p",2),j(3,"Puntos: "),D(4,"span",3),j(5),k()(),ce(6,"img",4),k(),D(7,"div",5)(8,"div",6)(9,"div",7),Ae(10,BO,2,1,"button",8),k()()()()),r&2&&($(5),Ue(o.puntos),$(),is("src","../../../../assets/resistenciazombie/vidas/vida.",o.vidas,".png",yn),$(4),de("ngIf",o.botonDeshabilitado==!1))},dependencies:[Do,Pe,ct],styles:['*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}#divTotal[_ngcontent-%COMP%]{height:100%;background-image:url("./media/fondo-XKB4DENZ.webp");background-repeat:no-repeat;background-size:cover;cursor:url("./media/cursor-REQE3WCX.png"),auto;width:100%}.bloodSpot[_ngcontent-%COMP%]{position:absolute;width:50px;height:50px;background-image:url("./media/blood-spot-XCU5YNC4.png");background-size:cover;pointer-events:none;opacity:.5}button[_ngcontent-%COMP%]{height:8vh;width:20vh;background-color:#4caf50;color:#fff;border:none;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:3vh;margin:4px 2px;cursor:pointer;transition:background-color .3s,transform .3s}button[_ngcontent-%COMP%]:hover{background-color:#45a049}button[_ngcontent-%COMP%]:active{background-color:#317835;transform:scale(.98)}']});let t=e;return t})();var uE=(()=>{let e=class e{constructor(){this.firestore=M(Nn)}guardarChats(i){let r=yu(this.firestore,"chats");return Kp(r,i)}obtenerChats(){let i=yu(this.firestore,"chats");return iI(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $O=["contenedorMensajes"];function qO(t,e){t&1&&(D(0,"div",15),ce(1,"div",16),k())}function GO(t,e){if(t&1&&(D(0,"p",17),j(1),D(2,"span"),j(3),k()()),t&2){let n=e.$implicit,i=ke().ngIf;de("ngClass",i.email===n.mail?"enviado":"recibido"),$(),kt(" ",n.texto," "),$(2),Ue(n.date)}}function WO(t,e){if(t&1){let n=Yn();tc(0),D(1,"div",3),j(2,"CHAT"),k(),D(3,"div",4,0),Ae(5,qO,2,0,"div",5),D(6,"div",6),Ae(7,GO,4,3,"p",7),k()(),ce(8,"div",8),D(9,"div",9)(10,"form",10),ne("ngSubmit",function(){Hn(n);let r=ke();return Kn(r.enviarMensaje())}),D(11,"div",11),ce(12,"input",12),D(13,"button",13),ce(14,"img",14),k()()()(),nc()}if(t&2){let n=ke();$(5),de("ngIf",n.isLoading),$(2),de("ngForOf",n.mensajes),$(3),de("formGroup",n.form)}}var dE=(()=>{let e=class e{constructor(i,r,o){this.chatService=i,this.userAuthService=r,this.formB=o,this.mensajes=[],this.isLoading=!0,this.form=this.formB.nonNullable.group({mensaje:["",Gc.required]}),this.auxObservable$=this.userAuthService.getUser(),this.auxObservable$.subscribe(s=>{this.user$=s})}ngOnInit(){this.chatService.obtenerChats().subscribe(i=>{i.sort((r,o)=>r.date.localeCompare(o.date)),this.mensajes=i,this.isLoading=!1})}ngAfterViewChecked(){this.mensajes.length>0&&this.scrollToBottom()}enviarMensaje(){let i=this.form.getRawValue(),r=new Date,o={texto:i.mensaje,mail:this.user$?.email||"",date:`${r.toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})} - ${r.toLocaleTimeString()}`};this.chatService.guardarChats(o),this.form.setValue({mensaje:""}),this.scrollToBottom()}scrollToBottom(){try{this.contenedorMensajes.nativeElement.scrollTop=this.contenedorMensajes.nativeElement.scrollHeight}catch(i){console.error("Error scrolling to bottom",i)}}};e.\u0275fac=function(r){return new(r||e)(P(uE),P(nn),P(Fb))},e.\u0275cmp=ae({type:e,selectors:[["app-chat"]],viewQuery:function(r,o){if(r&1&&Qn($O,5),r&2){let s;Wt(s=Ht())&&(o.contenedorMensajes=s.first)}},standalone:!0,features:[le],decls:3,vars:3,consts:[["contenedorMensajes",""],["id","divTotal"],[4,"ngIf"],[1,"header"],[1,"card-body"],["class","spinner-container",4,"ngIf"],["data-bs-spy","scroll",1,"contenedorMensajes",2,"padding-bottom","5px"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"espaciador"],[1,"card-footer","text-body-secondary","contenedorFooter"],[3,"ngSubmit","formGroup"],[1,"input-group","mb-3"],["type","text","placeholder","Ingrese su mensaje","formControlName","mensaje",1,"form-control"],["id","basic-addon2",1,"input-group-text"],["src","../../../assets/iconoenviar.png",1,"botonEnviar"],[1,"spinner-container"],["role","status",1,"spinner-border"],[3,"ngClass"]],template:function(r,o){r&1&&(D(0,"div",1),Ae(1,WO,15,3,"ng-container",2),cc(2,"async"),k()),r&2&&($(),de("ngIf",lc(2,1,o.auxObservable$)))},dependencies:[Vb,Vr,ri,Nr,Fr,Ph,Oh,Pe,mc,pc,ct,gc],styles:["#divTotal[_ngcontent-%COMP%]{position:fixed;top:55px;left:0;height:100%;width:100%;background-repeat:no-repeat;height:calc(100% - 55px);background-size:cover;z-index:8;display:flex;flex-direction:column}.header[_ngcontent-%COMP%], .header2[_ngcontent-%COMP%]{background-color:#431d88;color:#fff;font-weight:700;padding:1rem;text-align:center}.card-body[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:1rem;background-color:#fff}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.botonEnviar[_ngcontent-%COMP%]{width:30px;height:30px}.enviado[_ngcontent-%COMP%], .recibido[_ngcontent-%COMP%]{padding:.5rem;display:block;color:#fff;min-width:50.01%;border-radius:16px;text-align:left;max-width:80%;margin-bottom:.5rem;word-wrap:break-word}.enviado[_ngcontent-%COMP%]{float:right;background:linear-gradient(45deg,#650ebd,#d23aca)}.recibido[_ngcontent-%COMP%]{float:left;background-color:gray}p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:#ffffffb2}.contenedorFooter[_ngcontent-%COMP%]{padding:1rem;background-color:#431d88}.input-group[_ngcontent-%COMP%]{display:flex;width:100%}.spinner-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.3rem}.espaciador[_ngcontent-%COMP%]{height:.5rem}"]});let t=e;return t})();var hE=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:eE},{path:"login",component:oI},{path:"register",component:sI},{path:"aboutus",component:tE},{path:"ahorcado",component:nE},{path:"mayormenor",component:oE},{path:"preguntados",component:rE},{path:"resistenciazombie",component:lE},{path:"chat",component:dE}];var HO="@",KO=(()=>{let e=class e{constructor(i,r,o,s,c){this.doc=i,this.delegate=r,this.zone=o,this.animationType=s,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=M(G_,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-FGZ4DC65.js")).catch(r=>{throw new xe(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc,this.scheduler);let s=new o(this.delegate,this._engine,this.zone);return this.delegate=s,s})}createRenderer(i,r){let o=this.delegate.createRenderer(i,r);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let s=new xg(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let l=c.createRenderer(i,r);s.use(l)}).catch(c=>{s.use(o)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};e.\u0275fac=function(r){es()},e.\u0275prov=B({token:e,factory:e.\u0275fac});let t=e;return t})(),xg=class{constructor(e){this.delegate=e,this.replay=[],this.\u0275type=1}use(e){if(this.delegate=e,this.replay!==null){for(let n of this.replay)n(e);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}get destroyNode(){return this.delegate.destroyNode}appendChild(e,n){this.delegate.appendChild(e,n)}insertBefore(e,n,i,r){this.delegate.insertBefore(e,n,i,r)}removeChild(e,n,i){this.delegate.removeChild(e,n,i)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){this.shouldReplay(n)&&this.replay.push(r=>r.setProperty(e,n,i)),this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.shouldReplay(n)&&this.replay.push(r=>r.listen(e,n,i)),this.delegate.listen(e,n,i)}shouldReplay(e){return this.replay!==null&&e.startsWith(HO)}};function fE(t="animations"){return vd("NgAsyncAnimations"),Tt([{provide:Za,useFactory:(e,n,i)=>new KO(e,n,i,t),deps:[ie,Ac,J]},{provide:_t,useValue:t==="noop"?"NoopAnimations":"BrowserAnimations"}])}var mE={providers:[rb(hE),dy(()=>hy({projectId:"sala-de-juegos-6a481",appId:"1:1060868848914:web:bb147d11e696e109e3c7cb",storageBucket:"sala-de-juegos-6a481.appspot.com",apiKey:"AIzaSyCWYxD4F04BE-NbyO3jTbDHwXywHDa0qZo",authDomain:"sala-de-juegos-6a481.firebaseapp.com",messagingSenderId:"1060868848914"})),l0(()=>h0()),nI(()=>rI()),xd(),fE(),{provide:Sg,useValue:{hasBackdrop:!1}},L_(So,Do,xo)]};function YO(t,e){if(t&1){let n=Yn();tc(0),D(1,"li",9)(2,"a",13),j(3),k()(),D(4,"li",9)(5,"a",14),j(6,"Sala Chat"),k()(),D(7,"li",9)(8,"a",15),ne("click",function(){Hn(n);let r=ke();return Kn(r.logOut())}),j(9,"LogOut"),k()(),nc()}if(t&2){let n=ke();$(3),Ue(n.userValue.email)}}function QO(t,e){t&1&&(D(0,"li",9)(1,"a",16),j(2,"LogIn"),k()())}var pE=(()=>{let e=class e{constructor(i,r,o){this.dialog=i,this.router=r,this.miDialog=o,this.navigationSubscription=null,this.authservice=M(nn),this.userObs$=this.authservice.getUser(),this.userObs$.subscribe(s=>{this.userValue=s})}ngOnInit(){this.navigationSubscription=this.router.events.subscribe(i=>{i instanceof ki&&(this.dialog.closeAll(),this.miDialog.closeAll())})}logOut(){return b(this,null,function*(){try{yield this.authservice.logOut()}catch(i){console.log(i)}this.router.navigateByUrl("/home")})}};e.\u0275fac=function(r){return new(r||e)(P(hn),P(yt),P(hn))},e.\u0275cmp=ae({type:e,selectors:[["app-nav"]],standalone:!0,features:[le],decls:17,vars:2,consts:[["MostrarUsuario",""],[1,"navbar","navbar-expand-lg",2,"background-color","rgb(42, 45, 70)","position","fixed","width","100%","z-index","1000"],[1,"container-fluid",2,"position","relative"],["href","",1,"navbar-brand"],["src","../../../assets/icon.png","alt","Bootstrap","width","65","height","24"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",2,"position","absolute","top","50%","left","50%","transform","translate(-50%, -50%)"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","opciones"],["routerLink","home","routerLinkActive","active-route",1,"nav-link","active","text-white","oscurecer"],["routerLink","aboutus","routerLinkActive","active-route",1,"nav-link","text-white","oscurecer"],[4,"ngIf","ngIfElse"],[1,"nav-link","text-white","oscurecer",2,"user-select","none"],["routerLink","chat","routerLinkActive","active-route",1,"nav-link","text-white","oscurecer"],[1,"nav-link","text-white","oscurecerLogOut",2,"user-select","none","cursor","pointer",3,"click"],["routerLink","login","routerLinkActive","active-route",1,"nav-link","text-white","oscurecer"]],template:function(r,o){if(r&1&&(D(0,"nav",1)(1,"div",2)(2,"a",3),ce(3,"img",4),k(),D(4,"button",5),ce(5,"span",6),k(),D(6,"div",7)(7,"ul",8)(8,"li",9)(9,"a",10),j(10,"Inicio"),k()(),D(11,"li",9)(12,"a",11),j(13,"Quien Soy"),k()(),Ae(14,YO,10,1,"ng-container",12)(15,QO,3,0,"ng-template",null,0,uc),k()()()()),r&2){let s=ac(16);$(14),de("ngIf",o.userValue!=null)("ngIfElse",s)}},dependencies:[ti,ib,Pe,ct],styles:["*[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.opciones[_ngcontent-%COMP%]{margin-left:20px}.oscurecer[_ngcontent-%COMP%]:hover{background-color:#999;color:#fff}.oscurecerLogOut[_ngcontent-%COMP%]:hover{background-color:#c04040;color:#fff}"]});let t=e;return t})();var gE=(()=>{let e=class e{constructor(){this.title="SalaDeJuegos"}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=ae({type:e,selectors:[["app-root"]],standalone:!0,features:[le],decls:2,vars:0,template:function(r,o){r&1&&ce(0,"app-nav")(1,"router-outlet")},dependencies:[gh,Pe,pE],styles:['.background-image[_ngcontent-%COMP%]{position:relative;z-index:0}.background-image[_ngcontent-%COMP%]:before{content:"";position:absolute;width:100%;height:100%;background-image:url(https://i.blogs.es/4d650a/gogga/1366_2000.jpeg);background-size:cover;background-position:center;opacity:.3;z-index:-1}']});let t=e;return t})();Iv(gE,mE).catch(t=>console.error(t));
